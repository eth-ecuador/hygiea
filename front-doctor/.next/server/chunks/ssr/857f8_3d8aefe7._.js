module.exports=[267906,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},878888,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},736067,390221,560027,a=>{"use strict";let b,c;var d,e,f,g,h,i,j,k,l=a.i(920770),m=a.i(571120),n=a.i(107442),o=a.i(187573),p=class extends o.Removable{#a;#b;#c;#d;#e;#f;#g;constructor(a){super(),this.#g=!1,this.#f=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#d=a.client,this.#c=this.#d.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#a=s(this.options),this.state=a.state??this.#a,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#e?.promise}setOptions(a){if(this.options={...this.#f,...a},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let a=s(this.options);void 0!==a.data&&(this.setState(r(a.data,a.dataUpdatedAt)),this.#a=a)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(a,b){let c=(0,l.replaceData)(this.state.data,a,this.options);return this.#h({data:c,type:"success",dataUpdatedAt:b?.updatedAt,manual:b?.manual}),c}setState(a,b){this.#h({type:"setState",state:a,setStateOptions:b})}cancel(a){let b=this.#e?.promise;return this.#e?.cancel(a),b?b.then(l.noop).catch(l.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#a)}isActive(){return this.observers.some(a=>!1!==(0,l.resolveEnabled)(a.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l.skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(a=>"static"===(0,l.resolveStaleTime)(a.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(a=0){return void 0===this.state.data||"static"!==a&&(!!this.state.isInvalidated||!(0,l.timeUntilStale)(this.state.dataUpdatedAt,a))}onFocus(){let a=this.observers.find(a=>a.shouldFetchOnWindowFocus());a?.refetch({cancelRefetch:!1}),this.#e?.continue()}onOnline(){let a=this.observers.find(a=>a.shouldFetchOnReconnect());a?.refetch({cancelRefetch:!1}),this.#e?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(b=>b!==a),this.observers.length||(this.#e&&(this.#g?this.#e.cancel({revert:!0}):this.#e.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}async fetch(a,b){let c;if("idle"!==this.state.fetchStatus&&this.#e?.status()!=="rejected"){if(void 0!==this.state.data&&b?.cancelRefetch)this.cancel({silent:!0});else if(this.#e)return this.#e.continueRetry(),this.#e.promise}if(a&&this.setOptions(a),!this.options.queryFn){let a=this.observers.find(a=>a.options.queryFn);a&&this.setOptions(a.options)}let d=new AbortController,e=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#g=!0,d.signal)})},f=()=>{let a,c=(0,l.ensureQueryFn)(this.options,b),d=(e(a={client:this.#d,queryKey:this.queryKey,meta:this.meta}),a);return(this.#g=!1,this.options.persister)?this.options.persister(c,d,this):c(d)},g=(e(c={fetchOptions:b,options:this.options,queryKey:this.queryKey,client:this.#d,state:this.state,fetchFn:f}),c);this.options.behavior?.onFetch(g,this),this.#b=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==g.fetchOptions?.meta)&&this.#h({type:"fetch",meta:g.fetchOptions?.meta}),this.#e=(0,n.createRetryer)({initialPromise:b?.initialPromise,fn:g.fetchFn,onCancel:a=>{a instanceof n.CancelledError&&a.revert&&this.setState({...this.#b,fetchStatus:"idle"}),d.abort()},onFail:(a,b)=>{this.#h({type:"failed",failureCount:a,error:b})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0});try{let a=await this.#e.start();if(void 0===a)throw Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#c.config.onSuccess?.(a,this),this.#c.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof n.CancelledError){if(a.silent)return this.#e.promise;else if(a.revert){if(void 0===this.state.data)throw a;return this.state.data}}throw this.#h({type:"error",error:a}),this.#c.config.onError?.(a,this),this.#c.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#h(a){let b=b=>{switch(a.type){case"failed":return{...b,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...b,fetchStatus:"paused"};case"continue":return{...b,fetchStatus:"fetching"};case"fetch":return{...b,...q(b.data,this.options),fetchMeta:a.meta??null};case"success":let c={...b,...r(a.data,a.dataUpdatedAt),dataUpdateCount:b.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#b=a.manual?c:void 0,c;case"error":let d=a.error;return{...b,error:d,errorUpdateCount:b.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:b.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...b,isInvalidated:!0};case"setState":return{...b,...a.state}}};this.state=b(this.state),m.notifyManager.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:a})})}};function q(a,b){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.canFetch)(b.networkMode)?"fetching":"paused",...void 0===a&&{error:null,status:"pending"}}}function r(a,b){return{data:a,dataUpdatedAt:b??Date.now(),error:null,isInvalidated:!1,status:"success"}}function s(a){let b="function"==typeof a.initialData?a.initialData():a.initialData,c=void 0!==b,d=c?"function"==typeof a.initialDataUpdatedAt?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:b,dataUpdateCount:0,dataUpdatedAt:c?d??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"pending",fetchStatus:"idle"}}function t(a){return{onFetch:(b,c)=>{let d=b.options,e=b.fetchOptions?.meta?.fetchMore?.direction,f=b.state.data?.pages||[],g=b.state.data?.pageParams||[],h={pages:[],pageParams:[]},i=0,j=async()=>{let c=!1,j=(0,l.ensureQueryFn)(b.options,b.fetchOptions),k=async(a,d,e)=>{let f;if(c)return Promise.reject();if(null==d&&a.pages.length)return Promise.resolve(a);let g=(Object.defineProperty(f={client:b.client,queryKey:b.queryKey,pageParam:d,direction:e?"backward":"forward",meta:b.options.meta},"signal",{enumerable:!0,get:()=>(b.signal.aborted?c=!0:b.signal.addEventListener("abort",()=>{c=!0}),b.signal)}),f),h=await j(g),{maxPages:i}=b.options,k=e?l.addToStart:l.addToEnd;return{pages:k(a.pages,h,i),pageParams:k(a.pageParams,d,i)}};if(e&&f.length){let a="backward"===e,b={pages:f,pageParams:g},c=(a?v:u)(d,b);h=await k(b,c,a)}else{let b=a??f.length;do{let a=0===i?g[0]??d.initialPageParam:u(d,h);if(i>0&&null==a)break;h=await k(h,a),i++}while(i<b)}return h};b.options.persister?b.fetchFn=()=>b.options.persister?.(j,{client:b.client,queryKey:b.queryKey,meta:b.options.meta,signal:b.signal},c):b.fetchFn=j}}}function u(a,{pages:b,pageParams:c}){let d=b.length-1;return b.length>0?a.getNextPageParam(b[d],b,c[d],c):void 0}function v(a,{pages:b,pageParams:c}){return b.length>0?a.getPreviousPageParam?.(b[0],b,c[0],c):void 0}function w(a,b){return!!b&&null!=u(a,b)}function x(a,b){return!!b&&!!a.getPreviousPageParam&&null!=v(a,b)}a.s(["Query",()=>p,"fetchState",()=>q],736067),a.s(["hasNextPage",()=>w,"hasPreviousPage",()=>x,"infiniteQueryBehavior",()=>t],390221);var y=a.i(968894);let z=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>z(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>z(b)(a)}}},A=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},B=a=>a?A(a):A;var C=a.i(481476),D=a.i(875032),E=a.i(736101),F=a.i(827285),G=a.i(866933),H=a.i(203810),I=a.i(992903);function J(a={}){let b,c,d,e,{shimDisconnect:f=!0,unstable_shimAsyncInject:g}=a;function h(){let b=a.target;if("function"==typeof b){let a=b();if(a)return a}return"object"==typeof b?b:"string"==typeof b?{...K[b]??{id:b,name:`${b[0].toUpperCase()}${b.slice(1)}`,provider:`is${b[0].toUpperCase()}${b.slice(1)}`}}:{id:"injected",name:"Injected",provider:a=>a?.ethereum}}return i=>({get icon(){return h().icon},get id(){return h().id},get name(){return h().name},type:J.type,async setup(){let c=await this.getProvider();c?.on&&a.target&&(d||(d=this.onConnect.bind(this),c.on("connect",d)),b||(b=this.onAccountsChanged.bind(this),c.on("accountsChanged",b)))},async connect({chainId:g,isReconnecting:h,withCapabilities:j}={}){let k=await this.getProvider();if(!k)throw new I.ProviderNotFoundError;let l=[];if(h)l=await this.getAccounts().catch(()=>[]);else if(f)try{let a=await k.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});(l=a[0]?.caveats?.[0]?.value?.map(a=>(0,C.getAddress)(a))).length>0&&(l=await this.getAccounts())}catch(a){if(a.code===E.UserRejectedRequestError.code)throw new E.UserRejectedRequestError(a);if(a.code===E.ResourceUnavailableRpcError.code)throw a}try{l?.length||h||(l=(await k.request({method:"eth_requestAccounts"})).map(a=>(0,C.getAddress)(a))),d&&(k.removeListener("connect",d),d=void 0),b||(b=this.onAccountsChanged.bind(this),k.on("accountsChanged",b)),c||(c=this.onChainChanged.bind(this),k.on("chainChanged",c)),e||(e=this.onDisconnect.bind(this),k.on("disconnect",e));let m=await this.getChainId();if(g&&m!==g){let a=await this.switchChain({chainId:g}).catch(a=>{if(a.code===E.UserRejectedRequestError.code)throw a;return{id:m}});m=a?.id??m}return f&&await i.storage?.removeItem(`${this.id}.disconnected`),a.target||await i.storage?.setItem("injected.connected",!0),{accounts:j?l.map(a=>({address:a,capabilities:{}})):l,chainId:m}}catch(a){if(a.code===E.UserRejectedRequestError.code)throw new E.UserRejectedRequestError(a);if(a.code===E.ResourceUnavailableRpcError.code)throw new E.ResourceUnavailableRpcError(a);throw a}},async disconnect(){let b=await this.getProvider();if(!b)throw new I.ProviderNotFoundError;c&&(b.removeListener("chainChanged",c),c=void 0),e&&(b.removeListener("disconnect",e),e=void 0),d||(d=this.onConnect.bind(this),b.on("connect",d));try{await (0,G.withTimeout)(()=>b.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}f&&await i.storage?.setItem(`${this.id}.disconnected`,!0),a.target||await i.storage?.removeItem("injected.connected")},async getAccounts(){let a=await this.getProvider();if(!a)throw new I.ProviderNotFoundError;return(await a.request({method:"eth_accounts"})).map(a=>(0,C.getAddress)(a))},async getChainId(){let a=await this.getProvider();if(!a)throw new I.ProviderNotFoundError;return Number(await a.request({method:"eth_chainId"}))},async getProvider(){},async isAuthorized(){try{if(f&&await i.storage?.getItem(`${this.id}.disconnected`)||!a.target&&!await i.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==g&&!1!==g){let a=async()=>!!await this.getProvider(),b="number"==typeof g?g:1e3;if(await Promise.race([new Promise(c=>setTimeout(()=>c(a()),b))]))return!0}throw new I.ProviderNotFoundError}return!!(await (0,F.withRetry)(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:b}){let c=await this.getProvider();if(!c)throw new I.ProviderNotFoundError;let d=i.chains.find(a=>a.id===b);if(!d)throw new E.SwitchChainError(new H.ChainNotConfiguredError);let e=new Promise(a=>{let c=d=>{"chainId"in d&&d.chainId===b&&(i.emitter.off("change",c),a())};i.emitter.on("change",c)});try{return await Promise.all([c.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,D.numberToHex)(b)}]}).then(async()=>{await this.getChainId()===b&&i.emitter.emit("change",{chainId:b})}),e]),d}catch(f){if(4902===f.code||f?.data?.originalError?.code===4902)try{let f,g,{default:h,...j}=d.blockExplorers??{};a?.blockExplorerUrls?f=a.blockExplorerUrls:h&&(f=[h.url,...Object.values(j).map(a=>a.url)]),g=a?.rpcUrls?.length?a.rpcUrls:[d.rpcUrls.default?.http[0]??""];let k={blockExplorerUrls:f,chainId:(0,D.numberToHex)(b),chainName:a?.chainName??d.name,iconUrls:a?.iconUrls,nativeCurrency:a?.nativeCurrency??d.nativeCurrency,rpcUrls:g};return await Promise.all([c.request({method:"wallet_addEthereumChain",params:[k]}).then(async()=>{if(await this.getChainId()===b)i.emitter.emit("change",{chainId:b});else throw new E.UserRejectedRequestError(Error("User rejected switch after adding network."))}),e]),d}catch(a){throw new E.UserRejectedRequestError(a)}if(f.code===E.UserRejectedRequestError.code)throw new E.UserRejectedRequestError(f);throw new E.SwitchChainError(f)}},async onAccountsChanged(a){if(0===a.length)this.onDisconnect();else if(i.emitter.listenerCount("connect")){let a=(await this.getChainId()).toString();this.onConnect({chainId:a}),f&&await i.storage?.removeItem(`${this.id}.disconnected`)}else i.emitter.emit("change",{accounts:a.map(a=>(0,C.getAddress)(a))})},onChainChanged(a){let b=Number(a);i.emitter.emit("change",{chainId:b})},async onConnect(a){let f=await this.getAccounts();if(0===f.length)return;let g=Number(a.chainId);i.emitter.emit("connect",{accounts:f,chainId:g});let h=await this.getProvider();h&&(d&&(h.removeListener("connect",d),d=void 0),b||(b=this.onAccountsChanged.bind(this),h.on("accountsChanged",b)),c||(c=this.onChainChanged.bind(this),h.on("chainChanged",c)),e||(e=this.onDisconnect.bind(this),h.on("disconnect",e)))},async onDisconnect(a){let b=await this.getProvider();a&&1013===a.code&&b&&(await this.getAccounts()).length||(i.emitter.emit("disconnect"),b&&(c&&(b.removeListener("chainChanged",c),c=void 0),e&&(b.removeListener("disconnect",e),e=void 0),d||(d=this.onConnect.bind(this),b.on("connect",d))))}})}J.type="injected";let K={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:a=>a?.coinbaseWalletExtension?a.coinbaseWalletExtension:L(a,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:a=>L(a,a=>{if(!a.isMetaMask||a.isBraveWallet&&!a._events&&!a._state)return!1;for(let b of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"])if(a[b])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:a=>a?.phantom?.ethereum?a.phantom?.ethereum:L(a,"isPhantom")}};function L(a,b){function c(a){return"function"==typeof b?b(a):"string"!=typeof b||a[b]}let d=a.ethereum;return d?.providers?d.providers.find(a=>c(a)):d&&c(d)?d:void 0}var M=a.i(267906);M.default;class N{constructor(a){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new M.default})}on(a,b){this._emitter.on(a,b)}once(a,b){this._emitter.once(a,b)}off(a,b){this._emitter.off(a,b)}emit(a,...b){let c=b[0];this._emitter.emit(a,{uid:this.uid,...c})}listenerCount(a){return this._emitter.listenerCount(a)}}function O(a,b){return JSON.parse(a,(a,c)=>{let d=c;return d?.__type==="bigint"&&(d=BigInt(d.value)),d?.__type==="Map"&&(d=new Map(d.value)),b?.(a,d)??d})}function P(a,b){return a.slice(0,b).join(".")||"."}function Q(a,b){let{length:c}=a;for(let d=0;d<c;++d)if(a[d]===b)return d+1;return 0}function R(a,b,c,d){var e;let f,g,h,i;return JSON.stringify(a,(e=(a,c)=>{let d=c;return"bigint"==typeof d&&(d={__type:"bigint",value:c.toString()}),d instanceof Map&&(d={__type:"Map",value:Array.from(c.entries())}),b?.(a,d)??d},f=true,g="function"==typeof d,h=[],i=[],function(a,b){if("object"==typeof b)if(h.length){let c=Q(h,this);0===c?h[h.length]=this:(h.splice(c),i.splice(c)),i[i.length]=a;let e=Q(h,b);if(0!==e)return g?d.call(this,a,b,P(i,e)):`[ref=${P(i,e)}]`}else h[0]=b,i[0]=a;return f?e.call(this,a,b):b}),c??void 0)}let S={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},T=256;var U=a.i(239829),V=a.i(219993),W=a.i(108389);function X(a){return"string"==typeof a&&!!a.match(/^0x[0-9A-Fa-f]*$/)&&("number"!=typeof!0||4===a.length)&&a.length%2==0||a instanceof Uint8Array}function Y(a,b,c){if(a instanceof Uint8Array)return c?new Uint8Array(a):a;if("string"==typeof a&&a.match(/^0x([0-9a-f][0-9a-f])*$/i)){let b=new Uint8Array((a.length-2)/2),c=2;for(let d=0;d<b.length;d++)b[d]=parseInt(a.substring(c,c+2),16),c+=2;return b}throw Error(`invalid BytesLike value ${null!=b?b:""}`)}let Z="0123456789abcdef";function $(a){let b=Y(a),c="0x";for(let a=0;a<b.length;a++){let d=b[a];c+=Z[(240&d)>>4]+Z[15&d]}return c}let _=["string","number","bigint","symbol"],aa=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class ab{constructor(a,b,c){this.major=a,this.majorEncoded=a<<5,this.name=b,this.terminal=c}toString(){return`Type[${this.major}].${this.name}`}compare(a){return this.major<a.major?-1:+(this.major>a.major)}}ab.uint=new ab(0,"uint",!0),ab.negint=new ab(1,"negint",!0),ab.bytes=new ab(2,"bytes",!0),ab.string=new ab(3,"string",!0),ab.array=new ab(4,"array",!1),ab.map=new ab(5,"map",!1),ab.tag=new ab(6,"tag",!1),ab.float=new ab(7,"float",!0),ab.false=new ab(7,"false",!0),ab.true=new ab(7,"true",!0),ab.null=new ab(7,"null",!0),ab.undefined=new ab(7,"undefined",!0),ab.break=new ab(7,"break",!0);class ac{constructor(a,b,c){this.type=a,this.value=b,this.encodedLength=c,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}let ad=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,ae=new TextDecoder,af=new TextEncoder;function ag(a){return ad&&globalThis.Buffer.isBuffer(a)}function ah(a){return a instanceof Uint8Array?ag(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a:Uint8Array.from(a)}let ai=ad?(a,b,c)=>c-b>64?globalThis.Buffer.from(a.subarray(b,c)).toString("utf8"):ao(a,b,c):(a,b,c)=>c-b>64?ae.decode(a.subarray(b,c)):ao(a,b,c),aj=ad?a=>a.length>64?globalThis.Buffer.from(a):an(a):a=>a.length>64?af.encode(a):an(a),ak=ad?(a,b,c)=>ag(a)?new Uint8Array(a.subarray(b,c)):a.slice(b,c):(a,b,c)=>a.slice(b,c),al=ad?(a,b)=>(a=a.map(a=>a instanceof Uint8Array?a:globalThis.Buffer.from(a)),ah(globalThis.Buffer.concat(a,b))):(a,b)=>{let c=new Uint8Array(b),d=0;for(let b of a)d+b.length>c.length&&(b=b.subarray(0,c.length-d)),c.set(b,d),d+=b.length;return c},am=ad?a=>globalThis.Buffer.allocUnsafe(a):a=>new Uint8Array(a);function an(a,b=1/0){let c,d=a.length,e=null,f=[];for(let g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319||g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else if(c<1114112){if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}else throw Error("Invalid code point")}return f}function ao(a,b,c){let d=[];for(;b<c;){let e=a[b],f=null,g=e>239?4:e>223?3:e>191?2:1;if(b+g<=c){let c,d,h,i;switch(g){case 1:e<128&&(f=e);break;case 2:(192&(c=a[b+1]))==128&&(i=(31&e)<<6|63&c)>127&&(f=i);break;case 3:c=a[b+1],d=a[b+2],(192&c)==128&&(192&d)==128&&(i=(15&e)<<12|(63&c)<<6|63&d)>2047&&(i<55296||i>57343)&&(f=i);break;case 4:c=a[b+1],d=a[b+2],h=a[b+3],(192&c)==128&&(192&d)==128&&(192&h)==128&&(i=(15&e)<<18|(63&c)<<12|(63&d)<<6|63&h)>65535&&i<1114112&&(f=i)}}null===f?(f=65533,g=1):f>65535&&(f-=65536,d.push(f>>>10&1023|55296),f=56320|1023&f),d.push(f),b+=g}var e=d;let f=e.length;if(f<=4096)return String.fromCharCode.apply(String,e);let g="",h=0;for(;h<f;)g+=String.fromCharCode.apply(String,e.slice(h,h+=4096));return g}class ap{constructor(a=256){this.chunkSize=a,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(a){let b=this.chunks[this.chunks.length-1];if(this.cursor+a.length<=this.maxCursor+1){let c=b.length-(this.maxCursor-this.cursor)-1;b.set(a,c)}else{if(b){let a=b.length-(this.maxCursor-this.cursor)-1;a<b.length&&(this.chunks[this.chunks.length-1]=b.subarray(0,a),this.maxCursor=this.cursor-1)}a.length<64&&a.length<this.chunkSize?(b=am(this.chunkSize),this.chunks.push(b),this.maxCursor+=b.length,null===this._initReuseChunk&&(this._initReuseChunk=b),b.set(a,0)):(this.chunks.push(a),this.maxCursor+=a.length)}this.cursor+=a.length}toBytes(a=!1){let b;if(1===this.chunks.length){let c=this.chunks[0];a&&this.cursor>c.length/2?(b=this.cursor===c.length?c:c.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):b=ak(c,0,this.cursor)}else b=al(this.chunks,this.cursor);return a&&this.reset(),b}}let aq="CBOR decode error:",ar="CBOR encode error:",as=[];function at(a,b,c){if(a.length-b<c)throw Error(`${aq} not enough data for type`)}as[23]=1,as[24]=2,as[25]=3,as[26]=5,as[27]=9;let au=[24,256,65536,0x100000000,BigInt("18446744073709551616")];function av(a,b,c){at(a,b,1);let d=a[b];if(!0===c.strict&&d<au[0])throw Error(`${aq} integer encoded in more bytes than necessary (strict decode)`);return d}function aw(a,b,c){at(a,b,2);let d=a[b]<<8|a[b+1];if(!0===c.strict&&d<au[1])throw Error(`${aq} integer encoded in more bytes than necessary (strict decode)`);return d}function ax(a,b,c){at(a,b,4);let d=0x1000000*a[b]+(a[b+1]<<16)+(a[b+2]<<8)+a[b+3];if(!0===c.strict&&d<au[2])throw Error(`${aq} integer encoded in more bytes than necessary (strict decode)`);return d}function ay(a,b,c){at(a,b,8);let d=0x1000000*a[b]+(a[b+1]<<16)+(a[b+2]<<8)+a[b+3],e=0x1000000*a[b+4]+(a[b+5]<<16)+(a[b+6]<<8)+a[b+7],f=(BigInt(d)<<BigInt(32))+BigInt(e);if(!0===c.strict&&f<au[3])throw Error(`${aq} integer encoded in more bytes than necessary (strict decode)`);if(f<=Number.MAX_SAFE_INTEGER)return Number(f);if(!0===c.allowBigInt)return f;throw Error(`${aq} integers outside of the safe integer range are not supported`)}function az(a,b){return aA(a,0,b.value)}function aA(a,b,c){if(c<au[0]){let d=Number(c);a.push([b|d])}else if(c<au[1]){let d=Number(c);a.push([24|b,d])}else if(c<au[2]){let d=Number(c);a.push([25|b,d>>>8,255&d])}else if(c<au[3]){let d=Number(c);a.push([26|b,d>>>24&255,d>>>16&255,d>>>8&255,255&d])}else{let d=BigInt(c);if(d<au[4]){let c=[27|b,0,0,0,0,0,0,0],e=Number(d&BigInt(0xffffffff)),f=Number(d>>BigInt(32)&BigInt(0xffffffff));c[8]=255&e,e>>=8,c[7]=255&e,e>>=8,c[6]=255&e,e>>=8,c[5]=255&e,c[4]=255&f,f>>=8,c[3]=255&f,f>>=8,c[2]=255&f,f>>=8,c[1]=255&f,a.push(c)}else throw Error(`${aq} encountered BigInt larger than allowable range`)}}az.encodedSize=function(a){return aA.encodedSize(a.value)},aA.encodedSize=function(a){return a<au[0]?1:a<au[1]?2:a<au[2]?3:a<au[3]?5:9},az.compareTokens=function(a,b){return a.value<b.value?-1:+(a.value>b.value)};let aB=BigInt(-1),aC=BigInt(1);function aD(a,b){let c=b.value;aA(a,b.type.majorEncoded,"bigint"==typeof c?c*aB-aC:-1*c-1)}function aE(a,b,c,d){at(a,b,c+d);let e=ak(a,b+c,b+c+d);return new ac(ab.bytes,e,c+d)}function aF(a,b,c,d){return aE(a,b,1,c)}function aG(a){return void 0===a.encodedBytes&&(a.encodedBytes=a.type===ab.string?aj(a.value):a.value),a.encodedBytes}function aH(a,b){let c=aG(b);aA(a,b.type.majorEncoded,c.length),a.push(c)}function aI(a,b,c,d,e){let f=c+d;at(a,b,f);let g=new ac(ab.string,ai(a,b+c,b+f),f);return!0===e.retainStringBytes&&(g.byteValue=ak(a,b+c,b+f)),g}function aJ(a,b,c,d){return aI(a,b,1,c,d)}function aK(a,b,c,d){return new ac(ab.array,d,c)}function aL(a,b,c,d){return aK(a,b,1,c)}function aM(a,b){aA(a,ab.array.majorEncoded,b.value)}function aN(a,b,c,d){return new ac(ab.map,d,c)}function aO(a,b,c,d){return aN(a,b,1,c)}function aP(a,b){aA(a,ab.map.majorEncoded,b.value)}function aQ(a,b,c,d){return new ac(ab.tag,c,1)}function aR(a,b){aA(a,ab.tag.majorEncoded,b.value)}function aS(a,b,c){if(c){if(!1===c.allowNaN&&Number.isNaN(a))throw Error(`${aq} NaN values are not supported`);if(!1===c.allowInfinity&&(a===1/0||a===-1/0))throw Error(`${aq} Infinity values are not supported`)}return new ac(ab.float,a,b)}function aT(a,b,c){let d=b.value;if(!1===d)a.push([20|ab.float.majorEncoded]);else if(!0===d)a.push([21|ab.float.majorEncoded]);else if(null===d)a.push([22|ab.float.majorEncoded]);else if(void 0===d)a.push([23|ab.float.majorEncoded]);else{var e;let b=!1;c&&!0===c.float64||(aX(d),d===aY(aW,1)||Number.isNaN(d)?(aW[0]=249,a.push(aW.slice(0,3)),b=!0):(aZ(d),d===a$(aW,1)&&(aW[0]=250,a.push(aW.slice(0,5)),b=!0))),b||(e=d,aV.setFloat64(0,e,!1),a_(aW,1),aW[0]=251,a.push(aW.slice(0,9)))}}aD.encodedSize=function(a){let b=a.value,c="bigint"==typeof b?b*aB-aC:-1*b-1;return c<au[0]?1:c<au[1]?2:c<au[2]?3:c<au[3]?5:9},aD.compareTokens=function(a,b){return a.value<b.value?1:a.value>b.value?-1:0},aH.encodedSize=function(a){let b=aG(a);return aA.encodedSize(b.length)+b.length},aH.compareTokens=function(a,b){var c,d;return c=aG(a),d=aG(b),c.length<d.length?-1:c.length>d.length?1:function(a,b){if(ag(a)&&ag(b))return a.compare(b);for(let c=0;c<a.length;c++)if(a[c]!==b[c])return a[c]<b[c]?-1:1;return 0}(c,d)},aM.compareTokens=az.compareTokens,aM.encodedSize=function(a){return aA.encodedSize(a.value)},aP.compareTokens=az.compareTokens,aP.encodedSize=function(a){return aA.encodedSize(a.value)},aR.compareTokens=az.compareTokens,aR.encodedSize=function(a){return aA.encodedSize(a.value)},aT.encodedSize=function(a,b){let c=a.value;if(!1===c||!0===c||null==c)return 1;if(!b||!0!==b.float64){aX(c);let a=aY(aW,1);if(c===a||Number.isNaN(c))return 3;if(aZ(c),c===(a=a$(aW,1)))return 5}return 9};let aU=new ArrayBuffer(9),aV=new DataView(aU,1),aW=new Uint8Array(aU,0);function aX(a){if(a===1/0)aV.setUint16(0,31744,!1);else if(a===-1/0)aV.setUint16(0,64512,!1);else if(Number.isNaN(a))aV.setUint16(0,32256,!1);else{aV.setFloat32(0,a);let b=aV.getUint32(0),c=(0x7f800000&b)>>23,d=8388607&b;if(255===c)aV.setUint16(0,31744,!1);else if(0===c)aV.setUint16(0,(0x80000000&a)>>16|d>>13,!1);else{let a=c-127;a<-24?aV.setUint16(0,0):a<-14?aV.setUint16(0,(0x80000000&b)>>16|1<<24+a,!1):aV.setUint16(0,(0x80000000&b)>>16|a+15<<10|d>>13,!1)}}}function aY(a,b){let c;if(a.length-b<2)throw Error(`${aq} not enough data for float16`);let d=(a[b]<<8)+a[b+1];if(31744===d)return 1/0;if(64512===d)return-1/0;if(32256===d)return NaN;let e=d>>10&31,f=1023&d;return c=0===e?5960464477539063e-23*f:31!==e?(f+1024)*2**(e-25):0===f?1/0:NaN,32768&d?-c:c}function aZ(a){aV.setFloat32(0,a,!1)}function a$(a,b){if(a.length-b<4)throw Error(`${aq} not enough data for float32`);let c=(a.byteOffset||0)+b;return new DataView(a.buffer,c,4).getFloat32(0,!1)}function a_(a,b){if(a.length-b<8)throw Error(`${aq} not enough data for float64`);let c=(a.byteOffset||0)+b;return new DataView(a.buffer,c,8).getFloat64(0,!1)}function a0(a,b,c){throw Error(`${aq} encountered invalid minor (${c}) for major ${a[b]>>>5}`)}function a1(a){return()=>{throw Error(`${aq} ${a}`)}}aT.compareTokens=az.compareTokens;let a2=[];for(let a=0;a<=23;a++)a2[a]=a0;a2[24]=function(a,b,c,d){return new ac(ab.uint,av(a,b+1,d),2)},a2[25]=function(a,b,c,d){return new ac(ab.uint,aw(a,b+1,d),3)},a2[26]=function(a,b,c,d){return new ac(ab.uint,ax(a,b+1,d),5)},a2[27]=function(a,b,c,d){return new ac(ab.uint,ay(a,b+1,d),9)},a2[28]=a0,a2[29]=a0,a2[30]=a0,a2[31]=a0;for(let a=32;a<=55;a++)a2[a]=a0;a2[56]=function(a,b,c,d){return new ac(ab.negint,-1-av(a,b+1,d),2)},a2[57]=function(a,b,c,d){return new ac(ab.negint,-1-aw(a,b+1,d),3)},a2[58]=function(a,b,c,d){return new ac(ab.negint,-1-ax(a,b+1,d),5)},a2[59]=function(a,b,c,d){let e=ay(a,b+1,d);if("bigint"!=typeof e){let a=-1-e;if(a>=Number.MIN_SAFE_INTEGER)return new ac(ab.negint,a,9)}if(!0!==d.allowBigInt)throw Error(`${aq} integers outside of the safe integer range are not supported`);return new ac(ab.negint,aB-BigInt(e),9)},a2[60]=a0,a2[61]=a0,a2[62]=a0,a2[63]=a0;for(let a=64;a<=87;a++)a2[a]=aF;a2[88]=function(a,b,c,d){return aE(a,b,2,av(a,b+1,d))},a2[89]=function(a,b,c,d){return aE(a,b,3,aw(a,b+1,d))},a2[90]=function(a,b,c,d){return aE(a,b,5,ax(a,b+1,d))},a2[91]=function(a,b,c,d){let e=ay(a,b+1,d);if("bigint"==typeof e)throw Error(`${aq} 64-bit integer bytes lengths not supported`);return aE(a,b,9,e)},a2[92]=a0,a2[93]=a0,a2[94]=a0,a2[95]=a1("indefinite length bytes/strings are not supported");for(let a=96;a<=119;a++)a2[a]=aJ;a2[120]=function(a,b,c,d){return aI(a,b,2,av(a,b+1,d),d)},a2[121]=function(a,b,c,d){return aI(a,b,3,aw(a,b+1,d),d)},a2[122]=function(a,b,c,d){return aI(a,b,5,ax(a,b+1,d),d)},a2[123]=function(a,b,c,d){let e=ay(a,b+1,d);if("bigint"==typeof e)throw Error(`${aq} 64-bit integer string lengths not supported`);return aI(a,b,9,e,d)},a2[124]=a0,a2[125]=a0,a2[126]=a0,a2[127]=a1("indefinite length bytes/strings are not supported");for(let a=128;a<=151;a++)a2[a]=aL;a2[152]=function(a,b,c,d){return aK(a,b,2,av(a,b+1,d))},a2[153]=function(a,b,c,d){return aK(a,b,3,aw(a,b+1,d))},a2[154]=function(a,b,c,d){return aK(a,b,5,ax(a,b+1,d))},a2[155]=function(a,b,c,d){let e=ay(a,b+1,d);if("bigint"==typeof e)throw Error(`${aq} 64-bit integer array lengths not supported`);return aK(a,b,9,e)},a2[156]=a0,a2[157]=a0,a2[158]=a0,a2[159]=function(a,b,c,d){if(!1===d.allowIndefinite)throw Error(`${aq} indefinite length items not allowed`);return aK(a,b,1,1/0)};for(let a=160;a<=183;a++)a2[a]=aO;a2[184]=function(a,b,c,d){return aN(a,b,2,av(a,b+1,d))},a2[185]=function(a,b,c,d){return aN(a,b,3,aw(a,b+1,d))},a2[186]=function(a,b,c,d){return aN(a,b,5,ax(a,b+1,d))},a2[187]=function(a,b,c,d){let e=ay(a,b+1,d);if("bigint"==typeof e)throw Error(`${aq} 64-bit integer map lengths not supported`);return aN(a,b,9,e)},a2[188]=a0,a2[189]=a0,a2[190]=a0,a2[191]=function(a,b,c,d){if(!1===d.allowIndefinite)throw Error(`${aq} indefinite length items not allowed`);return aN(a,b,1,1/0)};for(let a=192;a<=215;a++)a2[a]=aQ;a2[216]=function(a,b,c,d){return new ac(ab.tag,av(a,b+1,d),2)},a2[217]=function(a,b,c,d){return new ac(ab.tag,aw(a,b+1,d),3)},a2[218]=function(a,b,c,d){return new ac(ab.tag,ax(a,b+1,d),5)},a2[219]=function(a,b,c,d){return new ac(ab.tag,ay(a,b+1,d),9)},a2[220]=a0,a2[221]=a0,a2[222]=a0,a2[223]=a0;for(let a=224;a<=243;a++)a2[a]=a1("simple values are not supported");a2[244]=a0,a2[245]=a0,a2[246]=a0,a2[247]=function(a,b,c,d){if(!1===d.allowUndefined)throw Error(`${aq} undefined values are not supported`);return!0===d.coerceUndefinedToNull?new ac(ab.null,null,1):new ac(ab.undefined,void 0,1)},a2[248]=a1("simple values are not supported"),a2[249]=function(a,b,c,d){return aS(aY(a,b+1),3,d)},a2[250]=function(a,b,c,d){return aS(a$(a,b+1),5,d)},a2[251]=function(a,b,c,d){return aS(a_(a,b+1),9,d)},a2[252]=a0,a2[253]=a0,a2[254]=a0,a2[255]=function(a,b,c,d){if(!1===d.allowIndefinite)throw Error(`${aq} indefinite length items not allowed`);return new ac(ab.break,void 0,1)};let a3=[];for(let a=0;a<24;a++)a3[a]=new ac(ab.uint,a,1);for(let a=-1;a>=-24;a--)a3[31-a]=new ac(ab.negint,a,1);a3[64]=new ac(ab.bytes,new Uint8Array(0),1),a3[96]=new ac(ab.string,"",1),a3[128]=new ac(ab.array,0,1),a3[160]=new ac(ab.map,0,1),a3[244]=new ac(ab.false,!1,1),a3[245]=new ac(ab.true,!0,1),a3[246]=new ac(ab.null,null,1);let a4={float64:!1,mapSorter:function(a,b){let c=Array.isArray(a[0])?a[0][0]:a[0],d=Array.isArray(b[0])?b[0][0]:b[0];if(c.type!==d.type)return c.type.compare(d.type);let e=a5[c.type.major].compareTokens(c,d);return 0===e&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),e},quickEncodeToken:function(a){switch(a.type){case ab.false:let b;return b=[244],Uint8Array.from(b);case ab.true:let c;return c=[245],Uint8Array.from(c);case ab.null:let d;return d=[246],Uint8Array.from(d);case ab.bytes:if(!a.value.length){let a;return a=[64],Uint8Array.from(a)}return;case ab.string:if(""===a.value){let a;return a=[96],Uint8Array.from(a)}return;case ab.array:if(0===a.value){let a;return a=[128],Uint8Array.from(a)}return;case ab.map:if(0===a.value){let a;return a=[160],Uint8Array.from(a)}return;case ab.uint:if(a.value<24){let b;return b=[Number(a.value)],Uint8Array.from(b)}return;case ab.negint:if(a.value>=-24){let b;return b=[31-Number(a.value)],Uint8Array.from(b)}}}},a5=((c=[])[ab.uint.major]=az,c[ab.negint.major]=aD,c[ab.bytes.major]=aH,c[ab.string.major]=aH,c[ab.array.major]=aM,c[ab.map.major]=aP,c[ab.tag.major]=aR,c[ab.float.major]=aT,c),a6=new ap;class a7{constructor(a,b){this.obj=a,this.parent=b}includes(a){let b=this;do if(b.obj===a)return!0;while(b=b.parent)return!1}static createCheck(a,b){if(a&&a.includes(b))throw Error(`${ar} object contains circular references`);return new a7(b,a)}}let a8={null:new ac(ab.null,null),undefined:new ac(ab.undefined,void 0),true:new ac(ab.true,!0),false:new ac(ab.false,!1),emptyArray:new ac(ab.array,0),emptyMap:new ac(ab.map,0)},a9={number:(a,b,c,d)=>Number.isInteger(a)&&Number.isSafeInteger(a)?a>=0?new ac(ab.uint,a):new ac(ab.negint,a):new ac(ab.float,a),bigint:(a,b,c,d)=>a>=BigInt(0)?new ac(ab.uint,a):new ac(ab.negint,a),Uint8Array:(a,b,c,d)=>new ac(ab.bytes,a),string:(a,b,c,d)=>new ac(ab.string,a),boolean:(a,b,c,d)=>a?a8.true:a8.false,null:(a,b,c,d)=>a8.null,undefined:(a,b,c,d)=>a8.undefined,ArrayBuffer:(a,b,c,d)=>new ac(ab.bytes,new Uint8Array(a)),DataView:(a,b,c,d)=>new ac(ab.bytes,new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),Array(a,b,c,d){if(!a.length)return!0===c.addBreakTokens?[a8.emptyArray,new ac(ab.break)]:a8.emptyArray;d=a7.createCheck(d,a);let e=[],f=0;for(let b of a)e[f++]=ba(b,c,d);return c.addBreakTokens?[new ac(ab.array,a.length),e,new ac(ab.break)]:[new ac(ab.array,a.length),e]},Object(a,b,c,d){var e,f;let g="Object"!==b,h=g?a.keys():Object.keys(a),i=g?a.size:h.length;if(!i)return!0===c.addBreakTokens?[a8.emptyMap,new ac(ab.break)]:a8.emptyMap;d=a7.createCheck(d,a);let j=[],k=0;for(let b of h)j[k++]=[ba(b,c,d),ba(g?a.get(b):a[b],c,d)];return(e=j,(f=c).mapSorter&&e.sort(f.mapSorter),c.addBreakTokens)?[new ac(ab.map,i),j,new ac(ab.break)]:[new ac(ab.map,i),j]}};for(let a of(a9.Map=a9.Object,a9.Buffer=a9.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))a9[`${a}Array`]=a9.DataView;function ba(a,b={},c){let d=function(a){var b;if(null===a)return"null";if(void 0===a)return"undefined";if(!0===a||!1===a)return"boolean";let c=typeof a;if(_.includes(c))return c;if("function"===c)return"Function";if(Array.isArray(a))return"Array";if((b=a)&&b.constructor&&b.constructor.isBuffer&&b.constructor.isBuffer.call(null,b))return"Buffer";let d=function(a){let b=Object.prototype.toString.call(a).slice(8,-1);if(aa.includes(b))return b}(a);return d||"Object"}(a),e=b&&b.typeEncoders&&b.typeEncoders[d]||a9[d];if("function"==typeof e){let f=e(a,d,b,c);if(null!=f)return f}let f=a9[d];if(!f)throw Error(`${ar} unsupported type: ${d}`);return f(a,d,b,c)}function bb(a,b){var c=b=Object.assign({},a4,b);let d=ba(a,c);if(!Array.isArray(d)&&c.quickEncodeToken){let a=c.quickEncodeToken(d);if(a)return a;let b=a5[d.type.major];if(b.encodedSize){let a=new ap(b.encodedSize(d,c));if(b(a,d,c),1!==a.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${d} was wrong`);return ah(a.chunks[0])}}return a6.reset(),!function a(b,c,d,e){if(Array.isArray(c))for(let f of c)a(b,f,d,e);else d[c.type.major](b,c,e)}(a6,d,a5,c),a6.toBytes(!0)}let bc={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class bd{constructor(a,b={}){this.pos=0,this.data=a,this.options=b}done(){return this.pos>=this.data.length}next(){let a=this.data[this.pos],b=a3[a];if(void 0===b){let c=a2[a];if(!c)throw Error(`${aq} no decoder for major type ${a>>>5} (byte 0x${a.toString(16).padStart(2,"0")})`);let d=31&a;b=c(this.data,this.pos,d,this.options)}return this.pos+=b.encodedLength,b}}let be=Symbol.for("DONE"),bf=Symbol.for("BREAK");function bg(a,b){if(!(a instanceof Uint8Array))throw Error(`${aq} data to decode must be a Uint8Array`);let c=(b=Object.assign({},bc,b)).tokenizer||new bd(a,b),d=function a(b,c){if(b.done())return be;let d=b.next();if(d.type===ab.break)return bf;if(d.type.terminal)return d.value;if(d.type===ab.array){let e=[];for(let f=0;f<d.value;f++){let g=a(b,c);if(g===bf){if(d.value===1/0)break;throw Error(`${aq} got unexpected break to lengthed array`)}if(g===be)throw Error(`${aq} found array but not enough entries (got ${f}, expected ${d.value})`);e[f]=g}return e}if(d.type===ab.map)return function(b,c,d){let e=!0===d.useMaps,f=e?void 0:{},g=e?new Map:void 0;for(let h=0;h<b.value;h++){let i=a(c,d);if(i===bf){if(b.value===1/0)break;throw Error(`${aq} got unexpected break to lengthed map`)}if(i===be)throw Error(`${aq} found map but not enough entries (got ${h} [no key], expected ${b.value})`);if(!0!==e&&"string"!=typeof i)throw Error(`${aq} non-string keys not supported (got ${typeof i})`);if(!0===d.rejectDuplicateMapKeys&&(e&&g.has(i)||!e&&i in f))throw Error(`${aq} found repeat map key "${i}"`);let j=a(c,d);if(j===be)throw Error(`${aq} found map but not enough entries (got ${h} [no value], expected ${b.value})`);e?g.set(i,j):f[i]=j}return e?g:f}(d,b,c);if(d.type===ab.tag){if(c.tags&&"function"==typeof c.tags[d.value]){let e=a(b,c);return c.tags[d.value](e)}throw Error(`${aq} tag not supported (${d.value})`)}throw Error("unsupported")}(c,b);if(d===be)throw Error(`${aq} did not find any content to decode`);if(d===bf)throw Error(`${aq} got unexpected break`);if(!c.done())throw Error(`${aq} too many terminals, data makes no sense`);return d}let bh="0x0100000000000000000000000000000000000103",bi="0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000016636f72652e43616c6c446174615075626c69634b6579000000000000000000000000000000000000000000000000000000000000000000000000000000000001f600000000000000000000000000000000000000000000000000000000000000";var bj=Object.defineProperty,bk={},bl={AEAD:()=>b3,ErrKeySize:()=>b5,ErrNonceSize:()=>b6,ErrOpen:()=>b7,KeySize:()=>bP,NonceSize:()=>bQ,TagSize:()=>bR};for(var bm in bl)bj(bk,bm,{get:bl[bm],enumerable:!0});function bn(a,b,c,d){return(a<<24|b<<16|c<<8|d)>>>0}function bo(a,...b){let c=a;for(let a of b)c|=a;return c>>>0}function bp(a,...b){let c=a;for(let a of b)c&=a;return c>>>0}function bq(a,b){return(a^b)>>>0}function br(a,...b){let c=a;for(let a of b)c^=a;return c>>>0}function bs(a,b){return a<<b>>>0}function bt(a,b){return(a>>>b|a<<32-b>>>0)>>>0}var bu=bn(85,85,85,85),bv=bn(170,170,170,170),bw=bn(51,51,51,51),bx=bn(204,204,204,204),by=bn(15,15,15,15),bz=bn(240,240,240,240),bA=bn(0,0,0,255),bB=bn(0,0,252,0),bC=bn(0,0,3,0),bD=bn(0,240,0,0),bE=bn(0,15,0,0),bF=bn(192,0,0,0),bG=bn(63,0,0,0);function bH(){return new Uint32Array(8)}function bI(a,b){a[0]=bq(a[0],b[0]),a[1]=bq(a[1],b[1]),a[2]=bq(a[2],b[2]),a[3]=bq(a[3],b[3]),a[4]=bq(a[4],b[4]),a[5]=bq(a[5],b[5]),a[6]=bq(a[6],b[6]),a[7]=bq(a[7],b[7])}function bJ(a){let b=a[7],c=a[6],d=a[5],e=a[4],f=a[3],g=a[2],h=a[1],i=a[0],j=bq(e,g),k=bq(b,h),l=bq(b,e),m=bq(b,g),n=bq(c,d),o=bq(n,i),p=bq(o,e),q=bq(k,j),r=bq(o,b),s=bq(o,h),t=bq(s,m),u=bq(f,q),v=bq(u,g),w=bq(u,c),x=bq(v,i),y=bq(v,n),z=bq(w,l),A=bq(i,z),B=bq(y,z),C=bq(y,m),D=bq(n,z),E=bq(k,D),F=bq(b,D),G=bp(q,v),H=bq(bp(t,x),G),I=bq(bp(p,i),G),J=bp(k,D),K=bq(bp(s,o),J),L=bq(bp(r,A),J),M=bp(l,z),N=bq(bp(j,B),M),O=bq(bp(m,y),M),P=bq(H,N),Q=bq(I,O),R=bq(K,N),S=bq(L,O),T=bq(P,w),U=bq(Q,C),V=bq(R,E),W=bq(S,F),X=bq(T,U),Y=bp(T,V),Z=bq(W,Y),$=bq(bp(X,Z),U),_=bq(V,W),aa=bp(bq(U,Y),_),ab=bq(aa,W),ac=bq(V,ab),ad=bp(W,bq(Z,ab)),ae=bq(ad,ac),af=bp($,bq(Z,ad)),ag=bq(X,af),ah=bq(ag,ae),ai=bq($,ab),aj=bq($,ag),ak=bq(ab,ae),al=bq(ai,ah),am=bp(ak,v),an=bp(ae,x),ao=bp(ab,i),ap=bp(aj,D),aq=bp(ag,o),ar=bp($,A),as=bp(ai,z),at=bp(al,B),au=bp(ah,y),av=bp(ak,q),aw=bp(ae,t),ax=bp(ab,p),ay=bp(aj,k),az=bp(ag,s),aA=bp($,r),aB=bp(ai,l),aC=bp(al,j),aD=bp(ah,m),aE=bq(aB,aC),aF=bq(aw,ax),aG=bq(ar,az),aH=bq(av,aw),aI=bq(ao,ay),aJ=bq(ao,ar),aK=bq(at,au),aL=bq(am,ap),aM=bq(as,at),aN=bq(aC,aD),aO=bq(ay,aG),aP=bq(aI,aL),aQ=bq(aq,aE),aR=bq(ap,aM),aS=bq(aE,aP),aT=bq(aA,aP),aU=bq(aK,aQ),aV=bq(aH,aQ),aW=bq(aq,aR),aX=bq(aT,aU),aY=bq(an,aV),aZ=bq(aR,aV),a$=bq(aO,~aU>>>0),a_=bq(aG,~aS>>>0),a0=bq(aW,aX),a1=bq(aL,aY),a2=bq(aJ,aY),a3=bq(aF,aX),a4=bq(aW,~a1>>>0),a5=bq(aN,~a0>>>0);a[7]=aZ,a[6]=a4,a[5]=a5,a[4]=a1,a[3]=a2,a[2]=a3,a[1]=a$,a[0]=a_}function bK(a){for(let b=0;b<8;b++){let c=a[b];a[b]=bo(bp(c,bA),bp(c,bB)>>>2,bs(bp(c,bC),6),bp(c,bD)>>>4,bs(bp(c,bE),4),bp(c,bF)>>>6,bs(bp(c,bG),2))}}function bL(a){let b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=bo(b>>>8,bs(b,24)),k=bo(c>>>8,bs(c,24)),l=bo(d>>>8,bs(d,24)),m=bo(e>>>8,bs(e,24)),n=bo(f>>>8,bs(f,24)),o=bo(g>>>8,bs(g,24)),p=bo(h>>>8,bs(h,24)),q=bo(i>>>8,bs(i,24));a[0]=br(i,q,j,bt(bq(b,j),16)),a[1]=br(b,j,i,q,k,bt(bq(c,k),16)),a[2]=br(c,k,l,bt(bq(d,l),16)),a[3]=br(d,l,i,q,m,bt(bq(e,m),16)),a[4]=br(e,m,i,q,n,bt(bq(f,n),16)),a[5]=br(f,n,o,bt(bq(g,o),16)),a[6]=br(g,o,p,bt(bq(h,p),16)),a[7]=br(h,p,q,bt(bq(i,q),16))}function bM(a,b){let c=new DataView(b.buffer);a[0]=c.getUint32(0+b.byteOffset,!0),a[2]=c.getUint32(4+b.byteOffset,!0),a[4]=c.getUint32(8+b.byteOffset,!0),a[6]=c.getUint32(12+b.byteOffset,!0),a[1]=0,a[3]=0,a[5]=0,a[7]=0,bO(a)}function bN(a,b,c){let d=new DataView(b.buffer),e=new DataView(c.buffer);a[0]=d.getUint32(0+b.byteOffset,!0),a[2]=d.getUint32(4+b.byteOffset,!0),a[4]=d.getUint32(8+b.byteOffset,!0),a[6]=d.getUint32(12+b.byteOffset,!0),a[1]=e.getUint32(0+c.byteOffset,!0),a[3]=e.getUint32(4+c.byteOffset,!0),a[5]=e.getUint32(8+c.byteOffset,!0),a[7]=e.getUint32(12+c.byteOffset,!0),bO(a)}function bO(a){for(let b=0;b<8;b+=2){let c=a[b],d=a[b+1];a[b]=bo(bp(c,bu),bs(bp(d,bu),1)),a[b+1]=bo(bp(c,bv)>>>1,bp(d,bv))}for(let b=0;b<8;b+=4){let c=a[b],d=a[b+1],e=a[b+2],f=a[b+3];a[b]=bo(bp(c,bw),bs(bp(e,bw),2)),a[b+2]=bo(bp(c,bx)>>>2,bp(e,bx)),a[b+1]=bo(bp(d,bw),bs(bp(f,bw),2)),a[b+3]=bo(bp(d,bx)>>>2,bp(f,bx))}for(let b=0;b<4;b++){let c=a[b],d=a[b+4];a[b]=bo(bp(c,by),bs(bp(d,by),4)),a[b+4]=bo(bp(c,bz)>>>4,bp(d,bz))}}var bP=32,bQ=15,bR=16;function bS(a,b,c,d){for(let e=0;e<d;e++)a[e]=b[e]^c[e]}var bT=new Uint8Array([47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114]);function bU(a){a.set(new Uint8Array([a[1],a[6],a[11],a[12],a[5],a[10],a[15],a[0],a[9],a[14],a[3],a[4],a[13],a[2],a[7],a[8]]))}function bV(a,b){a[0]^=1,a[1]^=2,a[2]^=4,a[3]^=8,a[4]^=bT[b],a[5]^=bT[b],a[6]^=bT[b],a[7]^=bT[b]}function bW(a,b,c){let d=new Uint8Array(c);bS(a[0],b[0],d,16);for(let c=1;c<=16;c++)bU(d),bS(a[c],b[c],d,16)}function bX(){let a=[];for(let b=0;b<=16;b++)a.push(new Uint8Array(16));return a}function bY(a,b,c,d){let e,f=bX();bW(f,b,c);let g=bH(),h=bH();bM(g,d),bM(h,f[0]),bI(g,h);for(let a=1;a<=16;a++)bJ(g),bK(g),bL(g),bM(h,f[a]),bI(g,h);bO(g),(e=new DataView(a.buffer)).setUint32(0+a.byteOffset,g[0],!0),e.setUint32(4+a.byteOffset,g[2],!0),e.setUint32(8+a.byteOffset,g[4],!0),e.setUint32(12+a.byteOffset,g[6],!0)}function bZ(a,b,c,d){var e,f;let g,h,i=[bX(),bX()];for(let a=0;a<2;a++)bW(i[a],b,c[a]);let j=bH(),k=bH();!function(a,b){let c=new DataView(b.buffer);for(let d=0;d<4;d++){let e=c.getUint32(4*d+b.byteOffset,!0);a[2*d]=e,a[2*d+1]=e}bO(a);for(let b=0,c=0;b<4;b+=1,c+=2){let b=bo(bp(a[c+0],bu),bp(a[c+1],bv)),d=b;b=bp(b,bu),a[c]=bo(b,bs(b,1)),d=bp(d,bv),a[c+1]=bo(d,d>>>1)}}(j,d),bN(k,i[0][0],i[1][0]),bI(j,k);for(let a=1;a<=16;a++)bJ(j),bK(j),bL(j),bN(k,i[0][a],i[1][a]),bI(j,k);e=a.subarray(0,16),f=a.subarray(16,32),bO(j),g=new DataView(e.buffer),h=new DataView(f.buffer),g.setUint32(0+e.byteOffset,j[0],!0),g.setUint32(4+e.byteOffset,j[2],!0),g.setUint32(8+e.byteOffset,j[4],!0),g.setUint32(12+e.byteOffset,j[6],!0),h.setUint32(0+f.byteOffset,j[1],!0),h.setUint32(4+f.byteOffset,j[3],!0),h.setUint32(8+f.byteOffset,j[5],!0),h.setUint32(12+f.byteOffset,j[7],!0)}function b$(a,b,c,d){let e=bX();bW(e,b,c);let f=bH(),g=bH();bM(f,d),bM(g,e[0]),bI(f,g);for(let a=1;a<=16;a++)bJ(f),bK(f),bL(f),bM(g,e[a]),bI(f,g);let h=new DataView(a.buffer),i=h.getUint32(0,!0),j=h.getUint32(4,!0),k=h.getUint32(8,!0),l=h.getUint32(12,!0);bO(f),i=bq(i,f[0]),j=bq(j,f[2]),k=bq(k,f[4]),l=bq(l,f[6]),h.setUint32(0,i,!0),h.setUint32(4,j,!0),h.setUint32(8,k,!0),h.setUint32(12,l,!0)}function b_(a,b,c,d){let e=[bX(),bX()];for(let a=0;a<2;a++)bW(e[a],b,c[a]);let f=bH(),g=bH();bN(f,d.subarray(0,16),d.subarray(16,32)),bN(g,e[0][0],e[1][0]),bI(f,g);for(let a=1;a<=16;a++)bJ(f),bK(f),bL(f),bN(g,e[0][a],e[1][a]),bI(f,g);let h=new DataView(a.buffer),i=h.getUint32(0,!0),j=h.getUint32(4,!0),k=h.getUint32(8,!0),l=h.getUint32(12,!0);bO(f),i=(i^f[0]^f[1])>>>0,j=(j^f[2]^f[3])>>>0,k=(k^f[4]^f[5])>>>0,l=(l^f[6]^f[7])>>>0,h.setUint32(0,i,!0),h.setUint32(4,j,!0),h.setUint32(8,k,!0),h.setUint32(12,l,!0)}function b0(a,b,c){a.set(new Uint8Array(12)),new DataView(a.buffer).setUint32(12+a.byteOffset,c,!1),a[0]=b<<4}function b1(a,b,c){let d=new Uint8Array(4);new DataView(d.buffer).setUint32(0,c,!1),a.set(b),a[0]|=128,bS(a.subarray(12,16),a.subarray(12,16),d,4)}function b2(){return[new Uint8Array(16),new Uint8Array(16)]}var b3=class{constructor(a){if(((a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?bj(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c})(this,"derivedKs"),a.length!==bP)throw b5;this.derivedKs=bX(),function(a,b){let c=a.subarray(16,32),d=a.subarray(0,16);bS(b[0],c,d,16),bV(b[0],0);for(let a=1;a<=16;a++){for(let a=0;a<16;a++){let b=c[a],d=b>>7,e=b>>5&1;c[a]=b<<1|d^e}bU(c);for(let a=0;a<16;a++){let b=d[a],c=1&b,e=b>>6&1;d[a]=b>>1|(c^e)<<7}bU(d),bS(b[a],c,d,16),bV(b[a],a)}}(a,this.derivedKs)}encrypt(a,b=null,c=null){if(a.length!==bQ)throw b6;null==b&&(b=b4),null==c&&(c=b4);let d=new Uint8Array(b.length+bR);return!function(a,b,c,d,e){let f=b2(),g=0,h=0,i=d.length,j=new Uint8Array(bR);for(g=0;i>=32;g+=2)b0(f[0],2,g),b0(f[1],2,g+1),b_(j,a,f,d.subarray(16*g,(g+2)*16)),i-=32;for(;i>=16;g++)b0(f[0],2,g),b$(j,a,f[0],d.subarray(16*g,(g+1)*16)),i-=16;if(i>0){b0(f[0],6,g);let b=new Uint8Array(16);b.set(d.subarray(d.length-i)),b[i]=128,b$(j,a,f[0],b)}let k=e.length;for(h=0;k>=32;h+=2)b0(f[0],0,h),b0(f[1],0,h+1),b_(j,a,f,e.subarray(16*h,(h+2)*16)),k-=32;for(;k>=16;h++)b0(f[0],0,h),b$(j,a,f[0],e.subarray(16*h,(h+1)*16)),k-=16;if(k>0){b0(f[0],4,h);let b=new Uint8Array(16);b.set(e.subarray(e.length-k)),b[k]=128,b$(j,a,f[0],b)}let l=new Uint8Array(16);l.set(b,1),l[0]=16,bY(j,a,l,j),l[0]=0,k=e.length;let m=new Uint8Array(32);for(h=0;k>=32;h+=2)b1(f[0],j,h),b1(f[1],j,h+1),bZ(m,a,f,l),bS(c.subarray(16*h,(h+2)*16),e.subarray(16*h,(h+2)*16),m,32),k-=32;for(;k>=16;h++)b1(f[0],j,h),bY(m,a,f[0],l),bS(c.subarray(16*h,(h+1)*16),e.subarray(16*h,(h+1)*16),m,16),k-=16;k>0&&(b1(f[0],j,h),bY(m,a,f[0],l),bS(c.subarray(16*h,e.length),e.subarray(16*h),m,k)),c.set(j,e.length)}(this.derivedKs,a,d,c,b),d}decrypt(a,b,c=null){if(a.length!==bQ)throw b6;if(b.length<bR)throw b7;null==c&&(c=b4);let d=new Uint8Array(b.length-bR);if(!function(a,b,c,d,e){let f=e.length-bR,g=e.subarray(0,f),h=e.subarray(f),i=0,j=b2(),k=new Uint8Array(16);k.set(b,1);let l=new Uint8Array(32);for(i=0;f>=32;i+=2)b1(j[0],h,i),b1(j[1],h,i+1),bZ(l,a,j,k),bS(c.subarray(16*i,(i+2)*16),g.subarray(16*i,(i+2)*16),l,32),f-=32;for(;f>=16;i++)b1(j[0],h,i),bY(l,a,j[0],k),bS(c.subarray(16*i,(i+1)*16),g.subarray(16*i,(i+1)*16),l,16),f-=16;f>0&&(b1(j[0],h,i),bY(l,a,j[0],k),bS(c.subarray(16*i),g.subarray(16*i),l,f));let m=0,n=d.length,o=b2(),p=new Uint8Array(bR);for(m=0;n>=32;m+=2)b0(o[0],2,m),b0(o[1],2,m+1),b_(p,a,o,d.subarray(16*m,(m+2)*16)),n-=32;for(;n>=16;m++)b0(o[0],2,m),b$(p,a,o[0],d.subarray(16*m,(m+1)*16)),n-=16;if(n>0){b0(o[0],6,m);let b=new Uint8Array(16);b.set(d.subarray(d.length-n)),b[n]=128,b$(p,a,o[0],b)}let q=c.length;for(i=0;q>=32;i+=2)b0(o[0],0,i),b0(o[1],0,i+1),b_(p,a,o,c.subarray(16*i,(i+2)*16)),q-=32;for(;q>=16;i++)b0(o[0],0,i),b$(p,a,o[0],c.subarray(16*i,(i+1)*16)),q-=16;if(q>0){b0(o[0],4,i);let b=new Uint8Array(16);b.set(c.subarray(c.length-q)),b[q]=128,b$(p,a,o[0],b)}if(k[0]=16,bY(p,a,k,p),p.length!==h.length)return!1;let r=!0;for(m=0;m<p.length;m++)r&=!(p[m]^h[m]);return r}(this.derivedKs,a,d,c,b))throw d.set(new Uint8Array(d.length)),b7;return d}},b4=new Uint8Array(0),b5="deoxysii: invalid key size",b6="deoxysii: invalid nonce size",b7="deoxysii: message authentication failure",b8=a.i(267463),b9=a.i(510913),ca=a.i(483418);let[cb,cc]=b9.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),cd=new Uint32Array(80),ce=new Uint32Array(80);class cf extends b8.SHA2{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:a,Al:b,Bh:c,Bl:d,Ch:e,Cl:f,Dh:g,Dl:h,Eh:i,El:j,Fh:k,Fl:l,Gh:m,Gl:n,Hh:o,Hl:p}=this;return[a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p]}set(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.Ah=0|a,this.Al=0|b,this.Bh=0|c,this.Bl=0|d,this.Ch=0|e,this.Cl=0|f,this.Dh=0|g,this.Dl=0|h,this.Eh=0|i,this.El=0|j,this.Fh=0|k,this.Fl=0|l,this.Gh=0|m,this.Gl=0|n,this.Hh=0|o,this.Hl=0|p}process(a,b){for(let c=0;c<16;c++,b+=4)cd[c]=a.getUint32(b),ce[c]=a.getUint32(b+=4);for(let a=16;a<80;a++){let b=0|cd[a-15],c=0|ce[a-15],d=b9.default.rotrSH(b,c,1)^b9.default.rotrSH(b,c,8)^b9.default.shrSH(b,c,7),e=b9.default.rotrSL(b,c,1)^b9.default.rotrSL(b,c,8)^b9.default.shrSL(b,c,7),f=0|cd[a-2],g=0|ce[a-2],h=b9.default.rotrSH(f,g,19)^b9.default.rotrBH(f,g,61)^b9.default.shrSH(f,g,6),i=b9.default.rotrSL(f,g,19)^b9.default.rotrBL(f,g,61)^b9.default.shrSL(f,g,6),j=b9.default.add4L(e,i,ce[a-7],ce[a-16]),k=b9.default.add4H(j,d,h,cd[a-7],cd[a-16]);cd[a]=0|k,ce[a]=0|j}let{Ah:c,Al:d,Bh:e,Bl:f,Ch:g,Cl:h,Dh:i,Dl:j,Eh:k,El:l,Fh:m,Fl:n,Gh:o,Gl:p,Hh:q,Hl:r}=this;for(let a=0;a<80;a++){let b=b9.default.rotrSH(k,l,14)^b9.default.rotrSH(k,l,18)^b9.default.rotrBH(k,l,41),s=b9.default.rotrSL(k,l,14)^b9.default.rotrSL(k,l,18)^b9.default.rotrBL(k,l,41),t=k&m^~k&o,u=l&n^~l&p,v=b9.default.add5L(r,s,u,cc[a],ce[a]),w=b9.default.add5H(v,q,b,t,cb[a],cd[a]),x=0|v,y=b9.default.rotrSH(c,d,28)^b9.default.rotrBH(c,d,34)^b9.default.rotrBH(c,d,39),z=b9.default.rotrSL(c,d,28)^b9.default.rotrBL(c,d,34)^b9.default.rotrBL(c,d,39),A=c&e^c&g^e&g,B=d&f^d&h^f&h;q=0|o,r=0|p,o=0|m,p=0|n,m=0|k,n=0|l,({h:k,l:l}=b9.default.add(0|i,0|j,0|w,0|x)),i=0|g,j=0|h,g=0|e,h=0|f,e=0|c,f=0|d;let C=b9.default.add3L(x,z,B);c=b9.default.add3H(C,w,y,A),d=0|C}({h:c,l:d}=b9.default.add(0|this.Ah,0|this.Al,0|c,0|d)),({h:e,l:f}=b9.default.add(0|this.Bh,0|this.Bl,0|e,0|f)),({h:g,l:h}=b9.default.add(0|this.Ch,0|this.Cl,0|g,0|h)),({h:i,l:j}=b9.default.add(0|this.Dh,0|this.Dl,0|i,0|j)),({h:k,l:l}=b9.default.add(0|this.Eh,0|this.El,0|k,0|l)),({h:m,l:n}=b9.default.add(0|this.Fh,0|this.Fl,0|m,0|n)),({h:o,l:p}=b9.default.add(0|this.Gh,0|this.Gl,0|o,0|p)),({h:q,l:r}=b9.default.add(0|this.Hh,0|this.Hl,0|q,0|r)),this.set(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)}roundClean(){cd.fill(0),ce.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class cg extends cf{constructor(){super(),this.Ah=0x22312194,this.Al=-0x3d408d4,this.Bh=-0x60aaa05d,this.Bl=-0x37b39b3e,this.Ch=0x2393b86b,this.Cl=0x6f53b151,this.Dh=-0x69c788e7,this.Dl=0x5940eabd,this.Eh=-0x69d7c11e,this.El=-0x5771001d,this.Fh=-0x41a1e1db,this.Fl=0x53863992,this.Gh=0x2b0199fc,this.Gl=0x2c85b8aa,this.Hh=0xeb72ddc,this.Hl=-0x7e3ad35e,this.outputLen=32}}let ch=(0,ca.wrapConstructor)(()=>new cg);var ci=a.i(392674);function cj(a){let b=new Float64Array(16);if(a)for(let c=0;c<a.length;c++)b[c]=a[c];return b}let ck=new Uint8Array(32);ck[0]=9;let cl=cj([56129,1]);function cm(a,b,c){let d,e=~(c-1);for(let c=0;c<16;c++)d=e&(a[c]^b[c]),a[c]^=d,b[c]^=d}function cn(a){let b,c=1;for(let d=0;d<16;d++)c=Math.floor((b=a[d]+c+65535)/65536),a[d]=b-65536*c;a[0]+=c-1+37*(c-1)}function co(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]+c[d]}function cp(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]-c[d]}function cq(a,b,c){let d,e,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=c[0],L=c[1],M=c[2],N=c[3],O=c[4],P=c[5],Q=c[6],R=c[7],S=c[8],T=c[9],U=c[10],V=c[11],W=c[12],X=c[13],Y=c[14],Z=c[15];f+=(d=b[0])*K,g+=d*L,h+=d*M,i+=d*N,j+=d*O,k+=d*P,l+=d*Q,m+=d*R,n+=d*S,o+=d*T,p+=d*U,q+=d*V,r+=d*W,s+=d*X,t+=d*Y,u+=d*Z,g+=(d=b[1])*K,h+=d*L,i+=d*M,j+=d*N,k+=d*O,l+=d*P,m+=d*Q,n+=d*R,o+=d*S,p+=d*T,q+=d*U,r+=d*V,s+=d*W,t+=d*X,u+=d*Y,v+=d*Z,h+=(d=b[2])*K,i+=d*L,j+=d*M,k+=d*N,l+=d*O,m+=d*P,n+=d*Q,o+=d*R,p+=d*S,q+=d*T,r+=d*U,s+=d*V,t+=d*W,u+=d*X,v+=d*Y,w+=d*Z,i+=(d=b[3])*K,j+=d*L,k+=d*M,l+=d*N,m+=d*O,n+=d*P,o+=d*Q,p+=d*R,q+=d*S,r+=d*T,s+=d*U,t+=d*V,u+=d*W,v+=d*X,w+=d*Y,x+=d*Z,j+=(d=b[4])*K,k+=d*L,l+=d*M,m+=d*N,n+=d*O,o+=d*P,p+=d*Q,q+=d*R,r+=d*S,s+=d*T,t+=d*U,u+=d*V,v+=d*W,w+=d*X,x+=d*Y,y+=d*Z,k+=(d=b[5])*K,l+=d*L,m+=d*M,n+=d*N,o+=d*O,p+=d*P,q+=d*Q,r+=d*R,s+=d*S,t+=d*T,u+=d*U,v+=d*V,w+=d*W,x+=d*X,y+=d*Y,z+=d*Z,l+=(d=b[6])*K,m+=d*L,n+=d*M,o+=d*N,p+=d*O,q+=d*P,r+=d*Q,s+=d*R,t+=d*S,u+=d*T,v+=d*U,w+=d*V,x+=d*W,y+=d*X,z+=d*Y,A+=d*Z,m+=(d=b[7])*K,n+=d*L,o+=d*M,p+=d*N,q+=d*O,r+=d*P,s+=d*Q,t+=d*R,u+=d*S,v+=d*T,w+=d*U,x+=d*V,y+=d*W,z+=d*X,A+=d*Y,B+=d*Z,n+=(d=b[8])*K,o+=d*L,p+=d*M,q+=d*N,r+=d*O,s+=d*P,t+=d*Q,u+=d*R,v+=d*S,w+=d*T,x+=d*U,y+=d*V,z+=d*W,A+=d*X,B+=d*Y,C+=d*Z,o+=(d=b[9])*K,p+=d*L,q+=d*M,r+=d*N,s+=d*O,t+=d*P,u+=d*Q,v+=d*R,w+=d*S,x+=d*T,y+=d*U,z+=d*V,A+=d*W,B+=d*X,C+=d*Y,D+=d*Z,p+=(d=b[10])*K,q+=d*L,r+=d*M,s+=d*N,t+=d*O,u+=d*P,v+=d*Q,w+=d*R,x+=d*S,y+=d*T,z+=d*U,A+=d*V,B+=d*W,C+=d*X,D+=d*Y,E+=d*Z,q+=(d=b[11])*K,r+=d*L,s+=d*M,t+=d*N,u+=d*O,v+=d*P,w+=d*Q,x+=d*R,y+=d*S,z+=d*T,A+=d*U,B+=d*V,C+=d*W,D+=d*X,E+=d*Y,F+=d*Z,r+=(d=b[12])*K,s+=d*L,t+=d*M,u+=d*N,v+=d*O,w+=d*P,x+=d*Q,y+=d*R,z+=d*S,A+=d*T,B+=d*U,C+=d*V,D+=d*W,E+=d*X,F+=d*Y,G+=d*Z,s+=(d=b[13])*K,t+=d*L,u+=d*M,v+=d*N,w+=d*O,x+=d*P,y+=d*Q,z+=d*R,A+=d*S,B+=d*T,C+=d*U,D+=d*V,E+=d*W,F+=d*X,G+=d*Y,H+=d*Z,t+=(d=b[14])*K,u+=d*L,v+=d*M,w+=d*N,x+=d*O,y+=d*P,z+=d*Q,A+=d*R,B+=d*S,C+=d*T,D+=d*U,E+=d*V,F+=d*W,G+=d*X,H+=d*Y,I+=d*Z,u+=(d=b[15])*K,v+=d*L,w+=d*M,x+=d*N,y+=d*O,z+=d*P,A+=d*Q,B+=d*R,C+=d*S,D+=d*T,E+=d*U,F+=d*V,G+=d*W,H+=d*X,I+=d*Y,J+=d*Z,f+=38*v,g+=38*w,h+=38*x,i+=38*y,j+=38*z,k+=38*A,l+=38*B,m+=38*C,n+=38*D,o+=38*E,p+=38*F,q+=38*G,r+=38*H,s+=38*I,t+=38*J,e=Math.floor((d=f+(e=1)+65535)/65536),f=d-65536*e,e=Math.floor((d=g+e+65535)/65536),g=d-65536*e,e=Math.floor((d=h+e+65535)/65536),h=d-65536*e,e=Math.floor((d=i+e+65535)/65536),i=d-65536*e,e=Math.floor((d=j+e+65535)/65536),j=d-65536*e,e=Math.floor((d=k+e+65535)/65536),k=d-65536*e,e=Math.floor((d=l+e+65535)/65536),l=d-65536*e,e=Math.floor((d=m+e+65535)/65536),m=d-65536*e,e=Math.floor((d=n+e+65535)/65536),n=d-65536*e,e=Math.floor((d=o+e+65535)/65536),o=d-65536*e,e=Math.floor((d=p+e+65535)/65536),p=d-65536*e,e=Math.floor((d=q+e+65535)/65536),q=d-65536*e,e=Math.floor((d=r+e+65535)/65536),r=d-65536*e,e=Math.floor((d=s+e+65535)/65536),s=d-65536*e,e=Math.floor((d=t+e+65535)/65536),t=d-65536*e,e=Math.floor((d=u+e+65535)/65536),u=d-65536*e,f+=e-1+37*(e-1),e=Math.floor((d=f+(e=1)+65535)/65536),f=d-65536*e,e=Math.floor((d=g+e+65535)/65536),g=d-65536*e,e=Math.floor((d=h+e+65535)/65536),h=d-65536*e,e=Math.floor((d=i+e+65535)/65536),i=d-65536*e,e=Math.floor((d=j+e+65535)/65536),j=d-65536*e,e=Math.floor((d=k+e+65535)/65536),k=d-65536*e,e=Math.floor((d=l+e+65535)/65536),l=d-65536*e,e=Math.floor((d=m+e+65535)/65536),m=d-65536*e,e=Math.floor((d=n+e+65535)/65536),n=d-65536*e,e=Math.floor((d=o+e+65535)/65536),o=d-65536*e,e=Math.floor((d=p+e+65535)/65536),p=d-65536*e,e=Math.floor((d=q+e+65535)/65536),q=d-65536*e,e=Math.floor((d=r+e+65535)/65536),r=d-65536*e,e=Math.floor((d=s+e+65535)/65536),s=d-65536*e,e=Math.floor((d=t+e+65535)/65536),t=d-65536*e,e=Math.floor((d=u+e+65535)/65536),u=d-65536*e,f+=e-1+37*(e-1),a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=r,a[13]=s,a[14]=t,a[15]=u}function cr(a,b,c){let d,e,f,g=new Uint8Array(32),h=new Float64Array(80),i=cj(),j=cj(),k=cj(),l=cj(),m=cj(),n=cj();for(e=0;e<31;e++)g[e]=b[e];g[31]=127&b[31]|64,g[0]&=248;for(let a=0;a<16;a++)h[a]=c[2*a]+(c[2*a+1]<<8);for(h[15]&=32767,e=0;e<16;e++)j[e]=h[e],l[e]=i[e]=k[e]=0;for(e=254,i[0]=l[0]=1;e>=0;--e)cm(i,j,d=g[e>>>3]>>>(7&e)&1),cm(k,l,d),co(m,i,k),cp(i,i,k),co(k,j,l),cp(j,j,l),cq(l,m,m),cq(n,i,i),cq(i,k,i),cq(k,j,m),co(m,i,k),cp(i,i,k),cq(j,i,i),cp(k,l,n),cq(i,k,cl),co(i,i,l),cq(k,k,i),cq(i,l,n),cq(l,j,h),cq(j,m,m),cm(i,j,d),cm(k,l,d);for(e=0;e<16;e++)h[e+16]=i[e],h[e+32]=k[e],h[e+48]=j[e],h[e+64]=l[e];let o=h.subarray(32),p=h.subarray(16),q=cj();for(f=0;f<16;f++)q[f]=o[f];for(f=253;f>=0;f--){var r;cq(q,r=q,r),2!==f&&4!==f&&cq(q,q,o)}for(f=0;f<16;f++)o[f]=q[f];return cq(p,p,o),!function(a,b){let c,d,e,f=cj(),g=cj();for(c=0;c<16;c++)g[c]=b[c];for(cn(g),cn(g),cn(g),d=0;d<2;d++){for(c=1,f[0]=g[0]-65517;c<15;c++)f[c]=g[c]-65535-(f[c-1]>>16&1),f[c-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1),e=f[15]>>16&1,f[14]&=65535,cm(g,f,1-e)}for(c=0;c<16;c++)a[2*c]=255&g[c],a[2*c+1]=g[c]>>8}(a,p),a}class cs extends Error{}function ct(a){if(32!==a.length)throw new cs("bad secret key size");return{publicKey:cr(new Uint8Array(32),a,ck),secretKey:new Uint8Array(a)}}function cu(a,b){if(!X(a)||!X(b))throw Error("Not byteslike data!");return"string"==typeof a?"string"==typeof b?b:$(b):"string"==typeof b?$(b):b}function cv(a){return a.message?a.message:`Call failed in module '${a.module}' with code '${a.code}'`}(d=e||(e={}))[d.X25519DeoxysII=1]="X25519DeoxysII";class cw{encryptCall(a,b){let c;if(null==a||0===a.length)return"";if(!X(a))throw Error("Attempted to sign tx having non-byteslike data.");let d=bb({body:Y(a)});return{ciphertext:c,nonce:b}=this.encrypt(d,b),cu(a,bb({format:this.kind,body:{pk:this.publicKey,nonce:b,data:c,epoch:this.epoch}}))}decryptCall(a){let b=bg(Y(a));return!function(a){let{format:b,body:c}=a;if(!c||!b)throw new cy("No body or format specified",a);if(b!==e.X25519DeoxysII)throw new cy("Not encrypted format",a);if(X(c))throw new cy("Requires struct body",a);if(!X(c.data))throw new cy("No body data",a)}(b),cu(a,bg(this.decrypt(b.body.nonce,b.body.data)).body)}encryptResult(a,b,c){if(a||b){if(a&&b||c)throw new cy("Conflicting result envelope",{ok:a,innerFail:b,outerFail:c});let d=bb(b?{fail:b}:{ok:a}),{nonce:e,ciphertext:f}=this.encrypt(d);return bb({ok:{nonce:e,data:f}})}if(c)return bb({fail:c});throw new cy("Cannot encrypt result with no data or failures!",{ok:a,innerFail:b,outerFail:c})}decryptResult(a){var b;let c=bg(Y(a));if(c.fail)throw new cy(cv(c.fail),c.fail);if(c.ok&&("string"==typeof c.ok||c.ok instanceof Uint8Array))throw new cy("Received unencrypted envelope",c);let{nonce:d,data:e}=null!=(b=c.ok)?b:c.unknown,f=bg(this.decrypt(d,e));if(f.ok)return cu(a,Y(f.ok));if(f.fail)throw new cy(cv(f.fail),f.fail);throw new cy(`Unexpected inner call result: ${JSON.stringify(f)}`,f)}}class cx extends cw{static ephemeral(a,b){return new cx(ct((0,ca.randomBytes)(32)),Y(a),b)}static fromSecretKey(a,b,c){return new cx(ct(Y(a)),Y(b),c)}constructor(a,b,c){super(),this.kind=e.X25519DeoxysII,this.publicKey=a.publicKey,this.ephemeralKey=a.secretKey,this.epoch=c;const d=ci.hmac.create(ch,new TextEncoder().encode("MRAE_Box_Deoxys-II-256-128")).update(function(a,b){if(32!==a.length)throw new cs("bad n size");if(32!==b.length)throw new cs("bad p size");return cr(new Uint8Array(32),a,b)}(a.secretKey,b)).digest().buffer;this.secretKey=new Uint8Array(d),this.cipher=new bk.AEAD(new Uint8Array(this.secretKey))}encrypt(a,b=(0,ca.randomBytes)(bk.NonceSize)){let c=this.cipher.encrypt(b,a);return{nonce:b,ciphertext:c}}decrypt(a,b){return this.cipher.decrypt(a,b)}}class cy extends Error{constructor(a,b){super(a),this.response=b}}var cz=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};function cA(a){let b=BigInt(8);return a.reduce((a,c)=>a<<b|BigInt(c),BigInt(0))}class cB extends Error{}class cC{constructor(a=3e5){this.timeoutMilliseconds=a}fetch(a){return cz(this,void 0,void 0,function*(){if(void 0===a)throw Error("fetch() Upstream must not be undefined!");if(this.pubkey){let a=this.pubkey,b=Date.now()-this.timeoutMilliseconds;if(a.fetched&&a.fetched.valueOf()>=b)return a}return this.pubkey=yield function(a){return cz(this,void 0,void 0,function*(){var b;let c,{upstream:d}=a;c="string"==typeof(b=yield d.request({method:"eth_chainId"}))?b.startsWith("0x")?parseInt(b,16):parseInt(b):b;let e=yield d.request({method:"eth_call",params:[{to:bh,data:bi},"latest"]});if("0x"===e)throw Error(`fetchRuntimePublicKey - invalid response: ${e}`);let[f,g]=function(a){if(a.length<96)throw new cB("too short");let b=cA(a.slice(0,32)),c=Number(cA(a.slice(32,64)));if(a.length<c+32)throw new cB("too short, offset");let d=Number(cA(a.slice(c,c+32)));if(a.length<c+32+d)throw new cB("too short, data");return[b,a.slice(c+32,c+32+d)]}(Y(e));if(f!==BigInt(0))throw Error(`fetchRuntimePublicKey - invalid status: ${f}`);let h=bg(g);return{key:h.public_key.key,checksum:h.public_key.checksum,signature:h.public_key.signature,epoch:h.epoch,chainId:c,fetched:new Date}})}({upstream:a})})}cipher(a){return cz(this,void 0,void 0,function*(){let{key:b,epoch:c}=yield this.fetch(a).catch(a=>{throw console.error("KeyFetcher.cipher failed",a),a});return cx.ephemeral(b,c)})}cipherSync(){if(!this.pubkey)throw Error("No cached pubkey!");let{key:a,epoch:b}=this.pubkey;return cx.ephemeral(a,b)}}var cD=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};function cE(a){return a||(a={}),a.fetcher||(a.fetcher=new cC),a}let cF="#SAPPHIRE_WRAPPED_ETHEREUMPROVIDER";function cG(a,b){if(a&&cF in a)return a;if(!("request"in a&&"function"==typeof a.request)&&!("send"in a&&"function"==typeof a.send))throw Error("It is neither an Ethereum nor a Legacy provider");let c=cE(b),d=function(a,b){var c;if((c=a.request)&&cH in c)return a.request;let d=cE(b);return cI(b=>cD(this,void 0,void 0,function*(){let c,e=d.enableSapphireSnap?yield function(a){return cD(this,void 0,void 0,function*(){try{let b=yield a.request({method:"wallet_getSnaps"});for(let a of Object.values(b))if("npm:@oasisprotocol/sapphire-snap"===a.id)return a.id}catch(a){return}})}(a):void 0,{method:f,params:g}=b;if(!(g&&Array.isArray(g)&&/^eth_((send|sign)Transaction|call|estimateGas)$/.test(f))||!g[0].data)return yield a.request({method:f,params:null!=g?g:[]});{let b=yield d.fetcher.cipher(a);c=g[0].data=b.encryptCall(g[0].data),void 0!==e&&void 0!==c&&function(a,b,c,d,e){cD(this,void 0,void 0,function*(){if(b.ephemeralKey){let f=yield d.fetcher.fetch(e);yield e.request({method:"wallet_invokeSnap",params:{snapId:a,request:{method:"setTransactionDecryptKeys",params:{id:c,ephemeralSecretKey:$(b.ephemeralKey),peerPublicKey:$(f.key),peerPublicKeyEpoch:f.epoch}}}})}})}(e,b,c,d,a);let h=yield a.request({method:f,params:null!=g?g:[]});return"eth_call"!==f||g&&Array.isArray(g)&&g.length>0&&g[0].to===bh&&g[0].data===bi?h:b.decryptResult(h)}}),cH,d)}(a,c),e={request:d};return"send"in a&&(e.send=(a,b)=>d({method:a,params:b})),"sendAsync"in a&&(e.sendAsync=()=>{throw Error("sendAsync not supported!")}),cI(a,cF,c,e)}let cH="#SAPPHIRE_EIP1193_REQUESTFN";function cI(a,b,c,d){return new Proxy(a,{has:(a,c)=>c===b||Reflect.has(a,c),get(a,e){var f;if(e===b)return c;if(d&&e in d)return Reflect.get(d,e);let g=Reflect.get(a,e),h=(null==(f=Object.getOwnPropertyDescriptor(a,e))?void 0:f.writable)!==!1;return"function"==typeof g&&h?g.bind(a):g}})}var cJ=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};class cK extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return"@wagmi/core@2.22.1"}constructor(a,b={}){super(),f.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const c=b.cause instanceof cK?b.cause.details:b.cause?.message?b.cause.message:b.details,d=b.cause instanceof cK&&b.cause.docsPath||b.docsPath;this.message=[a||"An error occurred.","",...b.metaMessages?[...b.metaMessages,""]:[],...d?[`Docs: ${this.docsBaseUrl}${d}.html${b.docsSlug?`#${b.docsSlug}`:""}`]:[],...c?[`Details: ${c}`]:[],`Version: ${this.version}`].join("\n"),b.cause&&(this.cause=b.cause),this.details=c,this.docsPath=d,this.metaMessages=b.metaMessages,this.shortMessage=a}walk(a){return cJ(this,f,"m",g).call(this,this,a)}}f=new WeakSet,g=function a(b,c){return c?.(b)?b:b.cause?cJ(this,f,"m",a).call(this,b.cause,c):b};class cL extends cK{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class cM extends cK{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function cN(a={}){let b,c,d,e,{shimDisconnect:f=!0,unstable_shimAsyncInject:g}=a;function h(){let b=a.target;if("function"==typeof b){let a=b();if(a)return a}return"object"==typeof b?b:"string"==typeof b?{...cO[b]??{id:b,name:`${b[0].toUpperCase()}${b.slice(1)}`,provider:`is${b[0].toUpperCase()}${b.slice(1)}`}}:{id:"injected",name:"Injected",provider:a=>a?.ethereum}}return i=>({get icon(){return h().icon},get id(){return h().id},get name(){return h().name},get supportsSimulation(){return!0},type:cN.type,async setup(){let c=await this.getProvider();c?.on&&a.target&&(d||(d=this.onConnect.bind(this),c.on("connect",d)),b||(b=this.onAccountsChanged.bind(this),c.on("accountsChanged",b)))},async connect({chainId:g,isReconnecting:h,withCapabilities:j}={}){let k=await this.getProvider();if(!k)throw new cM;let l=[];if(h)l=await this.getAccounts().catch(()=>[]);else if(f)try{let a=await k.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});(l=a[0]?.caveats?.[0]?.value?.map(a=>(0,C.getAddress)(a))).length>0&&(l=await this.getAccounts())}catch(a){if(a.code===E.UserRejectedRequestError.code)throw new E.UserRejectedRequestError(a);if(a.code===E.ResourceUnavailableRpcError.code)throw a}try{l?.length||h||(l=(await k.request({method:"eth_requestAccounts"})).map(a=>(0,C.getAddress)(a))),d&&(k.removeListener("connect",d),d=void 0),b||(b=this.onAccountsChanged.bind(this),k.on("accountsChanged",b)),c||(c=this.onChainChanged.bind(this),k.on("chainChanged",c)),e||(e=this.onDisconnect.bind(this),k.on("disconnect",e));let m=await this.getChainId();if(g&&m!==g){let a=await this.switchChain({chainId:g}).catch(a=>{if(a.code===E.UserRejectedRequestError.code)throw a;return{id:m}});m=a?.id??m}return f&&await i.storage?.removeItem(`${this.id}.disconnected`),a.target||await i.storage?.setItem("injected.connected",!0),{accounts:j?l.map(a=>({address:a,capabilities:{}})):l,chainId:m}}catch(a){if(a.code===E.UserRejectedRequestError.code)throw new E.UserRejectedRequestError(a);if(a.code===E.ResourceUnavailableRpcError.code)throw new E.ResourceUnavailableRpcError(a);throw a}},async disconnect(){let b=await this.getProvider();if(!b)throw new cM;c&&(b.removeListener("chainChanged",c),c=void 0),e&&(b.removeListener("disconnect",e),e=void 0),d||(d=this.onConnect.bind(this),b.on("connect",d));try{await (0,G.withTimeout)(()=>b.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}f&&await i.storage?.setItem(`${this.id}.disconnected`,!0),a.target||await i.storage?.removeItem("injected.connected")},async getAccounts(){let a=await this.getProvider();if(!a)throw new cM;return(await a.request({method:"eth_accounts"})).map(a=>(0,C.getAddress)(a))},async getChainId(){let a=await this.getProvider();if(!a)throw new cM;return Number(await a.request({method:"eth_chainId"}))},async getProvider(){},async isAuthorized(){try{if(f&&await i.storage?.getItem(`${this.id}.disconnected`)||!a.target&&!await i.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==g&&!1!==g){let a=async()=>!!await this.getProvider(),b="number"==typeof g?g:1e3;if(await Promise.race([new Promise(c=>setTimeout(()=>c(a()),b))]))return!0}throw new cM}return!!(await (0,F.withRetry)(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:b}){let c=await this.getProvider();if(!c)throw new cM;let d=i.chains.find(a=>a.id===b);if(!d)throw new E.SwitchChainError(new cL);let e=new Promise(a=>{let c=d=>{"chainId"in d&&d.chainId===b&&(i.emitter.off("change",c),a())};i.emitter.on("change",c)});try{return await Promise.all([c.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,D.numberToHex)(b)}]}).then(async()=>{await this.getChainId()===b&&i.emitter.emit("change",{chainId:b})}),e]),d}catch(f){if(4902===f.code||f?.data?.originalError?.code===4902)try{let f,g,{default:h,...j}=d.blockExplorers??{};a?.blockExplorerUrls?f=a.blockExplorerUrls:h&&(f=[h.url,...Object.values(j).map(a=>a.url)]),g=a?.rpcUrls?.length?a.rpcUrls:[d.rpcUrls.default?.http[0]??""];let k={blockExplorerUrls:f,chainId:(0,D.numberToHex)(b),chainName:a?.chainName??d.name,iconUrls:a?.iconUrls,nativeCurrency:a?.nativeCurrency??d.nativeCurrency,rpcUrls:g};return await Promise.all([c.request({method:"wallet_addEthereumChain",params:[k]}).then(async()=>{if(await this.getChainId()===b)i.emitter.emit("change",{chainId:b});else throw new E.UserRejectedRequestError(Error("User rejected switch after adding network."))}),e]),d}catch(a){throw new E.UserRejectedRequestError(a)}if(f.code===E.UserRejectedRequestError.code)throw new E.UserRejectedRequestError(f);throw new E.SwitchChainError(f)}},async onAccountsChanged(a){if(0===a.length)this.onDisconnect();else if(i.emitter.listenerCount("connect")){let a=(await this.getChainId()).toString();this.onConnect({chainId:a}),f&&await i.storage?.removeItem(`${this.id}.disconnected`)}else i.emitter.emit("change",{accounts:a.map(a=>(0,C.getAddress)(a))})},onChainChanged(a){let b=Number(a);i.emitter.emit("change",{chainId:b})},async onConnect(a){let f=await this.getAccounts();if(0===f.length)return;let g=Number(a.chainId);i.emitter.emit("connect",{accounts:f,chainId:g});let h=await this.getProvider();h&&(d&&(h.removeListener("connect",d),d=void 0),b||(b=this.onAccountsChanged.bind(this),h.on("accountsChanged",b)),c||(c=this.onChainChanged.bind(this),h.on("chainChanged",c)),e||(e=this.onDisconnect.bind(this),h.on("disconnect",e)))},async onDisconnect(a){let b=await this.getProvider();a&&1013===a.code&&b&&(await this.getAccounts()).length||(i.emitter.emit("disconnect"),b&&(c&&(b.removeListener("chainChanged",c),c=void 0),e&&(b.removeListener("disconnect",e),e=void 0),d||(d=this.onConnect.bind(this),b.on("connect",d))))}})}cN.type="injected";let cO={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:a=>a?.coinbaseWalletExtension?a.coinbaseWalletExtension:cP(a,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:a=>cP(a,a=>{if(!a.isMetaMask||a.isBraveWallet&&!a._events&&!a._state)return!1;for(let b of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"])if(a[b])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:a=>a?.phantom?.ethereum?a.phantom?.ethereum:cP(a,"isPhantom")}};function cP(a,b){function c(a){return"function"==typeof b?b(a):"string"!=typeof b||a[b]}let d=a.ethereum;return d?.providers?d.providers.find(a=>c(a)):d&&c(d)?d:void 0}a.i(878888).default;let cQ=new Map,cR=(null==(i=null==(h=globalThis.process)?void 0:h.env)?void 0:i.SAPPHIRE_LOCALNET_HTTP_PROXY_PORT)?Number(process.env.SAPPHIRE_LOCALNET_HTTP_PROXY_PORT):8545,cS=(null==(k=null==(j=globalThis.process)?void 0:j.env)?void 0:k.SAPPHIRE_LOCALNET_HTTP_PROXY_HOST)?Number(process.env.SAPPHIRE_LOCALNET_HTTP_PROXY_HOST):"localhost",cT={chainName:"Oasis Sapphire Localnet",chainId:23293,defaultGateway:`http://${cS}:${cR}`,rpcUrls:[`http://${cS}:${cR}`],nativeCurrency:{name:"Oasis TEST",symbol:"TEST",decimals:18},blockExplorerUrls:["http://localhost:8548/localnet/sapphire"],runtimeId:"0x8000000000000000000000000000000000000000000000000000000000000000"},cU={chainName:"Oasis Sapphire",chainId:23294,defaultGateway:"https://sapphire.oasis.io/",rpcUrls:["https://sapphire.oasis.io/"],nativeCurrency:{name:"Oasis ROSE",symbol:"ROSE",decimals:18},blockExplorerUrls:["https://explorer.oasis.io/mainnet/sapphire"],iconUrls:["https://assets.oasis.io/logotypes/metamask-oasis-sapphire.png"],runtimeId:"0x000000000000000000000000000000000000000000000000f80306c9858e7279"},cV={chainName:"Oasis Sapphire Testnet",chainId:23295,defaultGateway:"https://testnet.sapphire.oasis.io/",rpcUrls:["https://testnet.sapphire.oasis.io/"],nativeCurrency:{name:"Oasis TEST",symbol:"TEST",decimals:18},blockExplorerUrls:["https://explorer.oasis.io/testnet/sapphire"],iconUrls:["https://assets.oasis.io/logotypes/metamask-oasis-sapphire-testnet.png"],runtimeId:"0x000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c"},cW={mainnet:cU,testnet:cV,localnet:cT,[cU.chainId]:cU,[cV.chainId]:cV,[cT.chainId]:cT};var cX=a.i(486065),cY=a.i(218013);a.i(596877),(0,cY.defineChain)({id:cW.localnet.chainId,name:"Oasis Sapphire Localnet",network:"sapphire-localnet",nativeCurrency:{name:"Sapphire Local Rose",symbol:"TEST",decimals:18},rpcUrls:{default:{http:[cW.localnet.defaultGateway]}},testnet:!0});let cZ=Symbol("#SAPPHIRE_WRAPPED_VIEM_TRANSPORT");function c$(a,b,c){let d={};return e=>{let f=e.chain?.rpcUrls.default.http[0],g=b||f;if(!g)throw Error("sapphireHttpTransport() needs a chain.rpcUrls.default.http[0] to be set or explicit url");if(!(g in d)){let b=cG((0,cX.http)(g,c)(e),a);Reflect.set(b,cZ,!0),d[g]=b}return d[g]}}Symbol("#SAPPHIRE_WRAPPED_VIEM_SERIALIZER");let c_=function(a){let c,d,e,{multiInjectedProviderDiscovery:f=!0,storage:g=function(a){let{deserialize:b=O,key:c="wagmi",serialize:d=R,storage:e=S}=a;function f(a){return a instanceof Promise?a.then(a=>a).catch(()=>null):a}return{...e,key:c,async getItem(a,d){let g=e.getItem(`${c}.${a}`),h=await f(g);return h?b(h)??null:d??null},async setItem(a,b){let g=`${c}.${a}`;null===b?await f(e.removeItem(g)):await f(e.setItem(g,d(b)))},async removeItem(a){await f(e.removeItem(`${c}.${a}`))}}}({storage:{getItem:a=>S.getItem(a),removeItem(a){S.removeItem(a)},setItem(a,b){try{S.setItem(a,b)}catch{}}}}),syncConnectedChain:h=!0,ssr:i=!1,...j}=a,k,l=B(()=>j.chains),m=B(()=>{let a=[],b=new Set;for(let c of j.connectors??[]){let d=n(c);if(a.push(d),!i&&d.rdns)for(let a of"string"==typeof d.rdns?[d.rdns]:d.rdns)b.add(a)}return a});function n(a){let c=new N(function(a=11){if(!b||T+a>512){b="",T=0;for(let a=0;a<256;a++)b+=(256+256*Math.random()|0).toString(16).substring(1)}return b.substring(T,T+++a)}()),d={...a({emitter:c,chains:l.getState(),storage:g,transports:j.transports}),emitter:c,uid:c.uid};return c.on("connect",v),d.setup?.(),d}function o(a){let{info:b}=a,c=a.provider;return J({target:{...b,id:b.rdns,provider:c}})}let p=new Map;function q(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let r="0.0.0-canary-";c=U.version.startsWith(r)?Number.parseInt(U.version.replace(r,""),10):Number.parseInt(U.version.split(".")[0]??"0",10);let s=B((e=g?(d={migrate(a,b){if(b===c)return a;let d=q(),e=t(a,d.chainId);return{...d,chainId:e}},name:"store",partialize:a=>({connections:{__type:"Map",value:Array.from(a.connections.entries()).map(([a,b])=>{let{id:c,name:d,type:e,uid:f}=b.connector;return[a,{...b,connector:{id:c,name:d,type:e,uid:f}}]})},chainId:a.chainId,current:a.current}),merge(a,b){"object"==typeof a&&a&&"status"in a&&delete a.status;let c=t(a,b.chainId);return{...b,...a,chainId:c}},skipHydration:i,storage:g,version:c},(a,b,c)=>{let e,f={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...d},g=!1,h=new Set,i=new Set,j=f.storage;if(!j)return q((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),a(...b)},b,c);let k=()=>{let a=f.partialize({...b()});return j.setItem(f.name,{state:a,version:f.version})},l=c.setState;c.setState=(a,b)=>{l(a,b),k()};let m=q((...b)=>{a(...b),k()},b,c);c.getInitialState=()=>m;let n=()=>{var c,d;if(!j)return;g=!1,h.forEach(a=>{var c;return a(null!=(c=b())?c:m)});let l=(null==(d=f.onRehydrateStorage)?void 0:d.call(f,null!=(c=b())?c:m))||void 0;return z(j.getItem.bind(j))(f.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===f.version)return[!1,a.state];else{if(f.migrate)return[!0,f.migrate(a.state,a.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(c=>{var d;let[g,h]=c;if(a(e=f.merge(h,null!=(d=b())?d:m),!0),g)return k()}).then(()=>{null==l||l(e,void 0),e=b(),g=!0,i.forEach(a=>a(e))}).catch(a=>{null==l||l(void 0,a)})};return c.persist={setOptions:a=>{f={...f,...a},a.storage&&(j=a.storage)},clearStorage:()=>{null==j||j.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>n(),hasHydrated:()=>g,onHydrate:a=>(h.add(a),()=>{h.delete(a)}),onFinishHydration:a=>(i.add(a),()=>{i.delete(a)})},f.skipHydration||n(),e||m}):q,(a,b,c)=>{let d=c.subscribe;return c.subscribe=(a,b,e)=>{let f=a;if(b){let d=(null==e?void 0:e.equalityFn)||Object.is,g=a(c.getState());f=c=>{let e=a(c);if(!d(g,e)){let a=g;b(g=e,a)}},(null==e?void 0:e.fireImmediately)&&b(g,g)}return d(f)},e(a,b,c)}));function t(a,b){return a&&"object"==typeof a&&"chainId"in a&&"number"==typeof a.chainId&&l.getState().some(b=>b.id===a.chainId)?a.chainId:b}function u(a){s.setState(b=>{let c=b.connections.get(a.uid);return c?{...b,connections:new Map(b.connections).set(a.uid,{accounts:a.accounts??c.accounts,chainId:a.chainId??c.chainId,connector:c.connector})}:b})}function v(a){"connecting"!==s.getState().status&&"reconnecting"!==s.getState().status&&s.setState(b=>{let c=m.getState().find(b=>b.uid===a.uid);return c?(c.emitter.listenerCount("connect")&&c.emitter.off("connect",u),c.emitter.listenerCount("change")||c.emitter.on("change",u),c.emitter.listenerCount("disconnect")||c.emitter.on("disconnect",w),{...b,connections:new Map(b.connections).set(a.uid,{accounts:a.accounts,chainId:a.chainId,connector:c}),current:a.uid,status:"connected"}):b})}function w(a){s.setState(b=>{let c=b.connections.get(a.uid);if(c){let a=c.connector;a.emitter.listenerCount("change")&&c.connector.emitter.off("change",u),a.emitter.listenerCount("disconnect")&&c.connector.emitter.off("disconnect",w),a.emitter.listenerCount("connect")||c.connector.emitter.on("connect",v)}if(b.connections.delete(a.uid),0===b.connections.size)return{...b,connections:new Map,current:null,status:"disconnected"};let d=b.connections.values().next().value;return{...b,connections:new Map(b.connections),current:d.connector.uid}})}return s.setState(q()),h&&s.subscribe(({connections:a,current:b})=>b?a.get(b)?.chainId:void 0,a=>{if(l.getState().some(b=>b.id===a))return s.setState(b=>({...b,chainId:a??b.chainId}))}),k?.subscribe(a=>{let b=new Set,c=new Set;for(let a of m.getState())if(b.add(a.id),a.rdns)for(let b of"string"==typeof a.rdns?[a.rdns]:a.rdns)c.add(b);let d=[];for(let e of a){if(c.has(e.info.rdns))continue;let a=n(o(e));b.has(a.id)||d.push(a)}(!g||s.persist.hasHydrated())&&m.setState(a=>[...a,...d],!0)}),{get chains(){return l.getState()},get connectors(){return m.getState()},storage:g,getClient:function(a={}){let b,c=a.chainId??s.getState().chainId,d=l.getState().find(a=>a.id===c);if(a.chainId&&!d)throw new H.ChainNotConfiguredError;{let a=p.get(s.getState().chainId);if(a&&!d)return a;if(!d)throw new H.ChainNotConfiguredError}{let a=p.get(c);if(a)return a}if(j.client)b=j.client({chain:d});else{let a=d.id,c=l.getState().map(a=>a.id),e={};for(let[b,d]of Object.entries(j))if("chains"!==b&&"client"!==b&&"connectors"!==b&&"transports"!==b)if("object"==typeof d)if(a in d)e[b]=d[a];else{if(c.some(a=>a in d))continue;e[b]=d}else e[b]=d;b=(0,y.createClient)({...e,chain:d,batch:e.batch??{multicall:!0},transport:b=>j.transports[a]({...b,connectors:m})})}return p.set(c,b),b},get state(){return s.getState()},setState(a){let b;b="function"==typeof a?a(s.getState()):a;let c=q();"object"!=typeof b&&(b=c),Object.keys(c).some(a=>!(a in b))&&(b=c),s.setState(b,!0)},subscribe:(a,b,c)=>s.subscribe(a,b,c?{...c,fireImmediately:c.emitImmediately}:void 0),_internal:{mipd:k,async revalidate(){let a=s.getState(),b=a.connections,c=a.current;for(let[,a]of b){let d=a.connector;d.isAuthorized&&await d.isAuthorized()||(b.delete(d.uid),c===d.uid&&(c=null))}s.setState(a=>({...a,connections:b,current:c}))},store:s,ssr:!!i,syncConnectedChain:h,transports:j.transports,chains:{setState(a){let b="function"==typeof a?a(l.getState()):a;if(0!==b.length)return l.setState(b,!0)},subscribe:a=>l.subscribe(a)},connectors:{providerDetailToConnector:o,setup:n,setState:a=>m.setState("function"==typeof a?a(m.getState()):a,!0),subscribe:a=>m.subscribe(a)},events:{change:u,connect:v,disconnect:w}}}}({chains:[W.sapphireTestnet],connectors:[cN({target:()=>({id:"injected-sapphire",name:"Injected (Sapphire)",provider(a){if(a?.ethereum){if(!cQ.has(a.ethereum)){let b=cG(a.ethereum,void 0);return cQ.set(a.ethereum,b),b}return cQ.get(a.ethereum)}}})})],transports:{[W.sapphireTestnet.id]:c$(),[V.sapphire.id]:c$()}});a.s(["config",0,c_,"contractAddress",0,"0xB6b8688E15Dd0d85cD5b7EeF9a09C7E926f6E0F1"],560027)}];

//# sourceMappingURL=857f8_3d8aefe7._.js.map