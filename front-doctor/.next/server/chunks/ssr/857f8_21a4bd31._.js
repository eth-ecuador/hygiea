module.exports=[33983,a=>{"use strict";var b=a.i(662564),c=a.i(519583),d=a.i(41580),e=a.i(183623),f=a.i(736101);function g(a,{abi:g,address:h,args:i,docsPath:j,functionName:k,sender:l}){let m=a instanceof d.RawContractError?a:a instanceof c.BaseError?a.walk(a=>"data"in a)||a.walk():{},{code:n,data:o,details:p,message:q,shortMessage:r}=m,s=a instanceof b.AbiDecodingZeroDataError?new d.ContractFunctionZeroDataError({functionName:k}):[3,f.InternalRpcError.code].includes(n)&&(o||p||q||r)||n===f.InvalidInputRpcError.code&&"execution reverted"===p&&o?new d.ContractFunctionRevertedError({abi:g,data:"object"==typeof o?o.data:o,functionName:k,message:m instanceof e.RpcRequestError?p:r??q}):a;return new d.ContractFunctionExecutionError(s,{abi:g,args:i,contractAddress:h,docsPath:j,functionName:k,sender:l})}a.s(["getContractError",()=>g])},99462,a=>{"use strict";function b(a,b,c){let d=a[b.name];if("function"==typeof d)return d;let e=a[c];return"function"==typeof e?e:c=>b(a,c)}a.s(["getAction",()=>b])},199688,857183,598114,a=>{"use strict";var b=a.i(481476),c=a.i(375908),d=a.i(283088),e=a.i(649290),f=a.i(679572),g=a.i(875032);async function h({hash:b,signature:c}){let h=(0,d.isHex)(b)?b:(0,g.toHex)(b),{secp256k1:j}=await a.A(383948),k=(()=>{if("object"==typeof c&&"r"in c&&"s"in c){let{r:a,s:b,v:d,yParity:e}=c,g=i(Number(e??d));return new j.Signature((0,f.hexToBigInt)(a),(0,f.hexToBigInt)(b)).addRecoveryBit(g)}let a=(0,d.isHex)(c)?c:(0,g.toHex)(c);if(65!==(0,e.size)(a))throw Error("invalid signature length");let b=i((0,f.hexToNumber)(`0x${a.slice(130)}`));return j.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(b)})().recoverPublicKey(h.substring(2)).toHex(!1);return`0x${k}`}function i(a){if(0===a||1===a)return a;if(27===a)return 0;if(28===a)return 1;throw Error("Invalid yParityOrV value")}async function j({hash:a,signature:d}){var e;let f;return e=await h({hash:a,signature:d}),f=(0,c.keccak256)(`0x${e.substring(4)}`).substring(26),(0,b.checksumAddress)(`0x${f}`)}a.s(["recoverPublicKey",()=>h],857183),a.s(["recoverAddress",()=>j],598114);var k=a.i(703056),l=a.i(1428),m=a.i(975859);async function n(a){let{authorization:b,signature:d}=a;return j({hash:function(a){let{chainId:b,nonce:d,to:e}=a,f=a.contractAddress??a.address,h=(0,c.keccak256)((0,k.concatHex)(["0x05",(0,m.toRlp)([b?(0,g.numberToHex)(b):"0x",f,d?(0,g.numberToHex)(d):"0x"])]));return"bytes"===e?(0,l.hexToBytes)(h):h}(b),signature:d??b})}a.s(["recoverAuthorizationAddress",()=>n],199688)},618524,832429,a=>{"use strict";var b=a.i(442842);function c({chain:a,currentChainId:c}){if(!a)throw new b.ChainNotFoundError;if(c!==a.id)throw new b.ChainMismatchError({chain:a,currentChainId:c})}a.s(["assertCurrentChain",()=>c],618524);var d=a.i(290224),e=a.i(171628),f=a.i(499876);function g(a,{docsPath:b,...c}){let g,h=(g=(0,f.getNodeError)(a,c))instanceof d.UnknownNodeError?a:g;return new e.TransactionExecutionError(h,{docsPath:b,...c})}a.s(["getTransactionError",()=>g],832429)},299880,a=>{"use strict";var b=a.i(679572);async function c(a){let c=await a.request({method:"eth_chainId"},{dedupe:!0});return(0,b.hexToNumber)(c)}a.s(["getChainId",()=>c])},361328,655001,598654,952472,584355,7575,a=>{"use strict";var b=a.i(745370),c=a.i(519583);class d extends c.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class e extends c.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class f extends c.BaseError{constructor({maxPriorityFeePerGas:a}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,b.formatGwei)(a)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}a.s(["BaseFeeScalarError",()=>d,"Eip1559FeesNotSupportedError",()=>e,"MaxFeePerGasTooLowError",()=>f],655001);var g=a.i(99462),h=a.i(679572),i=c;class j extends i.BaseError{constructor({blockHash:a,blockNumber:b}){let c="Block";a&&(c=`Block at hash "${a}"`),b&&(c=`Block at number "${b}"`),super(`${c} could not be found.`,{name:"BlockNotFoundError"})}}a.s(["BlockNotFoundError",()=>j],598654);var k=a.i(875032),l=a.i(652356);async function m(a,{blockHash:b,blockNumber:c,blockTag:d=a.experimental_blockTag??"latest",includeTransactions:e}={}){let f=e??!1,g=void 0!==c?(0,k.numberToHex)(c):void 0,h=null;if(!(h=b?await a.request({method:"eth_getBlockByHash",params:[b,f]},{dedupe:!0}):await a.request({method:"eth_getBlockByNumber",params:[g||d,f]},{dedupe:!!g})))throw new j({blockHash:b,blockNumber:c});return(a.chain?.formatters?.block?.format||l.formatBlock)(h,"getBlock")}async function n(a){return BigInt(await a.request({method:"eth_gasPrice"}))}async function o(a,b){return p(a,b)}async function p(a,b){let{block:c,chain:d=a.chain,request:f}=b||{};try{let b=d?.fees?.maxPriorityFeePerGas??d?.fees?.defaultPriorityFee;if("function"==typeof b){let d=c||await (0,g.getAction)(a,m,"getBlock")({}),e=await b({block:d,client:a,request:f});if(null===e)throw Error();return e}if(void 0!==b)return b;let e=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,h.hexToBigInt)(e)}catch{let[b,d]=await Promise.all([c?Promise.resolve(c):(0,g.getAction)(a,m,"getBlock")({}),(0,g.getAction)(a,n,"getGasPrice")({})]);if("bigint"!=typeof b.baseFeePerGas)throw new e;let f=d-b.baseFeePerGas;if(f<0n)return 0n;return f}}async function q(a,b){return r(a,b)}async function r(a,b){let{block:c,chain:f=a.chain,request:h,type:i="eip1559"}=b||{},j=await (async()=>"function"==typeof f?.fees?.baseFeeMultiplier?f.fees.baseFeeMultiplier({block:c,client:a,request:h}):f?.fees?.baseFeeMultiplier??1.2)();if(j<1)throw new d;let k=j.toString().split(".")[1]?.length??0,l=10**k,o=a=>a*BigInt(Math.ceil(j*l))/BigInt(l),q=c||await (0,g.getAction)(a,m,"getBlock")({});if("function"==typeof f?.fees?.estimateFeesPerGas){let b=await f.fees.estimateFeesPerGas({block:c,client:a,multiply:o,request:h,type:i});if(null!==b)return b}if("eip1559"===i){if("bigint"!=typeof q.baseFeePerGas)throw new e;let b="bigint"==typeof h?.maxPriorityFeePerGas?h.maxPriorityFeePerGas:await p(a,{block:q,chain:f,request:h}),c=o(q.baseFeePerGas);return{maxFeePerGas:h?.maxFeePerGas??c+b,maxPriorityFeePerGas:b}}return{gasPrice:h?.gasPrice??o(await (0,g.getAction)(a,n,"getGasPrice")({}))}}a.s(["getBlock",()=>m],952472),a.s(["getGasPrice",()=>n],584355),a.s(["estimateMaxPriorityFeePerGas",()=>o,"internal_estimateMaxPriorityFeePerGas",()=>p],7575),a.s(["estimateFeesPerGas",()=>q,"internal_estimateFeesPerGas",()=>r],361328)},774419,309404,a=>{"use strict";var b=a.i(191319),c=a.i(745370),d=a.i(519583),e=a.i(171628);class f extends d.BaseError{constructor(a,{account:d,docsPath:f,chain:g,data:h,gas:i,gasPrice:j,maxFeePerGas:k,maxPriorityFeePerGas:l,nonce:m,to:n,value:o}){super(a.shortMessage,{cause:a,docsPath:f,metaMessages:[...a.metaMessages?[...a.metaMessages," "]:[],"Estimate Gas Arguments:",(0,e.prettyPrint)({from:d?.address,to:n,value:void 0!==o&&`${(0,b.formatEther)(o)} ${g?.nativeCurrency?.symbol||"ETH"}`,data:h,gas:i,gasPrice:void 0!==j&&`${(0,c.formatGwei)(j)} gwei`,maxFeePerGas:void 0!==k&&`${(0,c.formatGwei)(k)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,c.formatGwei)(l)} gwei`,nonce:m})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=a}}a.s(["EstimateGasExecutionError",()=>f],309404);var g=a.i(290224),h=a.i(499876);function i(a,{docsPath:b,...c}){let d;return new f((d=(0,h.getNodeError)(a,c))instanceof g.UnknownNodeError?a:d,{docsPath:b,...c})}a.s(["getEstimateGasError",()=>i],774419)},619014,a=>{"use strict";a.s(["estimateGas",()=>l]);var b=a.i(579680),c=a.i(519583),d=a.i(199688),e=a.i(875032),f=a.i(774419),g=a.i(771231),h=a.i(179271),i=a.i(939741),j=a.i(487291),k=a.i(779159);async function l(a,l){let{account:m=a.account,prepare:n=!0}=l,o=m?(0,b.parseAccount)(m):void 0,p=Array.isArray(n)?n:o?.type!=="local"?["blobVersionedHashes"]:void 0;try{let{accessList:b,authorizationList:f,blobs:m,blobVersionedHashes:q,blockNumber:r,blockTag:s,data:t,gas:u,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:y,nonce:z,value:A,stateOverride:B,...C}=n?await (0,k.prepareTransactionRequest)(a,{...l,parameters:p}):l,D=("bigint"==typeof r?(0,e.numberToHex)(r):void 0)||s,E=(0,i.serializeStateOverride)(B),F=await (async()=>C.to?C.to:f&&f.length>0?await (0,d.recoverAuthorizationAddress)({authorization:f[0]}).catch(()=>{throw new c.BaseError("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,j.assertRequest)(l);let G=a.chain?.formatters?.transactionRequest?.format,H=(G||h.formatTransactionRequest)({...(0,g.extract)(C,{format:G}),account:o,accessList:b,authorizationList:f,blobs:m,blobVersionedHashes:q,data:t,gas:u,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:y,nonce:z,to:F,value:A},"estimateGas");return BigInt(await a.request({method:"eth_estimateGas",params:E?[H,D??a.experimental_blockTag??"latest",E]:D?[H,D]:[H]}))}catch(b){throw(0,f.getEstimateGasError)(b,{...l,account:o,chain:a.chain})}}},740120,a=>{"use strict";var b=a.i(679572),c=a.i(875032);async function d(a,{address:d,blockTag:e="latest",blockNumber:f}){let g=await a.request({method:"eth_getTransactionCount",params:[d,"bigint"==typeof f?(0,c.numberToHex)(f):e]},{dedupe:!!f});return(0,b.hexToNumber)(g)}a.s(["getTransactionCount",()=>d])},779159,a=>{"use strict";a.s(["defaultParameters",()=>p,"prepareTransactionRequest",()=>r]);var b=a.i(579680),c=a.i(361328),d=a.i(619014),e=a.i(952472),f=a.i(740120),g=a.i(655001),h=a.i(412797),i=a.i(906105),j=a.i(629126),k=a.i(259905),l=a.i(99462),m=a.i(487291),n=a.i(730519),o=a.i(299880);let p=["blobVersionedHashes","chainId","fees","gas","nonce","type"],q=new Map;async function r(a,r){let s,t,{account:u=a.account,blobs:v,chain:w,gas:x,kzg:y,nonce:z,nonceManager:A,parameters:B=p,type:C}=r,D=u?(0,b.parseAccount)(u):u,E={...r,...D?{from:D?.address}:{}};async function F(){return s||(s=await (0,l.getAction)(a,e.getBlock,"getBlock")({blockTag:"latest"}))}async function G(){return t||(w?w.id:void 0!==r.chainId?r.chainId:t=await (0,l.getAction)(a,o.getChainId,"getChainId")({}))}if(B.includes("nonce")&&void 0===z&&D)if(A){let b=await G();E.nonce=await A.consume({address:D.address,chainId:b,client:a})}else E.nonce=await (0,l.getAction)(a,f.getTransactionCount,"getTransactionCount")({address:D.address,blockTag:"pending"});if((B.includes("blobVersionedHashes")||B.includes("sidecars"))&&v&&y){let a=(0,h.blobsToCommitments)({blobs:v,kzg:y});if(B.includes("blobVersionedHashes")&&(E.blobVersionedHashes=(0,j.commitmentsToVersionedHashes)({commitments:a,to:"hex"})),B.includes("sidecars")){let b=(0,i.blobsToProofs)({blobs:v,commitments:a,kzg:y});E.sidecars=(0,k.toBlobSidecars)({blobs:v,commitments:a,proofs:b,to:"hex"})}}if(B.includes("chainId")&&(E.chainId=await G()),(B.includes("fees")||B.includes("type"))&&void 0===C)try{E.type=(0,n.getTransactionType)(E)}catch{let b=q.get(a.uid);if(void 0===b){let c=await F();b="bigint"==typeof c?.baseFeePerGas,q.set(a.uid,b)}E.type=b?"eip1559":"legacy"}if(B.includes("fees"))if("legacy"!==E.type&&"eip2930"!==E.type){if(void 0===E.maxFeePerGas||void 0===E.maxPriorityFeePerGas){let b=await F(),{maxFeePerGas:d,maxPriorityFeePerGas:e}=await (0,c.internal_estimateFeesPerGas)(a,{block:b,chain:w,request:E});if(void 0===r.maxPriorityFeePerGas&&r.maxFeePerGas&&r.maxFeePerGas<e)throw new g.MaxFeePerGasTooLowError({maxPriorityFeePerGas:e});E.maxPriorityFeePerGas=e,E.maxFeePerGas=d}}else{if(void 0!==r.maxFeePerGas||void 0!==r.maxPriorityFeePerGas)throw new g.Eip1559FeesNotSupportedError;if(void 0===r.gasPrice){let b=await F(),{gasPrice:d}=await (0,c.internal_estimateFeesPerGas)(a,{block:b,chain:w,request:E,type:"legacy"});E.gasPrice=d}}return B.includes("gas")&&void 0===x&&(E.gas=await (0,l.getAction)(a,d.estimateGas,"estimateGas")({...E,account:D,prepare:D?.type==="local"?[]:["blobVersionedHashes"]})),(0,m.assertRequest)(E),delete E.parameters,E}},143525,798633,569146,a=>{"use strict";var b=a.i(579680),c=a.i(247202),d=a.i(454517),e=a.i(33983),f=a.i(99462),g=a.i(519583),h=a.i(199688),i=a.i(618524),j=a.i(832429),k=a.i(771231),l=a.i(179271),m=a.i(290472),n=a.i(487291),o=a.i(299880),p=a.i(779159);async function q(a,{serializedTransaction:b}){return a.request({method:"eth_sendRawTransaction",params:[b]},{retryCount:0})}a.s(["sendRawTransaction",()=>q],798633);let r=new m.LruMap(128);async function s(a,d){let{account:e=a.account,chain:m=a.chain,accessList:s,authorizationList:t,blobs:u,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,type:C,value:D,...E}=d;if(void 0===e)throw new c.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});let F=e?(0,b.parseAccount)(e):null;try{(0,n.assertRequest)(d);let b=await (async()=>d.to?d.to:null!==d.to&&t&&t.length>0?await (0,h.recoverAuthorizationAddress)({authorization:t[0]}).catch(()=>{throw new g.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(F?.type==="json-rpc"||null===F){let c;null!==m&&(c=await (0,f.getAction)(a,o.getChainId,"getChainId")({}),(0,i.assertCurrentChain)({currentChainId:c,chain:m}));let d=a.chain?.formatters?.transactionRequest?.format,e=(d||l.formatTransactionRequest)({...(0,k.extract)(E,{format:d}),accessList:s,account:F,authorizationList:t,blobs:u,chainId:c,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,to:b,type:C,value:D},"sendTransaction"),g=r.get(a.uid);try{return await a.request({method:g?"wallet_sendTransaction":"eth_sendTransaction",params:[e]},{retryCount:0})}catch(b){if(!1===g)throw b;if("InvalidInputRpcError"===b.name||"InvalidParamsRpcError"===b.name||"MethodNotFoundRpcError"===b.name||"MethodNotSupportedRpcError"===b.name)return await a.request({method:"wallet_sendTransaction",params:[e]},{retryCount:0}).then(b=>(r.set(a.uid,!0),b)).catch(c=>{if("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name)throw r.set(a.uid,!1),b;throw c});throw b}}if(F?.type==="local"){let c=await (0,f.getAction)(a,p.prepareTransactionRequest,"prepareTransactionRequest")({account:F,accessList:s,authorizationList:t,blobs:u,chain:m,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,nonceManager:F.nonceManager,parameters:[...p.defaultParameters,"sidecars"],type:C,value:D,...E,to:b}),d=m?.serializers?.transaction,e=await F.signTransaction(c,{serializer:d});return await (0,f.getAction)(a,q,"sendRawTransaction")({serializedTransaction:e})}if(F?.type==="smart")throw new c.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new c.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:F?.type})}catch(a){if(a instanceof c.AccountTypeNotSupportedError)throw a;throw(0,j.getTransactionError)(a,{...d,account:F,chain:d.chain||void 0})}}async function t(a,b){return t.internal(a,s,"sendTransaction",b)}a.s(["sendTransaction",()=>s],569146),(t||(t={})).internal=async function(a,g,h,i){let{abi:j,account:k=a.account,address:l,args:m,dataSuffix:n,functionName:o,...p}=i;if(void 0===k)throw new c.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let q=k?(0,b.parseAccount)(k):null,r=(0,d.encodeFunctionData)({abi:j,args:m,functionName:o});try{return await (0,f.getAction)(a,g,h)({data:`${r}${n?n.replace("0x",""):""}`,to:l,account:q,...p})}catch(a){throw(0,e.getContractError)(a,{abi:j,address:l,args:m,docsPath:"/docs/contract/writeContract",functionName:o,sender:q?.address})}},a.s(["writeContract",()=>t],143525)},90160,a=>{"use strict";var b=a.i(790346);function c(a,d={}){let{key:e="custom",methods:f,name:g="Custom Provider",retryDelay:h}=d;return({retryCount:c})=>(0,b.createTransport)({key:e,methods:f,name:g,request:a.request.bind(a),retryCount:d.retryCount??c,retryDelay:h,type:"custom"})}a.s(["custom",()=>c])},644930,a=>{"use strict";var b=a.i(171628),c=a.i(875032),d=a.i(69610);async function e(a,{blockHash:e,blockNumber:f,blockTag:g,hash:h,index:i,sender:j,nonce:k}){let l=g||"latest",m=void 0!==f?(0,c.numberToHex)(f):void 0,n=null;if(h?n=await a.request({method:"eth_getTransactionByHash",params:[h]},{dedupe:!0}):e?n=await a.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,(0,c.numberToHex)(i)]},{dedupe:!0}):(m||l)&&"number"==typeof i?n=await a.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[m||l,(0,c.numberToHex)(i)]},{dedupe:!!m}):j&&"number"==typeof k&&(n=await a.request({method:"eth_getTransactionBySenderAndNonce",params:[j,(0,c.numberToHex)(k)]},{dedupe:!0})),!n)throw new b.TransactionNotFoundError({blockHash:e,blockNumber:f,blockTag:l,hash:h,index:i});return(a.chain?.formatters?.transaction?.format||d.formatTransaction)(n,"getTransaction")}a.s(["getTransaction",()=>e])},942700,a=>{"use strict";let b=new Map,c=new Map,d=0;function e(a,e,f){let g=++d,h=()=>b.get(a)||[],i=()=>{let d,e=h();if(!e.some(a=>a.id===g))return;let f=c.get(a);if(1===e.length&&f){let a=f();a instanceof Promise&&a.catch(()=>{})}d=h(),b.set(a,d.filter(a=>a.id!==g))},j=h();if(b.set(a,[...j,{id:g,fns:e}]),j&&j.length>0)return i;let k={};for(let a in e)k[a]=(...b)=>{let c=h();if(0!==c.length)for(let d of c)d.fns[a]?.(...b)};let l=f(k);return"function"==typeof l&&c.set(a,l),i}a.s(["observe",()=>e])},999501,a=>{"use strict";var b=a.i(171628),c=a.i(11200);async function d(a,{hash:d}){let e=await a.request({method:"eth_getTransactionReceipt",params:[d]},{dedupe:!0});if(!e)throw new b.TransactionReceiptNotFoundError({hash:d});return(a.chain?.formatters?.transactionReceipt?.format||c.formatTransactionReceipt)(e,"getTransactionReceipt")}a.s(["getTransactionReceipt",()=>d])},809100,608066,653021,a=>{"use strict";var b=a.i(835453);function c(a,{emitOnBegin:c,initialWaitTime:d,interval:e}){let f=!0,g=()=>f=!1;return(async()=>{let h;c&&(h=await a({unpoll:g}));let i=await d?.(h)??e;await (0,b.wait)(i);let j=async()=>{f&&(await a({unpoll:g}),await (0,b.wait)(e),j())};j()})(),g}a.s(["poll",()=>c],809100);let d=new Map,e=new Map;function f(a){let b=(a,b)=>({clear:()=>b.delete(a),get:()=>b.get(a),set:c=>b.set(a,c)}),c=b(a,d),f=b(a,e);return{clear:()=>{c.clear(),f.clear()},promise:c,response:f}}async function g(a,{cacheKey:b,cacheTime:c=1/0}){let d=f(b),e=d.response.get();if(e&&c>0&&Date.now()-e.created.getTime()<c)return e.data;let g=d.promise.get();g||(g=a(),d.promise.set(g));try{let a=await g;return d.response.set({created:new Date,data:a}),a}finally{d.promise.clear()}}async function h(a,{cacheTime:b=a.cacheTime}={}){let c;return BigInt(await g(()=>a.request({method:"eth_blockNumber"}),{cacheKey:(c=a.uid,`blockNumber.${c}`),cacheTime:b}))}a.s(["getCache",()=>f,"withCache",()=>g],608066),a.s(["getBlockNumber",()=>h],653021)},206833,166089,a=>{"use strict";var b=a.i(598654),c=a.i(171628),d=a.i(99462),e=a.i(942700),f=a.i(795833),g=a.i(827285),h=a.i(275052),i=a.i(952472),j=a.i(644930),k=a.i(999501),l=a.i(679572),m=a.i(809100),n=a.i(653021);function o(a,{emitOnBegin:b=!1,emitMissed:c=!1,onBlockNumber:f,onError:g,poll:i,pollingInterval:j=a.pollingInterval}){let k,o,p;return(void 0!==i?i:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?(o=(0,h.stringify)(["watchBlockNumber",a.uid,b,c,j]),(0,e.observe)(o,{onBlockNumber:f,onError:g},e=>(0,m.poll)(async()=>{try{let b=await (0,d.getAction)(a,n.getBlockNumber,"getBlockNumber")({cacheTime:0});if(void 0!==k){if(b===k)return;if(b-k>1&&c)for(let a=k+1n;a<b;a++)e.onBlockNumber(a,k),k=a}(void 0===k||b>k)&&(e.onBlockNumber(b,k),k=b)}catch(a){e.onError?.(a)}},{emitOnBegin:b,interval:j}))):(p=(0,h.stringify)(["watchBlockNumber",a.uid,b,c]),(0,e.observe)(p,{onBlockNumber:f,onError:g},b=>{let c=!0,d=()=>c=!1;return(async()=>{try{let e=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:f}=await e.subscribe({params:["newHeads"],onData(a){if(!c)return;let d=(0,l.hexToBigInt)(a.result?.number);b.onBlockNumber(d,k),k=d},onError(a){b.onError?.(a)}});d=f,c||d()}catch(a){g?.(a)}})(),()=>d()}))}async function p(a,l){let m,n,p,q,r,{checkReplacement:s=!0,confirmations:t=1,hash:u,onReplaced:v,retryCount:w=6,retryDelay:x=({count:a})=>200*~~(1<<a),timeout:y=18e4}=l,z=(0,h.stringify)(["waitForTransactionReceipt",a.uid,u]),A=l.pollingInterval?l.pollingInterval:a.chain?.experimental_preconfirmationTime?a.chain.experimental_preconfirmationTime:a.pollingInterval,B=!1,{promise:C,resolve:D,reject:E}=(0,f.withResolvers)(),F=y?setTimeout(()=>{r?.(),q?.(),E(new c.WaitForTransactionReceiptTimeoutError({hash:u}))},y):void 0;return q=(0,e.observe)(z,{onReplaced:v,resolve:D,reject:E},async e=>{if((p=await (0,d.getAction)(a,k.getTransactionReceipt,"getTransactionReceipt")({hash:u}).catch(()=>void 0))&&t<=1){clearTimeout(F),e.resolve(p),q?.();return}r=(0,d.getAction)(a,o,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:A,async onBlockNumber(f){let h=a=>{clearTimeout(F),r?.(),a(),q?.()},l=f;if(!B)try{if(p){if(t>1&&(!p.blockNumber||l-p.blockNumber+1n<t))return;h(()=>e.resolve(p));return}if(s&&!m&&(B=!0,await (0,g.withRetry)(async()=>{(m=await (0,d.getAction)(a,j.getTransaction,"getTransaction")({hash:u})).blockNumber&&(l=m.blockNumber)},{delay:x,retryCount:w}),B=!1),p=await (0,d.getAction)(a,k.getTransactionReceipt,"getTransactionReceipt")({hash:u}),t>1&&(!p.blockNumber||l-p.blockNumber+1n<t))return;h(()=>e.resolve(p))}catch(f){if(f instanceof c.TransactionNotFoundError||f instanceof c.TransactionReceiptNotFoundError){if(!m){B=!1;return}try{n=m,B=!0;let c=await (0,g.withRetry)(()=>(0,d.getAction)(a,i.getBlock,"getBlock")({blockNumber:l,includeTransactions:!0}),{delay:x,retryCount:w,shouldRetry:({error:a})=>a instanceof b.BlockNotFoundError});B=!1;let f=c.transactions.find(({from:a,nonce:b})=>a===n.from&&b===n.nonce);if(!f||(p=await (0,d.getAction)(a,k.getTransactionReceipt,"getTransactionReceipt")({hash:f.hash}),t>1&&(!p.blockNumber||l-p.blockNumber+1n<t)))return;let j="replaced";f.to===n.to&&f.value===n.value&&f.input===n.input?j="repriced":f.from===f.to&&0n===f.value&&(j="cancelled"),h(()=>{e.onReplaced?.({reason:j,replacedTransaction:n,transaction:f,transactionReceipt:p}),e.resolve(p)})}catch(a){h(()=>e.reject(a))}}else h(()=>e.reject(f))}}})}),C}a.s(["watchBlockNumber",()=>o],166089),a.s(["waitForTransactionReceipt",()=>p],206833)},904914,a=>{"use strict";var b=a.i(662564),c=a.i(944645),d=a.i(649290),e=a.i(743150),f=a.i(268291),g=a.i(954205);let h="/docs/contract/decodeEventLog";function i(a){let{abi:i,data:j,strict:k,topics:l}=a,m=k??!0,[n,...o]=l;if(!n)throw new b.AbiEventSignatureEmptyTopicsError({docsPath:h});let p=i.find(a=>"event"===a.type&&n===(0,e.toEventSelector)((0,g.formatAbiItem)(a)));if(!(p&&"name"in p)||"event"!==p.type)throw new b.AbiEventSignatureNotFoundError(n,{docsPath:h});let{name:q,inputs:r}=p,s=r?.some(a=>!("name"in a&&a.name)),t=s?[]:{},u=r.map((a,b)=>[a,b]).filter(([a])=>"indexed"in a&&a.indexed);for(let a=0;a<u.length;a++){let[c,d]=u[a],e=o[a];if(!e)throw new b.DecodeLogTopicsMismatch({abiItem:p,param:c});t[s?d:c.name||d]=function({param:a,value:b}){return"string"===a.type||"bytes"===a.type||"tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/)?b:((0,f.decodeAbiParameters)([a],b)||[])[0]}({param:c,value:e})}let v=r.filter(a=>!("indexed"in a&&a.indexed));if(v.length>0){if(j&&"0x"!==j)try{let a=(0,f.decodeAbiParameters)(v,j);if(a)if(s)for(let b=0;b<r.length;b++)t[b]=t[b]??a.shift();else for(let b=0;b<v.length;b++)t[v[b].name]=a[b]}catch(a){if(m){if(a instanceof b.AbiDecodingDataSizeTooSmallError||a instanceof c.PositionOutOfBoundsError)throw new b.DecodeLogDataMismatch({abiItem:p,data:j,params:v,size:(0,d.size)(j)});throw a}}else if(m)throw new b.DecodeLogDataMismatch({abiItem:p,data:"0x",params:v,size:0})}return{eventName:q,args:Object.values(t).length>0?t:void 0}}a.s(["decodeEventLog",()=>i])},341106,189441,525674,281444,a=>{"use strict";var b=a.i(662564),c=a.i(519583);class d extends c.BaseError{constructor(a){super(`Filter type "${a}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}a.s(["FilterTypeNotSupportedError",()=>d],189441);var e=a.i(1428),f=a.i(375908),g=a.i(743150),h=a.i(148469),i=a.i(954205),j=a.i(127419);let k="/docs/contract/encodeEventTopics";function l(a){let{abi:c,eventName:d,args:e}=a,f=c[0];if(d){let a=(0,j.getAbiItem)({abi:c,name:d});if(!a)throw new b.AbiEventNotFoundError(d,{docsPath:k});f=a}if("event"!==f.type)throw new b.AbiEventNotFoundError(void 0,{docsPath:k});let h=(0,i.formatAbiItem)(f),l=(0,g.toEventSelector)(h),n=[];if(e&&"inputs"in f){let a=f.inputs?.filter(a=>"indexed"in a&&a.indexed),b=Array.isArray(e)?e:Object.values(e).length>0?a?.map(a=>e[a.name])??[]:[];b.length>0&&(n=a?.map((a,c)=>Array.isArray(b[c])?b[c].map((d,e)=>m({param:a,value:b[c][e]})):void 0!==b[c]&&null!==b[c]?m({param:a,value:b[c]}):null)??[])}return[l,...n]}function m({param:a,value:b}){if("string"===a.type||"bytes"===a.type)return(0,f.keccak256)((0,e.toBytes)(b));if("tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/))throw new d(a.type);return(0,h.encodeAbiParameters)([a],[b])}a.s(["encodeEventTopics",()=>l],525674);var n=a.i(875032);function o(a,{method:b}){let c={};return"fallback"===a.transport.type&&a.transport.onResponse?.(({method:a,response:d,status:e,transport:f})=>{"success"===e&&b===a&&(c[d]=f.request)}),b=>c[b]||a.request}async function p(a,b){let{address:c,abi:d,args:e,eventName:f,fromBlock:g,strict:h,toBlock:i}=b,j=o(a,{method:"eth_newFilter"}),k=f?l({abi:d,args:e,eventName:f}):void 0,m=await a.request({method:"eth_newFilter",params:[{address:c,fromBlock:"bigint"==typeof g?(0,n.numberToHex)(g):g,toBlock:"bigint"==typeof i?(0,n.numberToHex)(i):i,topics:k}]});return{abi:d,args:e,eventName:f,id:m,request:j(m),strict:!!h,type:"event"}}a.s(["createFilterRequestScope",()=>o],281444),a.s(["createContractEventFilter",()=>p],341106)},842185,641680,144291,a=>{"use strict";var b=a.i(127419),c=a.i(99462),d=a.i(525674),e=a.i(662564),f=a.i(573270),g=a.i(1428),h=a.i(375908),i=a.i(743150),j=a.i(904914);function k(a){let{abi:b,args:c,logs:d,strict:k=!0}=a,l=(()=>{if(a.eventName)return Array.isArray(a.eventName)?a.eventName:[a.eventName]})();return d.map(a=>{try{let d=b.find(b=>"event"===b.type&&a.topics[0]===(0,i.toEventSelector)(b));if(!d)return null;let e=(0,j.decodeEventLog)({...a,abi:[d],strict:k});if(l&&!l.includes(e.eventName)||!function(a){let{args:b,inputs:c,matchArgs:d}=a;if(!d)return!0;if(!b)return!1;function e(a,b,c){try{if("address"===a.type)return(0,f.isAddressEqual)(b,c);if("string"===a.type||"bytes"===a.type)return(0,h.keccak256)((0,g.toBytes)(b))===c;return b===c}catch{return!1}}return Array.isArray(b)&&Array.isArray(d)?d.every((a,d)=>{if(null==a)return!0;let f=c[d];return!!f&&(Array.isArray(a)?a:[a]).some(a=>e(f,a,b[d]))}):!("object"!=typeof b||Array.isArray(b)||"object"!=typeof d||Array.isArray(d))&&Object.entries(d).every(([a,d])=>{if(null==d)return!0;let f=c.find(b=>b.name===a);return!!f&&(Array.isArray(d)?d:[d]).some(c=>e(f,c,b[a]))})}({args:e.args,inputs:d.inputs,matchArgs:c}))return null;return{...e,...a}}catch(d){let b,c;if(d instanceof e.AbiEventSignatureNotFoundError)return null;if(d instanceof e.DecodeLogDataMismatch||d instanceof e.DecodeLogTopicsMismatch){if(k)return null;b=d.abiItem.name,c=d.abiItem.inputs?.some(a=>!("name"in a&&a.name))}return{...a,args:c?[]:{},eventName:b}}}).filter(Boolean)}a.s(["parseEventLogs",()=>k],641680);var l=a.i(875032),m=a.i(256264);async function n(a,{address:b,blockHash:c,fromBlock:e,toBlock:f,event:g,events:h,args:i,strict:j}={}){let o=h??(g?[g]:void 0),p=[];o&&(p=[o.flatMap(a=>(0,d.encodeEventTopics)({abi:[a],eventName:a.name,args:h?void 0:i}))],g&&(p=p[0]));let q=(c?await a.request({method:"eth_getLogs",params:[{address:b,topics:p,blockHash:c}]}):await a.request({method:"eth_getLogs",params:[{address:b,topics:p,fromBlock:"bigint"==typeof e?(0,l.numberToHex)(e):e,toBlock:"bigint"==typeof f?(0,l.numberToHex)(f):f}]})).map(a=>(0,m.formatLog)(a));return o?k({abi:o,args:i,logs:q,strict:j??!1}):q}async function o(a,d){let{abi:e,address:f,args:g,blockHash:h,eventName:i,fromBlock:j,toBlock:k,strict:l}=d,m=i?(0,b.getAbiItem)({abi:e,name:i}):void 0,o=m?void 0:e.filter(a=>"event"===a.type);return(0,c.getAction)(a,n,"getLogs")({address:f,args:g,blockHash:h,event:m,events:o,fromBlock:j,toBlock:k,strict:l})}a.s(["getLogs",()=>n],144291),a.s(["getContractEvents",()=>o],842185)},207923,942713,754525,a=>{"use strict";var b=a.i(662564),c=a.i(736101),d=a.i(904914),e=a.i(525674),f=a.i(256264),g=a.i(99462),h=a.i(942700),i=a.i(809100),j=a.i(275052),k=a.i(341106),l=a.i(653021),m=a.i(842185),n=a.i(641680);async function o(a,{filter:b}){let c="strict"in b&&b.strict,d=await b.request({method:"eth_getFilterChanges",params:[b.id]});if("string"==typeof d[0])return d;let e=d.map(a=>(0,f.formatLog)(a));return"abi"in b&&b.abi?(0,n.parseEventLogs)({abi:b.abi,logs:e,strict:c}):e}async function p(a,{filter:b}){return b.request({method:"eth_uninstallFilter",params:[b.id]})}function q(a,n){let q,r,s,t,u,{abi:v,address:w,args:x,batch:y=!0,eventName:z,fromBlock:A,onError:B,onLogs:C,poll:D,pollingInterval:E=a.pollingInterval,strict:F}=n;return(void 0!==D?D:"bigint"==typeof A||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?(q=F??!1,r=(0,j.stringify)(["watchContractEvent",w,x,y,a.uid,z,E,q,A]),(0,h.observe)(r,{onLogs:C,onError:B},b=>{let d,e;void 0!==A&&(d=A-1n);let f=!1,h=(0,i.poll)(async()=>{if(!f){try{e=await (0,g.getAction)(a,k.createContractEventFilter,"createContractEventFilter")({abi:v,address:w,args:x,eventName:z,strict:q,fromBlock:A})}catch{}f=!0;return}try{let c;if(e)c=await (0,g.getAction)(a,o,"getFilterChanges")({filter:e});else{let b=await (0,g.getAction)(a,l.getBlockNumber,"getBlockNumber")({});c=d&&d<b?await (0,g.getAction)(a,m.getContractEvents,"getContractEvents")({abi:v,address:w,args:x,eventName:z,fromBlock:d+1n,toBlock:b,strict:q}):[],d=b}if(0===c.length)return;if(y)b.onLogs(c);else for(let a of c)b.onLogs([a])}catch(a){e&&a instanceof c.InvalidInputRpcError&&(f=!1),b.onError?.(a)}},{emitOnBegin:!0,interval:E});return async()=>{e&&await (0,g.getAction)(a,p,"uninstallFilter")({filter:e}),h()}})):(s=(0,j.stringify)(["watchContractEvent",w,x,y,a.uid,z,E,F??!1]),t=!0,u=()=>t=!1,(0,h.observe)(s,{onLogs:C,onError:B},c=>((async()=>{try{let g=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),h=z?(0,e.encodeEventTopics)({abi:v,eventName:z,args:x}):[],{unsubscribe:i}=await g.subscribe({params:["logs",{address:w,topics:h}],onData(a){if(!t)return;let e=a.result;try{let{eventName:a,args:b}=(0,d.decodeEventLog)({abi:v,data:e.data,topics:e.topics,strict:F}),g=(0,f.formatLog)(e,{args:b,eventName:a});c.onLogs([g])}catch(h){let a,d;if(h instanceof b.DecodeLogDataMismatch||h instanceof b.DecodeLogTopicsMismatch){if(F)return;a=h.abiItem.name,d=h.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let g=(0,f.formatLog)(e,{args:d?[]:{},eventName:a});c.onLogs([g])}},onError(a){c.onError?.(a)}});u=i,t||u()}catch(a){B?.(a)}})(),()=>u())))}a.s(["getFilterChanges",()=>o],942713),a.s(["uninstallFilter",()=>p],754525),a.s(["watchContractEvent",()=>q],207923)},455471,757236,318059,518204,a=>{"use strict";var b=a.i(519583),c=a.i(41580);function d(a){if(!(a instanceof b.BaseError))return!1;let d=a.walk(a=>a instanceof c.ContractFunctionRevertedError);return d instanceof c.ContractFunctionRevertedError&&(d.data?.errorName==="HttpError"||d.data?.errorName==="ResolverError"||d.data?.errorName==="ResolverNotContract"||d.data?.errorName==="ResolverNotFound"||d.data?.errorName==="ReverseAddressMismatch"||d.data?.errorName==="UnsupportedResolverProfile")}a.s(["isNullUniversalResolverError",()=>d],455471);var e=a.i(703056),f=a.i(1428),g=a.i(875032),h=a.i(375908),i=a.i(283088);function j(a){if(66!==a.length||0!==a.indexOf("[")||65!==a.indexOf("]"))return null;let b=`0x${a.slice(1,65)}`;return(0,i.isHex)(b)?b:null}function k(a){let b=new Uint8Array(32).fill(0);if(!a)return(0,g.bytesToHex)(b);let c=a.split(".");for(let a=c.length-1;a>=0;a-=1){let d=j(c[a]),g=d?(0,f.toBytes)(d):(0,h.keccak256)((0,f.stringToBytes)(c[a]),"bytes");b=(0,h.keccak256)((0,e.concat)([b,g]),"bytes")}return(0,g.bytesToHex)(b)}function l(a){let b=new Uint8Array(32).fill(0);return a?j(a)||(0,h.keccak256)((0,f.stringToBytes)(a)):(0,g.bytesToHex)(b)}function m(a){let b=a.replace(/^\.|\.$/gm,"");if(0===b.length)return new Uint8Array(1);let c=new Uint8Array((0,f.stringToBytes)(b).byteLength+2),d=0,e=b.split(".");for(let a=0;a<e.length;a++){var g;let b=(0,f.stringToBytes)(e[a]);b.byteLength>255&&(b=(0,f.stringToBytes)((g=l(e[a]),`[${g.slice(2)}]`))),c[d]=b.length,c.set(b,d+1),d+=b.length+1}return c.byteLength!==d+1?c.slice(0,d+1):c}a.s(["namehash",()=>k],757236),a.s(["labelhash",()=>l],318059),a.s(["packetToBytes",()=>m],518204)},473204,a=>{"use strict";var b=a.i(341423),c=a.i(454517),d=a.i(33983),e=a.i(99462),f=a.i(676028);async function g(a,g){let{abi:h,address:i,args:j,functionName:k,...l}=g,m=(0,c.encodeFunctionData)({abi:h,args:j,functionName:k});try{let{data:c}=await (0,e.getAction)(a,f.call,"call")({...l,data:m,to:i});return(0,b.decodeFunctionResult)({abi:h,args:j,functionName:k,data:c||"0x"})}catch(a){throw(0,d.getContractError)(a,{abi:h,address:i,args:j,docsPath:"/docs/contract/readContract",functionName:k})}}a.s(["readContract",()=>g])},996293,409250,835607,323737,649494,587422,11405,19416,713956,687291,a=>{"use strict";var b=a.i(572139),c=a.i(341423),d=a.i(454517),e=a.i(534874),f=a.i(845862),g=a.i(875032),h=a.i(455471),i=a.i(547919),j=a.i(757236),k=a.i(518204),l=a.i(99462),m=a.i(473204);async function n(a,n){let{blockNumber:o,blockTag:p,coinType:q,name:r,gatewayUrls:s,strict:t}=n,{chain:u}=a,v=(()=>{if(n.universalResolverAddress)return n.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:o,chain:u,contract:"ensUniversalResolver"})})(),w=u?.ensTlds;if(w&&!w.some(a=>r.endsWith(a)))return null;let x=null!=q?[(0,j.namehash)(r),BigInt(q)]:[(0,j.namehash)(r)];try{let e=(0,d.encodeFunctionData)({abi:b.addressResolverAbi,functionName:"addr",args:x}),h={address:v,abi:b.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,g.toHex)((0,k.packetToBytes)(r)),e,s??[i.localBatchGatewayUrl]],blockNumber:o,blockTag:p},j=(0,l.getAction)(a,m.readContract,"readContract"),n=await j(h);if("0x"===n[0])return null;let q=(0,c.decodeFunctionResult)({abi:b.addressResolverAbi,args:x,functionName:"addr",data:n[0]});if("0x"===q||"0x00"===(0,f.trim)(q))return null;return q}catch(a){if(t)throw a;if((0,h.isNullUniversalResolverError)(a))return null;throw a}}a.s(["getEnsAddress",()=>n],996293);var o=a.i(519583);class p extends o.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}class q extends o.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}class r extends o.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class s extends o.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class t extends o.BaseError{constructor({chainId:a}){super(`Invalid ENSIP-11 chainId: ${a}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}a.s(["EnsAvatarInvalidMetadataError",()=>p,"EnsAvatarInvalidNftUriError",()=>q,"EnsAvatarUnsupportedNamespaceError",()=>s,"EnsAvatarUriResolutionError",()=>r,"EnsInvalidChainIdError",()=>t],409250);let u=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,v=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,w=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,x=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function y(a){try{let b=await fetch(a,{method:"HEAD"});if(200===b.status){let a=b.headers.get("content-type");return a?.startsWith("image/")}return!1}catch(b){if("object"==typeof b&&void 0!==b.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(b=>{let c=new Image;c.onload=()=>{b(!0)},c.onerror=()=>{b(!1)},c.src=a})}}function z(a,b){return a?a.endsWith("/")?a.slice(0,-1):a:b}function A({uri:a,gatewayUrls:b}){let c=w.test(a);if(c)return{uri:a,isOnChain:!0,isEncoded:c};let d=z(b?.ipfs,"https://ipfs.io"),e=z(b?.arweave,"https://arweave.net"),f=a.match(u),{protocol:g,subpath:h,target:i,subtarget:j=""}=f?.groups||{},k="ipns:/"===g||"ipns/"===h,l="ipfs:/"===g||"ipfs/"===h||v.test(a);if(a.startsWith("http")&&!k&&!l){let c=a;return b?.arweave&&(c=a.replace(/https:\/\/arweave.net/g,b?.arweave)),{uri:c,isOnChain:!1,isEncoded:!1}}if((k||l)&&i)return{uri:`${d}/${k?"ipns":"ipfs"}/${i}${j}`,isOnChain:!1,isEncoded:!1};if("ar:/"===g&&i)return{uri:`${e}/${i}${j||""}`,isOnChain:!1,isEncoded:!1};let m=a.replace(x,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new r({uri:a})}function B(a){if("object"!=typeof a||!("image"in a)&&!("image_url"in a)&&!("image_data"in a))throw new p({data:a});return a.image||a.image_url||a.image_data}async function C({gatewayUrls:a,uri:b}){try{let c=await fetch(b).then(a=>a.json());return await D({gatewayUrls:a,uri:B(c)})}catch{throw new r({uri:b})}}async function D({gatewayUrls:a,uri:b}){let{uri:c,isOnChain:d}=A({uri:b,gatewayUrls:a});if(d||await y(c))return c;throw new r({uri:b})}async function E(a,{nft:b}){if("erc721"===b.namespace)return(0,m.readContract)(a,{address:b.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(b.tokenID)]});if("erc1155"===b.namespace)return(0,m.readContract)(a,{address:b.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(b.tokenID)]});throw new s({namespace:b.namespace})}async function F(a,{gatewayUrls:b,record:c}){return/eip155:/i.test(c)?G(a,{gatewayUrls:b,record:c}):D({uri:c,gatewayUrls:b})}async function G(a,{gatewayUrls:b,record:c}){let d=function(a){let b=a;b.startsWith("did:nft:")&&(b=b.replace("did:nft:","").replace(/_/g,"/"));let[c,d,e]=b.split("/"),[f,g]=c.split(":"),[h,i]=d.split(":");if(!f||"eip155"!==f.toLowerCase())throw new q({reason:"Only EIP-155 supported"});if(!g)throw new q({reason:"Chain ID not found"});if(!i)throw new q({reason:"Contract address not found"});if(!e)throw new q({reason:"Token ID not found"});if(!h)throw new q({reason:"ERC namespace not found"});return{chainID:Number.parseInt(g,10),namespace:h.toLowerCase(),contractAddress:i,tokenID:e}}(c),{uri:e,isOnChain:f,isEncoded:g}=A({uri:await E(a,{nft:d}),gatewayUrls:b});if(f&&(e.includes("data:application/json;base64,")||e.startsWith("{")))return D({uri:B(JSON.parse(g?atob(e.replace("data:application/json;base64,","")):e)),gatewayUrls:b});let h=d.tokenID;return"erc1155"===d.namespace&&(h=h.replace("0x","").padStart(64,"0")),C({gatewayUrls:b,uri:e.replace(/(?:0x)?{id}/,h)})}async function H(a,f){let{blockNumber:n,blockTag:o,key:p,name:q,gatewayUrls:r,strict:s}=f,{chain:t}=a,u=(()=>{if(f.universalResolverAddress)return f.universalResolverAddress;if(!t)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:n,chain:t,contract:"ensUniversalResolver"})})(),v=t?.ensTlds;if(v&&!v.some(a=>q.endsWith(a)))return null;try{let e={address:u,abi:b.universalResolverResolveAbi,args:[(0,g.toHex)((0,k.packetToBytes)(q)),(0,d.encodeFunctionData)({abi:b.textResolverAbi,functionName:"text",args:[(0,j.namehash)(q),p]}),r??[i.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:n,blockTag:o},f=(0,l.getAction)(a,m.readContract,"readContract"),h=await f(e);if("0x"===h[0])return null;let s=(0,c.decodeFunctionResult)({abi:b.textResolverAbi,functionName:"text",data:h[0]});return""===s?null:s}catch(a){if(s)throw a;if((0,h.isNullUniversalResolverError)(a))return null;throw a}}async function I(a,{blockNumber:b,blockTag:c,assetGatewayUrls:d,name:e,gatewayUrls:f,strict:g,universalResolverAddress:h}){let i=await (0,l.getAction)(a,H,"getEnsText")({blockNumber:b,blockTag:c,key:"avatar",name:e,universalResolverAddress:h,gatewayUrls:f,strict:g});if(!i)return null;try{return await F(a,{record:i,gatewayUrls:d})}catch{return null}}async function J(a,c){let{address:d,blockNumber:f,blockTag:g,coinType:j=60n,gatewayUrls:k,strict:n}=c,{chain:o}=a,p=(()=>{if(c.universalResolverAddress)return c.universalResolverAddress;if(!o)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:f,chain:o,contract:"ensUniversalResolver"})})();try{let c={address:p,abi:b.universalResolverReverseAbi,args:[d,j,k??[i.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:f,blockTag:g},e=(0,l.getAction)(a,m.readContract,"readContract"),[h]=await e(c);return h||null}catch(a){if(n)throw a;if((0,h.isNullUniversalResolverError)(a))return null;throw a}}async function K(a,b){let{blockNumber:c,blockTag:d,name:f}=b,{chain:h}=a,i=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!h)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:c,chain:h,contract:"ensUniversalResolver"})})(),j=h?.ensTlds;if(j&&!j.some(a=>f.endsWith(a)))throw Error(`${f} is not a valid ENS TLD (${j?.join(", ")}) for chain "${h.name}" (id: ${h.id}).`);let[n]=await (0,l.getAction)(a,m.readContract,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,g.toHex)((0,k.packetToBytes)(f))],blockNumber:c,blockTag:d});return n}a.s(["getEnsText",()=>H],835607),a.s(["getEnsAvatar",()=>I],323737),a.s(["getEnsName",()=>J],649494),a.s(["getEnsResolver",()=>K],587422);var L=a.i(579680),M=a.i(770684),N=a.i(771231),O=a.i(179271),P=a.i(487291);async function Q(a,b){let{account:c=a.account,blockNumber:d,blockTag:e="latest",blobs:f,data:h,gas:i,gasPrice:j,maxFeePerBlobGas:k,maxFeePerGas:l,maxPriorityFeePerGas:m,to:n,value:o,...p}=b,q=c?(0,L.parseAccount)(c):void 0;try{(0,P.assertRequest)(b);let c="bigint"==typeof d?(0,g.numberToHex)(d):void 0,r=a.chain?.formatters?.transactionRequest?.format,s=(r||O.formatTransactionRequest)({...(0,N.extract)(p,{format:r}),account:q,blobs:f,data:h,gas:i,gasPrice:j,maxFeePerBlobGas:k,maxFeePerGas:l,maxPriorityFeePerGas:m,to:n,value:o},"createAccessList"),t=await a.request({method:"eth_createAccessList",params:[s,c||e]});return{accessList:t.accessList,gasUsed:BigInt(t.gasUsed)}}catch(c){throw(0,M.getCallError)(c,{...b,account:q,chain:a.chain})}}a.s(["createAccessList",()=>Q],11405);var R=a.i(281444);async function S(a){let b=(0,R.createFilterRequestScope)(a,{method:"eth_newBlockFilter"}),c=await a.request({method:"eth_newBlockFilter"});return{id:c,request:b(c),type:"block"}}a.s(["createBlockFilter",()=>S],19416);var T=a.i(525674);async function U(a,{address:b,args:c,event:d,events:e,fromBlock:f,strict:h,toBlock:i}={}){let j=e??(d?[d]:void 0),k=(0,R.createFilterRequestScope)(a,{method:"eth_newFilter"}),l=[];j&&(l=[j.flatMap(a=>(0,T.encodeEventTopics)({abi:[a],eventName:a.name,args:c}))],d&&(l=l[0]));let m=await a.request({method:"eth_newFilter",params:[{address:b,fromBlock:"bigint"==typeof f?(0,g.numberToHex)(f):f,toBlock:"bigint"==typeof i?(0,g.numberToHex)(i):i,...l.length?{topics:l}:{}}]});return{abi:j,args:c,eventName:d?d.name:void 0,fromBlock:f,id:m,request:k(m),strict:!!h,toBlock:i,type:"event"}}async function V(a){let b=(0,R.createFilterRequestScope)(a,{method:"eth_newPendingTransactionFilter"}),c=await a.request({method:"eth_newPendingTransactionFilter"});return{id:c,request:b(c),type:"transaction"}}a.s(["createEventFilter",()=>U],713956),a.s(["createPendingTransactionFilter",()=>V],687291)},421473,a=>{"use strict";var b=a.i(579680),c=a.i(454517),d=a.i(33983),e=a.i(99462),f=a.i(619014);async function g(a,g){let{abi:h,address:i,args:j,functionName:k,dataSuffix:l,...m}=g,n=(0,c.encodeFunctionData)({abi:h,args:j,functionName:k});try{return await (0,e.getAction)(a,f.estimateGas,"estimateGas")({data:`${n}${l?l.replace("0x",""):""}`,to:i,...m})}catch(c){let a=m.account?(0,b.parseAccount)(m.account):void 0;throw(0,d.getContractError)(c,{abi:h,address:i,args:j,docsPath:"/docs/contract/estimateContractGas",functionName:k,sender:a?.address})}}a.s(["estimateContractGas",()=>g])},818991,747994,240534,508582,654966,894362,755997,434377,186006,a=>{"use strict";var b=a.i(875032);async function c(a,{address:c,blockNumber:d,blockTag:e=a.experimental_blockTag??"latest"}){let f="bigint"==typeof d?(0,b.numberToHex)(d):void 0;return BigInt(await a.request({method:"eth_getBalance",params:[c,f||e]}))}async function d(a){return BigInt(await a.request({method:"eth_blobBaseFee"}))}a.s(["getBalance",()=>c],818991),a.s(["getBlobBaseFee",()=>d],747994);var e=a.i(679572);async function f(a,{blockHash:c,blockNumber:d,blockTag:g="latest"}={}){let h,i=void 0!==d?(0,b.numberToHex)(d):void 0;return h=c?await a.request({method:"eth_getBlockTransactionCountByHash",params:[c]},{dedupe:!0}):await a.request({method:"eth_getBlockTransactionCountByNumber",params:[i||g]},{dedupe:!!i}),(0,e.hexToNumber)(h)}async function g(a,{address:c,blockNumber:d,blockTag:e="latest"}){let f=void 0!==d?(0,b.numberToHex)(d):void 0,g=await a.request({method:"eth_getCode",params:[c,f||e]},{dedupe:!!f});if("0x"!==g)return g}a.s(["getBlockTransactionCount",()=>f],240534),a.s(["getCode",()=>g],508582);var h=a.i(519583);class i extends h.BaseError{constructor({address:a}){super(`No EIP-712 domain found on contract "${a}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${a}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}var j=a.i(99462),k=a.i(473204);async function l(a,b){let{address:c,factory:d,factoryData:e}=b;try{let[b,f,g,h,i,l,n]=await (0,j.getAction)(a,k.readContract,"readContract")({abi:m,address:c,functionName:"eip712Domain",factory:d,factoryData:e});return{domain:{name:f,version:g,chainId:Number(h),verifyingContract:i,salt:l},extensions:n,fields:b}}catch(a){if("ContractFunctionExecutionError"===a.name&&"ContractFunctionZeroDataError"===a.cause.name)throw new i({address:c});throw a}}let m=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function n(a,{blockCount:c,blockNumber:d,blockTag:e="latest",rewardPercentiles:f}){var g;let h="bigint"==typeof d?(0,b.numberToHex)(d):void 0;return{baseFeePerGas:(g=await a.request({method:"eth_feeHistory",params:[(0,b.numberToHex)(c),h||e,f]},{dedupe:!!h})).baseFeePerGas.map(a=>BigInt(a)),gasUsedRatio:g.gasUsedRatio,oldestBlock:BigInt(g.oldestBlock),reward:g.reward?.map(a=>a.map(a=>BigInt(a)))}}a.s(["getEip712Domain",()=>l],654966),a.s(["getFeeHistory",()=>n],894362);var o=a.i(641680),p=a.i(256264);async function q(a,{filter:b}){let c=b.strict??!1,d=(await b.request({method:"eth_getFilterLogs",params:[b.id]})).map(a=>(0,p.formatLog)(a));return b.abi?(0,o.parseEventLogs)({abi:b.abi,logs:d,strict:c}):d}async function r(a,{address:c,blockNumber:d,blockTag:f,storageKeys:g}){let h=void 0!==d?(0,b.numberToHex)(d):void 0;var i=await a.request({method:"eth_getProof",params:[c,g,h||(f??"latest")]});return{...i,balance:i.balance?BigInt(i.balance):void 0,nonce:i.nonce?(0,e.hexToNumber)(i.nonce):void 0,storageProof:i.storageProof?i.storageProof.map(a=>({...a,value:BigInt(a.value)})):void 0}}async function s(a,{address:c,blockNumber:d,blockTag:e="latest",slot:f}){let g=void 0!==d?(0,b.numberToHex)(d):void 0;return await a.request({method:"eth_getStorageAt",params:[c,f,g||e]})}a.s(["getFilterLogs",()=>q],755997),a.s(["getProof",()=>r],434377),a.s(["getStorageAt",()=>s],186006)},588067,a=>{"use strict";var b=a.i(99462),c=a.i(653021),d=a.i(644930);async function e(a,{hash:e,transactionReceipt:f}){let[g,h]=await Promise.all([(0,b.getAction)(a,c.getBlockNumber,"getBlockNumber")({}),e?(0,b.getAction)(a,d.getTransaction,"getTransaction")({hash:e}):void 0]),i=f?.blockNumber||h?.blockNumber;return i?g-i+1n:0n}a.s(["getTransactionConfirmations",()=>e])},406123,262845,a=>{"use strict";var b=a.i(572139),c=a.i(716424),d=a.i(662564),e=a.i(519583),f=a.i(41580),g=a.i(341423),h=a.i(454517),i=a.i(534874),j=a.i(33983),k=a.i(99462),l=a.i(473204);async function m(a,m){let{account:n,authorizationList:o,allowFailure:p=!0,blockNumber:q,blockOverrides:r,blockTag:s,stateOverride:t}=m,u=m.contracts,{batchSize:v=m.batchSize??1024,deployless:w=m.deployless??!1}="object"==typeof a.batch?.multicall?a.batch.multicall:{},x=(()=>{if(m.multicallAddress)return m.multicallAddress;if(w)return null;if(a.chain)return(0,i.getChainContractAddress)({blockNumber:q,chain:a.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),y=[[]],z=0,A=0;for(let a=0;a<u.length;a++){let{abi:b,address:c,args:d,functionName:e}=u[a];try{let a=(0,h.encodeFunctionData)({abi:b,args:d,functionName:e});A+=(a.length-2)/2,v>0&&A>v&&y[z].length>0&&(z++,A=(a.length-2)/2,y[z]=[]),y[z]=[...y[z],{allowFailure:!0,callData:a,target:c}]}catch(f){let a=(0,j.getContractError)(f,{abi:b,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:e,sender:n});if(!p)throw a;y[z]=[...y[z],{allowFailure:!0,callData:"0x",target:c}]}}let B=await Promise.allSettled(y.map(d=>(0,k.getAction)(a,l.readContract,"readContract")({...null===x?{code:c.multicall3Bytecode}:{address:x},abi:b.multicall3Abi,account:n,args:[d],authorizationList:o,blockNumber:q,blockOverrides:r,blockTag:s,functionName:"aggregate3",stateOverride:t}))),C=[];for(let a=0;a<B.length;a++){let b=B[a];if("rejected"===b.status){if(!p)throw b.reason;for(let c=0;c<y[a].length;c++)C.push({status:"failure",error:b.reason,result:void 0});continue}let c=b.value;for(let b=0;b<c.length;b++){let{returnData:e,success:h}=c[b],{callData:i}=y[a][b],{abi:k,address:l,functionName:m,args:n}=u[C.length];try{if("0x"===i)throw new d.AbiDecodingZeroDataError;if(!h)throw new f.RawContractError({data:e});let a=(0,g.decodeFunctionResult)({abi:k,args:n,data:e,functionName:m});C.push(p?{result:a,status:"success"}:a)}catch(b){let a=(0,j.getContractError)(b,{abi:k,address:l,args:n,docsPath:"/docs/contract/multicall",functionName:m});if(!p)throw a;C.push({error:a,result:void 0,status:"failure"})}}}if(C.length!==u.length)throw new e.BaseError("multicall results mismatch");return C}a.s(["multicall",()=>m],406123);var n=a.i(447722),o=a.i(579680),p=a.i(290224),q=a.i(703056),r=a.i(875032),s=a.i(499876),t=a.i(652356),u=a.i(256264),v=a.i(179271),w=a.i(939741),x=a.i(487291);async function y(a,b){let{blockNumber:c,blockTag:e=a.experimental_blockTag??"latest",blocks:i,returnFullTransactions:k,traceTransfers:l,validation:m}=b;try{let b=[];for(let a of i){let c=a.blockOverrides?n.toRpc(a.blockOverrides):void 0,d=a.calls.map(a=>{let b=a.account?(0,o.parseAccount)(a.account):void 0,c=a.abi?(0,h.encodeFunctionData)(a):a.data,d={...a,account:b,data:a.dataSuffix?(0,q.concat)([c||"0x",a.dataSuffix]):c,from:a.from??b?.address};return(0,x.assertRequest)(d),(0,v.formatTransactionRequest)(d)}),e=a.stateOverrides?(0,w.serializeStateOverride)(a.stateOverrides):void 0;b.push({blockOverrides:c,calls:d,stateOverrides:e})}let p="bigint"==typeof c?(0,r.numberToHex)(c):void 0;return(await a.request({method:"eth_simulateV1",params:[{blockStateCalls:b,returnFullTransactions:k,traceTransfers:l,validation:m},p||e]})).map((a,b)=>({...(0,t.formatBlock)(a),calls:a.calls.map((a,c)=>{let{abi:e,args:h,functionName:k,to:l}=i[b].calls[c],m=a.error?.data??a.returnData,n=BigInt(a.gasUsed),o=a.logs?.map(a=>(0,u.formatLog)(a)),p="0x1"===a.status?"success":"failure",q=e&&"success"===p&&"0x"!==m?(0,g.decodeFunctionResult)({abi:e,data:m,functionName:k}):null,r=(()=>{let b;if("success"!==p&&(a.error?.data==="0x"?b=new d.AbiDecodingZeroDataError:a.error&&(b=new f.RawContractError(a.error)),b))return(0,j.getContractError)(b,{abi:e??[],address:l??"0x",args:h,functionName:k??"<unknown>"})})();return{data:m,gasUsed:n,logs:o,status:p,..."success"===p?{result:q}:{error:r}}})}))}catch(b){let a=(0,s.getNodeError)(b,{});if(a instanceof p.UnknownNodeError)throw b;throw a}}a.s(["simulateBlocks",()=>y],262845)},757811,a=>{"use strict";var b=a.i(668501),c=a.i(200023),d=a.i(289175),e=a.i(12982);function f(a){let f;if("string"==typeof a)f=(0,e.parseSignature)(a);else{let b=(0,d.parseStructs)(a),g=a.length;for(let d=0;d<g;d++){let g=a[d];if(!(0,c.isStructSignature)(g)){f=(0,e.parseSignature)(g,b);break}}}if(!f)throw new b.InvalidAbiItemError({signature:a});return f}a.s(["parseAbiItem",()=>f])},831840,160459,117573,838742,320108,520266,940462,341596,729039,935787,a=>{"use strict";var b=a.i(220254),c=a.i(757811),d=a.i(215959),e=a.i(666680);let f=e&&"object"==typeof e&&"webcrypto"in e?e.webcrypto:e&&"object"==typeof e&&"randomBytes"in e?e:void 0;function g(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function h(a,...b){if(!(a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function i(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.createHasher");g(a.outputLen),g(a.blockLen)}function j(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function k(a,b){h(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}function l(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function m(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}function n(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function o(a,b){return a<<32-b|a>>>b}function p(a,b){return a<<b|a>>>32-b>>>0}let q=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?a=>a:function(a){for(let c=0;c<a.length;c++){var b;a[c]=(b=a[c])<<24&0xff000000|b<<8&0xff0000|b>>>8&65280|b>>>24&255}return a};function r(a){return"string"==typeof a&&(a=function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}(a)),h(a),a}function s(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];h(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}class t{}function u(a){let b=b=>a().update(r(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}function v(a){let b=(b,c)=>a(c).update(r(b)).digest(),c=a({});return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b}function w(a=32){if(f&&"function"==typeof f.getRandomValues)return f.getRandomValues(new Uint8Array(a));if(f&&"function"==typeof f.randomBytes)return Uint8Array.from(f.randomBytes(a));throw Error("crypto.getRandomValues must be defined")}a.s(["Hash",()=>t,"abytes",()=>h,"aexists",()=>j,"ahash",()=>i,"anumber",()=>g,"aoutput",()=>k,"clean",()=>m,"concatBytes",()=>s,"createHasher",()=>u,"createView",()=>n,"createXOFer",()=>v,"randomBytes",()=>w,"rotl",()=>p,"rotr",()=>o,"swap32IfBE",0,q,"toBytes",()=>r,"u32",()=>l],160459);class x extends t{constructor(a,b,c,d){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.buffer=new Uint8Array(a),this.view=n(this.buffer)}update(a){j(this),h(a=r(a));let{view:b,buffer:c,blockLen:d}=this,e=a.length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=n(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){j(this),k(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:d,isLE:e}=this,{pos:f}=this;b[f++]=128,m(this.buffer.subarray(f)),this.padOffset>d-f&&(this.process(c,0),f=0);for(let a=f;a<d;a++)b[a]=0;!function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}(c,d-8,BigInt(8*this.length),e),this.process(c,0);let g=n(a),h=this.outputLen;if(h%4)throw Error("_sha2: outputLen should be aligned to 32bit");let i=h/4,l=this.get();if(i>l.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<i;a++)g.setUint32(4*a,l[a],e)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.destroyed=f,a.finished=e,a.length=d,a.pos=g,d%b&&a.buffer.set(c),a}clone(){return this._cloneInto()}}let y=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),z=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),A=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),B=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),C=Uint32Array.from([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0]),D=new Uint32Array(80);(a,b)=>Math.floor(0x100000000*Math.abs(Math.sin(b+1)));let E=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),F=Uint8Array.from(Array(16).fill(0).map((a,b)=>b)),G=F.map(a=>(9*a+5)%16),H=(()=>{let a=[[F],[G]];for(let b=0;b<4;b++)for(let c of a)c.push(c[b].map(a=>E[a]));return a})(),I=H[0],J=H[1],K=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(a=>Uint8Array.from(a)),L=I.map((a,b)=>a.map(a=>K[b][a])),M=J.map((a,b)=>a.map(a=>K[b][a])),N=Uint32Array.from([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),O=Uint32Array.from([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]);let P=BigInt(0x100000000-1),Q=BigInt(32);function R(a,b=!1){let c=a.length,d=new Uint32Array(c),e=new Uint32Array(c);for(let f=0;f<c;f++){let{h:c,l:g}=function(a,b=!1){return b?{h:Number(a&P),l:Number(a>>Q&P)}:{h:0|Number(a>>Q&P),l:0|Number(a&P)}}(a[f],b);[d[f],e[f]]=[c,g]}return[d,e]}let S=BigInt(0),T=BigInt(1),U=BigInt(2),V=BigInt(7),W=BigInt(256),X=BigInt(113),Y=[],Z=[],$=[];for(let a=0,b=T,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],Y.push(2*(5*d+c)),Z.push((a+1)*(a+2)/2%64);let e=S;for(let a=0;a<7;a++)(b=(b<<T^(b>>V)*X)%W)&U&&(e^=T<<(T<<BigInt(a))-T);$.push(e)}let _=R($,!0),aa=_[0],ab=_[1],ac=(a,b,c)=>c>32?b<<c-32|a>>>64-c:a<<c|b>>>32-c,ad=(a,b,c)=>c>32?a<<c-32|b>>>64-c:b<<c|a>>>32-c;class ae extends t{constructor(a,b,c,d=!1,e=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=a,this.suffix=b,this.outputLen=c,this.enableXOF=d,this.rounds=e,g(c),!(0<a&&a<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=l(this.state)}clone(){return this._cloneInto()}keccak(){q(this.state32),function(a,b=24){let c=new Uint32Array(10);for(let d=24-b;d<24;d++){for(let b=0;b<10;b++)c[b]=a[b]^a[b+10]^a[b+20]^a[b+30]^a[b+40];for(let b=0;b<10;b+=2){let d=(b+8)%10,e=(b+2)%10,f=c[e],g=c[e+1],h=ac(f,g,1)^c[d],i=ad(f,g,1)^c[d+1];for(let c=0;c<50;c+=10)a[b+c]^=h,a[b+c+1]^=i}let b=a[2],e=a[3];for(let c=0;c<24;c++){let d=Z[c],f=ac(b,e,d),g=ad(b,e,d),h=Y[c];b=a[h],e=a[h+1],a[h]=f,a[h+1]=g}for(let b=0;b<50;b+=10){for(let d=0;d<10;d++)c[d]=a[b+d];for(let d=0;d<10;d++)a[b+d]^=~c[(d+2)%10]&c[(d+4)%10]}a[0]^=aa[d],a[1]^=ab[d]}m(c)}(this.state32,this.rounds),q(this.state32),this.posOut=0,this.pos=0}update(a){j(this),h(a=r(a));let{blockLen:b,state:c}=this,d=a.length;for(let e=0;e<d;){let f=Math.min(b-this.pos,d-e);for(let b=0;b<f;b++)c[this.pos++]^=a[e++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:b,pos:c,blockLen:d}=this;a[c]^=b,(128&b)!=0&&c===d-1&&this.keccak(),a[d-1]^=128,this.keccak()}writeInto(a){j(this,!1),h(a),this.finish();let b=this.state,{blockLen:c}=this;for(let d=0,e=a.length;d<e;){this.posOut>=c&&this.keccak();let f=Math.min(c-this.posOut,e-d);a.set(b.subarray(this.posOut,this.posOut+f),d),this.posOut+=f,d+=f}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return g(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(k(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,m(this.state)}_cloneInto(a){let{blockLen:b,suffix:c,outputLen:d,rounds:e,enableXOF:f}=this;return a||(a=new ae(b,c,d,f,e)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=e,a.suffix=c,a.outputLen=d,a.enableXOF=f,a.destroyed=this.destroyed,a}}let af=u(()=>new ae(136,1,32)),ag=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),ah=new Uint32Array(64);class ai extends x{constructor(a=32){super(64,a,8,!1),this.A=0|y[0],this.B=0|y[1],this.C=0|y[2],this.D=0|y[3],this.E=0|y[4],this.F=0|y[5],this.G=0|y[6],this.H=0|y[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)ah[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=ah[a-15],c=ah[a-2],d=o(b,7)^o(b,18)^b>>>3,e=o(c,17)^o(c,19)^c>>>10;ah[a]=e+ah[a-7]+d+ah[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){var k,l,m,n;let b=j+(o(g,6)^o(g,11)^o(g,25))+((k=g)&h^~k&i)+ag[a]+ah[a]|0,p=(o(c,2)^o(c,13)^o(c,22))+((l=c)&(m=d)^l&(n=e)^m&n)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+p|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){m(ah)}destroy(){this.set(0,0,0,0,0,0,0,0),m(this.buffer)}}class aj extends ai{constructor(){super(28),this.A=0|z[0],this.B=0|z[1],this.C=0|z[2],this.D=0|z[3],this.E=0|z[4],this.F=0|z[5],this.G=0|z[6],this.H=0|z[7]}}let ak=R(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),al=ak[0],am=ak[1],an=new Uint32Array(80),ao=new Uint32Array(80);let ap=u(()=>new ai),aq=u(()=>new aj);a.s(["SHA224",()=>aj,"SHA256",()=>ai,"sha224",0,aq,"sha256",0,ap],117573);var ar=a.i(943445),as=a.i(960127);function at(a,b={}){let{as:c="string"==typeof a?"Hex":"Bytes"}=b,d=af(ar.from(a));return"Bytes"===c?d:as.fromBytes(d)}a.s(["keccak256",()=>at],838742);class au extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}let av={checksum:new au(8192)}.checksum;var aw=d,ax=d,ay=a.i(981531);function az(a,b={}){let{compressed:c}=b,{prefix:d,x:e,y:f}=a;if(!1===c||"bigint"==typeof e&&"bigint"==typeof f){if(4!==d)throw new aF({prefix:d,cause:new aH});return}if(!0===c||"bigint"==typeof e&&void 0===f){if(3!==d&&2!==d)throw new aF({prefix:d,cause:new aG});return}throw new aE({publicKey:a})}function aA(a){let b=(()=>{if(as.validate(a))return aB(a);if(ar.validate(a)){var b;return b=a,aB(as.fromBytes(b))}let{prefix:c,x:d,y:e}=a;return"bigint"==typeof d&&"bigint"==typeof e?{prefix:c??4,x:d,y:e}:{prefix:c,x:d}})();return az(b),b}function aB(a){if(132!==a.length&&130!==a.length&&68!==a.length)throw new aI({publicKey:a});if(130===a.length)return{prefix:4,x:BigInt(as.slice(a,0,32)),y:BigInt(as.slice(a,32,64))};if(132===a.length){let b=Number(as.slice(a,0,1));return{prefix:b,x:BigInt(as.slice(a,1,33)),y:BigInt(as.slice(a,33,65))}}return{prefix:Number(as.slice(a,0,1)),x:BigInt(as.slice(a,1,33))}}function aC(a,b={}){return ar.fromHex(aD(a,b))}function aD(a,b={}){az(a);let{prefix:c,x:d,y:e}=a,{includePrefix:f=!0}=b;return as.concat(f?as.fromNumber(c,{size:1}):"0x",as.fromNumber(d,{size:32}),"bigint"==typeof e?as.fromNumber(e,{size:32}):"0x")}class aE extends ax.BaseError{constructor({publicKey:a}){super(`Value \`${ay.stringify(a)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class aF extends ax.BaseError{constructor({prefix:a,cause:b}){super(`Prefix "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class aG extends ax.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class aH extends ax.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class aI extends ax.BaseError{constructor({publicKey:a}){super(`Value \`${a}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${as.size(as.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}a.s(["from",()=>aA,"toBytes",()=>aC,"toHex",()=>aD],320108);let aJ=/^0x[a-fA-F0-9]{40}$/;function aK(a,b={}){let{strict:c=!0}=b;if(!aJ.test(a))throw new aP({address:a,cause:new aQ});if(c){if(a.toLowerCase()===a)return;if(aL(a)!==a)throw new aP({address:a,cause:new aR})}}function aL(a){if(av.has(a))return av.get(a);aK(a,{strict:!1});let b=a.substring(2).toLowerCase(),c=at(ar.fromString(b),{as:"Bytes"}),d=b.split("");for(let a=0;a<40;a+=2)c[a>>1]>>4>=8&&d[a]&&(d[a]=d[a].toUpperCase()),(15&c[a>>1])>=8&&d[a+1]&&(d[a+1]=d[a+1].toUpperCase());let e=`0x${d.join("")}`;return av.set(a,e),e}function aM(a,b={}){let c=at(`0x${aD(a).slice(4)}`).substring(26);return function(a,b={}){let{checksum:c=!1}=b;return(aK(a),c)?aL(a):a}(`0x${c}`,b)}function aN(a,b){return aK(a,{strict:!1}),aK(b,{strict:!1}),a.toLowerCase()===b.toLowerCase()}function aO(a,b={}){let{strict:c=!0}=b??{};try{return aK(a,{strict:c}),!0}catch{return!1}}class aP extends aw.BaseError{constructor({address:a,cause:b}){super(`Address "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class aQ extends aw.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class aR extends aw.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function aS(a){let b=!0,c="",e=0,f="",g=!1;for(let d=0;d<a.length;d++){let h=a[d];if(["(",")",","].includes(h)&&(b=!0),"("===h&&e++,")"===h&&e--,b){if(0===e){if(" "===h&&["event","function","error",""].includes(f))f="";else if(f+=h,")"===h){g=!0;break}continue}if(" "===h){","!==a[d-1]&&","!==c&&",("!==c&&(c="",b=!1);continue}f+=h,c+=h}}if(!g)throw new d.BaseError("Unable to normalize signature.");return f}function aT(a,b={}){let{prepare:d=!0}=b,e=Array.isArray(a)||"string"==typeof a?c.parseAbiItem(a):a;return{...e,...d?{hash:aW(e)}:{}}}function aU(a,b,c){let d,{args:e=[],prepare:f=!0}=c??{},g=as.validate(b,{strict:!1}),h=a.filter(a=>g?"function"===a.type||"error"===a.type?aV(a)===as.slice(b,0,4):"event"===a.type&&aW(a)===b:"name"in a&&a.name===b);if(0===h.length)throw new aY({name:b});if(1===h.length)return{...h[0],...f?{hash:aW(h[0])}:{}};for(let a of h){if("inputs"in a){if(!e||0===e.length){if(!a.inputs||0===a.inputs.length)return{...a,...f?{hash:aW(a)}:{}};continue}if(a.inputs&&0!==a.inputs.length&&a.inputs.length===e.length&&e.every((b,c)=>{let d="inputs"in a&&a.inputs[c];return!!d&&function a(b,c){let d=typeof b,e=c.type;switch(e){case"address":return aO(b,{strict:!1});case"bool":return"boolean"===d;case"function":case"string":return"string"===d;default:if("tuple"===e&&"components"in c)return Object.values(c.components).every((c,d)=>a(Object.values(b)[d],c));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(e))return"number"===d||"bigint"===d;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(e))return"string"===d||b instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(e))return Array.isArray(b)&&b.every(b=>a(b,{...c,type:e.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(b,d)})){if(d&&"inputs"in d&&d.inputs){let b=function a(b,c,d){for(let e in b){let f=b[e],g=c[e];if("tuple"===f.type&&"tuple"===g.type&&"components"in f&&"components"in g)return a(f.components,g.components,d[e]);let h=[f.type,g.type];if(h.includes("address")&&h.includes("bytes20")||(h.includes("address")&&h.includes("string")||h.includes("address")&&h.includes("bytes"))&&aO(d[e],{strict:!1}))return h}}(a.inputs,d.inputs,e);if(b)throw new aX({abiItem:a,type:b[0]},{abiItem:d,type:b[1]})}d=a}}}let i=(()=>{if(d)return d;let[a,...b]=h;return{...a,overloads:b}})();if(!i)throw new aY({name:b});return{...i,...f?{hash:aW(i)}:{}}}function aV(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return aU(b,c)}return a[0]})();return as.slice(aW(b),0,4)}function aW(...a){let c=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return aU(b,c)}return a[0]})();return"string"!=typeof c&&"hash"in c&&c.hash?c.hash:at(as.fromString(function(...a){let c=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return aU(b,c)}return a[0]})();return aS("string"==typeof c?c:b.formatAbiItem(c))}(c)))}a.s(["assert",()=>aK,"checksum",()=>aL,"fromPublicKey",()=>aM,"isEqual",()=>aN,"validate",()=>aO],520266);class aX extends d.BaseError{constructor(a,c){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${a.type}\` in \`${aS(b.formatAbiItem(a.abiItem))}\`, and`,`\`${c.type}\` in \`${aS(b.formatAbiItem(c.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class aY extends d.BaseError{constructor({name:a,data:b,type:c="item"}){super(`ABI ${c}${a?` with name "${a}"`:b?` with data "${b}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}d.BaseError,a.s(["ArrayLengthMismatchError",()=>bi,"BytesSizeMismatchError",()=>bj,"InvalidArrayError",()=>bl,"InvalidTypeError",()=>bm,"decode",()=>bc,"encode",()=>bd,"from",()=>bf],729039);var aZ=a.i(486963),a$=a.i(531959),a_=d;let a0=/^(.*)\[([0-9]*)\]$/,a1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,a2=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;a.s(["arrayRegex",0,a0,"bytesRegex",0,a1,"integerRegex",0,a2,"maxUint256",0,2n**256n-1n],940462);function a3(a){let b=0;for(let c=0;c<a.length;c++){let{dynamic:d,encoded:e}=a[c];d?b+=32:b+=as.size(e)}let c=[],d=[],e=0;for(let f=0;f<a.length;f++){let{dynamic:g,encoded:h}=a[f];g?(c.push(as.fromNumber(b+e,{size:32})),d.push(h),e+=as.size(h)):c.push(h)}return as.concat(...c,...d)}function a4(a){let b=a.match(/^(.*)\[(\d+)?\]$/);return b?[b[2]?Number(b[2]):null,b[1]]:void 0}function a5(a){let{type:b}=a;if("string"===b||"bytes"===b||b.endsWith("[]"))return!0;if("tuple"===b)return a.components?.some(a5);let c=a4(a.type);return!!(c&&a5({...a,type:c[1]}))}var a6=d;let a7={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bb({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(a){if(a<0||a>this.bytes.length-1)throw new ba({length:this.bytes.length,position:a})},decrementPosition(a){if(a<0)throw new a9({offset:a});let b=this.position-a;this.assertPosition(b),this.position=b},getReadCount(a){return this.positionReadCount.get(a||this.position)||0},incrementPosition(a){if(a<0)throw new a9({offset:a});let b=this.position+a;this.assertPosition(b),this.position=b},inspectByte(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectBytes(a,b){let c=b??this.position;return this.assertPosition(c+a-1),this.bytes.subarray(c,c+a)},inspectUint8(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectUint16(a){let b=a??this.position;return this.assertPosition(b+1),this.dataView.getUint16(b)},inspectUint24(a){let b=a??this.position;return this.assertPosition(b+2),(this.dataView.getUint16(b)<<8)+this.dataView.getUint8(b+2)},inspectUint32(a){let b=a??this.position;return this.assertPosition(b+3),this.dataView.getUint32(b)},pushByte(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushBytes(a){this.assertPosition(this.position+a.length-1),this.bytes.set(a,this.position),this.position+=a.length},pushUint8(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushUint16(a){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,a),this.position+=2},pushUint24(a){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,a>>8),this.dataView.setUint8(this.position+2,255&a),this.position+=3},pushUint32(a){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,a),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let a=this.inspectByte();return this.position++,a},readBytes(a,b){this.assertReadLimit(),this._touch();let c=this.inspectBytes(a);return this.position+=b??a,c},readUint8(){this.assertReadLimit(),this._touch();let a=this.inspectUint8();return this.position+=1,a},readUint16(){this.assertReadLimit(),this._touch();let a=this.inspectUint16();return this.position+=2,a},readUint24(){this.assertReadLimit(),this._touch();let a=this.inspectUint24();return this.position+=3,a},readUint32(){this.assertReadLimit(),this._touch();let a=this.inspectUint32();return this.position+=4,a},get remaining(){return this.bytes.length-this.position},setPosition(a){let b=this.position;return this.assertPosition(a),this.position=a,()=>this.position=b},_touch(){if(this.recursiveReadLimit===1/0)return;let a=this.getReadCount();this.positionReadCount.set(this.position,a+1),a>0&&this.recursiveReadCount++}};function a8(a,{recursiveReadLimit:b=8192}={}){let c=Object.create(a7);return c.bytes=a,c.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=b,c}class a9 extends a6.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class ba extends a6.BaseError{constructor({length:a,position:b}){super(`Position \`${b}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class bb extends a6.BaseError{constructor({count:a,limit:b}){super(`Recursive read limit of \`${b}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function bc(a,b,c={}){let{as:d="Array",checksumAddress:e=!1}=c,f="string"==typeof b?ar.fromHex(b):b,g=a8(f);if(0===ar.size(f)&&a.length>0)throw new bh;if(ar.size(f)&&32>ar.size(f))throw new bg({data:"string"==typeof b?b:as.fromBytes(b),parameters:a,size:ar.size(f)});let h=0,i="Array"===d?[]:{};for(let b=0;b<a.length;++b){let c=a[b];g.setPosition(h);let[f,j]=function a(b,c,d){var e,f,g;let{checksumAddress:h,staticPosition:i}=d,j=a4(c.type);if(j){let[d,e]=j;return function(b,c,d){let{checksumAddress:e,length:f,staticPosition:g}=d;if(!f){let d=g+ar.toNumber(b.readBytes(32)),f=d+32;b.setPosition(d);let h=ar.toNumber(b.readBytes(32)),i=a5(c),j=0,k=[];for(let d=0;d<h;++d){b.setPosition(f+(i?32*d:j));let[g,h]=a(b,c,{checksumAddress:e,staticPosition:f});j+=h,k.push(g)}return b.setPosition(g+32),[k,32]}if(a5(c)){let d=g+ar.toNumber(b.readBytes(32)),h=[];for(let g=0;g<f;++g){b.setPosition(d+32*g);let[f]=a(b,c,{checksumAddress:e,staticPosition:d});h.push(f)}return b.setPosition(g+32),[h,32]}let h=0,i=[];for(let d=0;d<f;++d){let[d,f]=a(b,c,{checksumAddress:e,staticPosition:g+h});h+=f,i.push(d)}return[i,h]}(b,{...c,type:e},{checksumAddress:h,length:d,staticPosition:i})}if("tuple"===c.type)return function(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=0===c.components.length||c.components.some(({name:a})=>!a),h=g?[]:{},i=0;if(a5(c)){let d=f+ar.toNumber(b.readBytes(32));for(let f=0;f<c.components.length;++f){let j=c.components[f];b.setPosition(d+i);let[k,l]=a(b,j,{checksumAddress:e,staticPosition:d});i+=l,h[g?f:j?.name]=k}return b.setPosition(f+32),[h,32]}for(let d=0;d<c.components.length;++d){let j=c.components[d],[k,l]=a(b,j,{checksumAddress:e,staticPosition:f});h[g?d:j?.name]=k,i+=l}return[h,i]}(b,c,{checksumAddress:h,staticPosition:i});if("address"===c.type)return function(a,b={}){let c,{checksum:d=!1}=b,e=a.readBytes(32);return[(c=as.fromBytes(ar.slice(e,-20)),d?aL(c):c),32]}(b,{checksum:h});if("bool"===c.type){return e=b,[ar.toBoolean(e.readBytes(32),{size:32}),32]}if(c.type.startsWith("bytes"))return function(a,b,{staticPosition:c}){let[d,e]=b.type.split("bytes");if(!e){let b=ar.toNumber(a.readBytes(32));a.setPosition(c+b);let d=ar.toNumber(a.readBytes(32));if(0===d)return a.setPosition(c+32),["0x",32];let e=a.readBytes(d);return a.setPosition(c+32),[as.fromBytes(e),32]}return[as.fromBytes(a.readBytes(Number.parseInt(e,10),32)),32]}(b,c,{staticPosition:i});if(c.type.startsWith("uint")||c.type.startsWith("int")){let a,d,e;return f=b,a=(g=c).type.startsWith("int"),d=Number.parseInt(g.type.split("int")[1]||"256",10),e=f.readBytes(32),[d>48?ar.toBigInt(e,{signed:a}):ar.toNumber(e,{signed:a}),32]}if("string"===c.type)return function(a,{staticPosition:b}){let c=ar.toNumber(a.readBytes(32));a.setPosition(b+c);let d=ar.toNumber(a.readBytes(32));if(0===d)return a.setPosition(b+32),["",32];let e=a.readBytes(d,32),f=ar.toString(ar.trimLeft(e));return a.setPosition(b+32),[f,32]}(b,{staticPosition:i});throw new bm(c.type)}(g,c,{checksumAddress:e,staticPosition:0});h+=j,"Array"===d?i.push(f):i[c.name??b]=f}return i}function bd(a,b,c){let{checksumAddress:e=!1}=c??{};if(a.length!==b.length)throw new bk({expectedLength:a.length,givenLength:b.length});let f=a3(function({checksumAddress:a,parameters:b,values:c}){let e=[];for(let f=0;f<b.length;f++)e.push(function a({checksumAddress:b=!1,parameter:c,value:e}){let f=a4(c.type);if(f){let[d,g]=f;return function(b,c){let{checksumAddress:d,length:e,parameter:f}=c,g=null===e;if(!Array.isArray(b))throw new bl(b);if(!g&&b.length!==e)throw new bi({expectedLength:e,givenLength:b.length,type:`${f.type}[${e}]`});let h=!1,i=[];for(let c=0;c<b.length;c++){let e=a({checksumAddress:d,parameter:f,value:b[c]});e.dynamic&&(h=!0),i.push(e)}if(g||h){let a=a3(i);if(g){let b=as.fromNumber(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?as.concat(b,a):b}}if(h)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:as.concat(...i.map(({encoded:a})=>a))}}(e,{checksumAddress:b,length:d,parameter:{...c,type:g}})}if("tuple"===c.type)return function(b,c){let{checksumAddress:d,parameter:e}=c,f=!1,g=[];for(let c=0;c<e.components.length;c++){let h=e.components[c],i=Array.isArray(b)?c:h.name,j=a({checksumAddress:d,parameter:h,value:b[i]});g.push(j),j.dynamic&&(f=!0)}return{dynamic:f,encoded:f?a3(g):as.concat(...g.map(({encoded:a})=>a))}}(e,{checksumAddress:b,parameter:c});if("address"===c.type)return function(a,b){let{checksum:c=!1}=b;return aK(a,{strict:c}),{dynamic:!1,encoded:as.padLeft(a.toLowerCase())}}(e,{checksum:b});if("bool"===c.type){var g=e;if("boolean"!=typeof g)throw new d.BaseError(`Invalid boolean value: "${g}" (type: ${typeof g}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:as.padLeft(as.fromBoolean(g))}}if(c.type.startsWith("uint")||c.type.startsWith("int")){let a=c.type.startsWith("int"),[,,b="256"]=a2.exec(c.type)??[];return function(a,{signed:b,size:c}){if("number"==typeof c){let d=2n**(BigInt(c)-(b?1n:0n))-1n,e=b?-d-1n:0n;if(a>d||a<e)throw new as.IntegerOutOfRangeError({max:d.toString(),min:e.toString(),signed:b,size:c/8,value:a.toString()})}return{dynamic:!1,encoded:as.fromNumber(a,{size:32,signed:b})}}(e,{signed:a,size:Number(b)})}if(c.type.startsWith("bytes"))return function(a,{type:b}){let[,c]=b.split("bytes"),d=as.size(a);if(!c){let b=a;return d%32!=0&&(b=as.padRight(b,32*Math.ceil((a.length-2)/2/32))),{dynamic:!0,encoded:as.concat(as.padLeft(as.fromNumber(d,{size:32})),b)}}if(d!==Number.parseInt(c,10))throw new bj({expectedSize:Number.parseInt(c,10),value:a});return{dynamic:!1,encoded:as.padRight(a)}}(e,{type:c.type});if("string"===c.type){var h=e;let a=as.fromString(h),b=Math.ceil(as.size(a)/32),c=[];for(let d=0;d<b;d++)c.push(as.padRight(as.slice(a,32*d,(d+1)*32)));return{dynamic:!0,encoded:as.concat(as.padRight(as.fromNumber(as.size(a),{size:32})),...c)}}throw new bm(c.type)}({checksumAddress:a,parameter:b[f],value:c[f]}));return e}({checksumAddress:e,parameters:a,values:b}));return 0===f.length?"0x":f}function be(a,b){if(a.length!==b.length)throw new bk({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(be.encode(e,f))}return as.concat(...c)}function bf(a){return Array.isArray(a)&&"string"==typeof a[0]||"string"==typeof a?a$.parseAbiParameters(a):a}a.s(["create",()=>a8],341596),(be||(be={})).encode=function a(b,c,d=!1){if("address"===b)return aK(c),as.padLeft(c.toLowerCase(),32*!!d);if("string"===b)return as.fromString(c);if("bytes"===b)return c;if("bool"===b)return as.padLeft(as.fromBoolean(c),d?32:1);let e=b.match(a2);if(e){let[a,b,f="256"]=e,g=Number.parseInt(f,10)/8;return as.fromNumber(c,{size:d?32:g,signed:"int"===b})}let f=b.match(a1);if(f){let[a,b]=f;if(Number.parseInt(b,10)!==(c.length-2)/2)throw new bj({expectedSize:Number.parseInt(b,10),value:c});return as.padRight(c,32*!!d)}let g=b.match(a0);if(g&&Array.isArray(c)){let[b,d]=g,e=[];for(let b=0;b<c.length;b++)e.push(a(d,c[b],!0));return 0===e.length?"0x":as.concat(...e)}throw new bm(b)};class bg extends a_.BaseError{constructor({data:a,parameters:b,size:c}){super(`Data size of ${c} bytes is too small for given parameters.`,{metaMessages:[`Params: (${aZ.formatAbiParameters(b)})`,`Data:   ${a} (${c} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class bh extends a_.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class bi extends a_.BaseError{constructor({expectedLength:a,givenLength:b,type:c}){super(`Array length mismatch for type \`${c}\`. Expected: \`${a}\`. Given: \`${b}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class bj extends a_.BaseError{constructor({expectedSize:a,value:b}){super(`Size of bytes "${b}" (bytes${as.size(b)}) does not match expected size (bytes${a}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class bk extends a_.BaseError{constructor({expectedLength:a,givenLength:b}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${a}
Given length (values): ${b}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class bl extends a_.BaseError{constructor(a){super(`Value \`${a}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class bm extends a_.BaseError{constructor(a){super(`Type \`${a}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function bn(a,b={}){return aT(a,b)}function bo(a,b,c){let d=aU(a,b,c);if("function"!==d.type)throw new aY({name:b,type:"function"});return d}var bp=a.i(579680);let bq="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",br="0x0000000000000000000000000000000000000000";a.s(["ethAddress",0,bq,"zeroAddress",0,br],935787);var bs=a.i(716424),bt=a.i(519583),bu=a.i(454517),bv=a.i(679572),bw=a.i(11405),bx=a.i(262845);async function by(a,b){let{blockNumber:c,blockTag:d,calls:e,stateOverrides:f,traceAssetChanges:g,traceTransfers:h,validation:i}=b,j=b.account?(0,bp.parseAccount)(b.account):void 0;if(g&&!j)throw new bt.BaseError("`account` is required when `traceAssetChanges` is true");let k=j?function(...a){let[b,c]=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return[function(a){let b=a.find(a=>"constructor"===a.type);if(!b)throw new aY({name:"constructor"});return b}(b),c]}return a})(),{bytecode:d,args:e}=c;return as.concat(d,b.inputs?.length&&e?.length?bd(b.inputs,e):"0x")}(aT("constructor(bytes, bytes)"),{bytecode:bs.deploylessCallViaBytecodeBytecode,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...a){let[b,c=[]]=(()=>{if(Array.isArray(a[0])){let[b,c,d]=a;return[bo(b,c,{args:d}),d]}let[b,c]=a;return[b,c]})(),{overloads:d}=b,e=d?bo([b,...d],b.name,{args:c}):b,f=aV(e),g=c.length>0?bd(e.inputs,c):void 0;return g?as.concat(f,g):f}(bn("function getBalance(address)"),[j.address])]}):void 0,l=g?await Promise.all(b.calls.map(async b=>{if(!b.data&&!b.abi)return;let{accessList:c}=await (0,bw.createAccessList)(a,{account:j.address,...b,data:b.abi?(0,bu.encodeFunctionData)(b):b.data});return c.map(({address:a,storageKeys:b})=>b.length>0?a:null)})).then(a=>a.flat().filter(Boolean)):[],m=await (0,bx.simulateBlocks)(a,{blockNumber:c,blockTag:d,blocks:[...g?[{calls:[{data:k}],stateOverrides:f},{calls:l.map((a,b)=>({abi:[bn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[j.address],to:a,from:br,nonce:b})),stateOverrides:[{address:br,nonce:0}]}]:[],{calls:[...e,{}].map(a=>({...a,from:j?.address})),stateOverrides:f},...g?[{calls:[{data:k}]},{calls:l.map((a,b)=>({abi:[bn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[j.address],to:a,from:br,nonce:b})),stateOverrides:[{address:br,nonce:0}]},{calls:l.map((a,b)=>({to:a,abi:[bn("function decimals() returns (uint256)")],functionName:"decimals",from:br,nonce:b})),stateOverrides:[{address:br,nonce:0}]},{calls:l.map((a,b)=>({to:a,abi:[bn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:br,nonce:b})),stateOverrides:[{address:br,nonce:0}]},{calls:l.map((a,b)=>({to:a,abi:[bn("function symbol() returns (string)")],functionName:"symbol",from:br,nonce:b})),stateOverrides:[{address:br,nonce:0}]}]:[]],traceTransfers:h,validation:i}),n=g?m[2]:m[0],[o,p,,q,r,s,t,u]=g?m:[],{calls:v,...w}=n,x=v.slice(0,-1)??[],y=[...o?.calls??[],...p?.calls??[]].map(a=>"success"===a.status?(0,bv.hexToBigInt)(a.data):null),z=[...q?.calls??[],...r?.calls??[]].map(a=>"success"===a.status?(0,bv.hexToBigInt)(a.data):null),A=(s?.calls??[]).map(a=>"success"===a.status?a.result:null),B=(u?.calls??[]).map(a=>"success"===a.status?a.result:null),C=(t?.calls??[]).map(a=>"success"===a.status?a.result:null),D=[];for(let[a,b]of z.entries()){let c=y[a];if("bigint"!=typeof b||"bigint"!=typeof c)continue;let d=A[a-1],e=B[a-1],f=C[a-1],g=0===a?{address:bq,decimals:18,symbol:"ETH"}:{address:l[a-1],decimals:f||d?Number(d??1):void 0,symbol:e??void 0};D.some(a=>a.token.address===g.address)||D.push({token:g,value:{pre:c,post:b,diff:b-c}})}return{assetChanges:D,block:w,results:x}}a.s(["simulateCalls",()=>by],831840)},514926,a=>{"use strict";var b=a.i(579680),c=a.i(341423),d=a.i(454517),e=a.i(33983),f=a.i(99462),g=a.i(676028);async function h(a,h){let{abi:i,address:j,args:k,dataSuffix:l,functionName:m,...n}=h,o=n.account?(0,b.parseAccount)(n.account):a.account,p=(0,d.encodeFunctionData)({abi:i,args:k,functionName:m});try{let{data:b}=await (0,f.getAction)(a,g.call,"call")({batch:!1,data:`${p}${l?l.replace("0x",""):""}`,to:j,...n,account:o}),d=(0,c.decodeFunctionResult)({abi:i,args:k,functionName:m,data:b||"0x"}),e=i.filter(a=>"name"in a&&a.name===h.functionName);return{result:d,request:{abi:e,address:j,args:k,dataSuffix:l,functionName:m,...n,account:o}}}catch(a){throw(0,e.getContractError)(a,{abi:i,address:j,args:k,docsPath:"/docs/contract/simulateContract",functionName:m,sender:o?.address})}}a.s(["simulateContract",()=>h])},977993,821411,670846,408543,538401,70485,140953,475059,996105,389507,982076,a=>{"use strict";let b,c;var d,e,f=a.i(729039),g=a.i(215959),h=a.i(960127);let i="0x6492649264926492649264926492649264926492649264926492649264926492";function j(a){if(h.slice(a,-32)!==i)throw new o(a)}function k(a){return"string"==typeof a?l(a):a}function l(a){j(a);let[b,c,d]=f.decode(f.from("address, bytes, bytes"),a);return{data:c,signature:d,to:b}}function m(a){let{data:b,signature:c,to:d}=a;return h.concat(f.encode(f.from("address, bytes, bytes"),[d,b,c]),i)}function n(a){try{return j(a),!0}catch{return!1}}class o extends g.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>o,"assert",()=>j,"from",()=>k,"magicBytes",0,i,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>l,"validate",()=>n,"wrap",()=>m],99098);var p=a.i(99098),p=p,q=a.i(838742),r=a.i(943445),s=a.i(341596);function t(a){if(a<256)return 1;if(a<65536)return 2;if(a<0x1000000)return 3;if(a<0x100000000)return 4;throw new g.BaseError("Length is too large.")}var u=a.i(117573),v=a.i(160459),w=v;class x extends w.Hash{constructor(a,b){super(),this.finished=!1,this.destroyed=!1,(0,w.ahash)(a);const c=(0,w.toBytes)(b);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,e=new Uint8Array(d);e.set(c.length>d?a.create().update(c).digest():c);for(let a=0;a<e.length;a++)e[a]^=54;this.iHash.update(e),this.oHash=a.create();for(let a=0;a<e.length;a++)e[a]^=106;this.oHash.update(e),(0,w.clean)(e)}update(a){return(0,w.aexists)(this),this.iHash.update(a),this}digestInto(a){(0,w.aexists)(this),(0,w.abytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let y=(a,b,c)=>new x(a,b).update(c).digest();y.create=(a,b)=>new x(a,b);var z=a.i(666913);let A=BigInt(0),B=BigInt(1),C=BigInt(2),D=BigInt(3),E=BigInt(4),F=BigInt(5),G=BigInt(8);function H(a,b){let c=a%b;return c>=A?c:b+c}function I(a,b,c){let d=a;for(;b-- >A;)d*=d,d%=c;return d}function J(a,b){if(a===A)throw Error("invert: expected non-zero number");if(b<=A)throw Error("invert: expected positive modulus, got "+b);let c=H(a,b),d=b,e=A,f=B,g=B,h=A;for(;c!==A;){let a=d/c,b=d%c,i=e-g*a,j=f-h*a;d=c,c=b,e=g,f=h,g=i,h=j}if(d!==B)throw Error("invert: does not exist");return H(e,b)}function K(a,b){let c=(a.ORDER+B)/E,d=a.pow(b,c);if(!a.eql(a.sqr(d),b))throw Error("Cannot find square root");return d}function L(a,b){let c=(a.ORDER-F)/G,d=a.mul(b,C),e=a.pow(d,c),f=a.mul(b,e),g=a.mul(a.mul(f,C),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),b))throw Error("Cannot find square root");return h}let M=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function N(a){let b=M.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,z.validateObject)(a,b)}function O(a,b,c=!1){let d=Array(b.length).fill(c?a.ZERO:void 0),e=b.reduce((b,c,e)=>a.is0(c)?b:(d[e]=b,a.mul(b,c)),a.ONE),f=a.inv(e);return b.reduceRight((b,c,e)=>a.is0(c)?b:(d[e]=a.mul(b,d[e]),a.mul(b,c)),f),d}function P(a,b){let c=(a.ORDER-B)/C,d=a.pow(b,c),e=a.eql(d,a.ONE),f=a.eql(d,a.ZERO),g=a.eql(d,a.neg(a.ONE));if(!e&&!f&&!g)throw Error("invalid Legendre symbol result");return e?1:f?0:-1}function Q(a,b){void 0!==b&&(0,v.anumber)(b);let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function R(a,b,c=!1,d={}){let e;if(a<=A)throw Error("invalid field: expected ORDER > 0, got "+a);let{nBitLength:f,nByteLength:g}=Q(a,b);if(g>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:a,isLE:c,BITS:f,BYTES:g,MASK:(0,z.bitMask)(f),ZERO:A,ONE:B,create:b=>H(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("invalid field element: expected bigint, got "+typeof b);return A<=b&&b<a},is0:a=>a===A,isOdd:a=>(a&B)===B,neg:b=>H(-b,a),eql:(a,b)=>a===b,sqr:b=>H(b*b,a),add:(b,c)=>H(b+c,a),sub:(b,c)=>H(b-c,a),mul:(b,c)=>H(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<A)throw Error("invalid exponent, negatives unsupported");if(c===A)return a.ONE;if(c===B)return b;let d=a.ONE,e=b;for(;c>A;)c&B&&(d=a.mul(d,e)),e=a.sqr(e),c>>=B;return d})(h,a,b),div:(b,c)=>H(b*J(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>J(b,a),sqrt:d.sqrt||(b=>(e||(e=a%E===D?K:a%G===F?L:function(a){if(a<BigInt(3))throw Error("sqrt is not defined for small field");let b=a-B,c=0;for(;b%C===A;)b/=C,c++;let d=C,e=R(a);for(;1===P(e,d);)if(d++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===c)return K;let f=e.pow(d,b),g=(b+B)/C;return function(a,d){if(a.is0(d))return d;if(1!==P(a,d))throw Error("Cannot find square root");let e=c,h=a.mul(a.ONE,f),i=a.pow(d,b),j=a.pow(d,g);for(;!a.eql(i,a.ONE);){if(a.is0(i))return a.ZERO;let b=1,c=a.sqr(i);for(;!a.eql(c,a.ONE);)if(b++,c=a.sqr(c),b===e)throw Error("Cannot find square root");let d=B<<BigInt(e-b-1),f=a.pow(h,d);e=b,h=a.sqr(f),i=a.mul(i,h),j=a.mul(j,f)}return j}}(a)),e(h,b))),toBytes:a=>c?(0,z.numberToBytesLE)(a,g):(0,z.numberToBytesBE)(a,g),fromBytes:a=>{if(a.length!==g)throw Error("Field.fromBytes: expected "+g+" bytes, got "+a.length);return c?(0,z.bytesToNumberLE)(a):(0,z.bytesToNumberBE)(a)},invertBatch:a=>O(h,a),cmov:(a,b,c)=>c?b:a});return Object.freeze(h)}function S(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function T(a){let b=S(a);return b+Math.ceil(b/2)}let U=BigInt(0),V=BigInt(1);function W(a,b){let c=b.negate();return a?c:b}function X(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function Y(a,b){X(a,b);let c=Math.ceil(b/a)+1,d=2**(a-1),e=2**a;return{windows:c,windowSize:d,mask:(0,z.bitMask)(a),maxNumber:e,shiftBy:BigInt(a)}}function Z(a,b,c){let{windowSize:d,mask:e,maxNumber:f,shiftBy:g}=c,h=Number(a&e),i=a>>g;h>d&&(h-=f,i+=V);let j=b*d,k=j+Math.abs(h)-1,l=0===h;return{nextN:i,offset:k,isZero:l,isNeg:h<0,isNegF:b%2!=0,offsetF:j}}let $=new WeakMap,_=new WeakMap;function aa(a){return _.get(a)||1}function ab(a){return N(a.Fp),(0,z.validateObject)(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Q(a.n,a.nBitLength),...a,...{p:a.Fp.ORDER}})}function ac(a){void 0!==a.lowS&&(0,z.abool)("lowS",a.lowS),void 0!==a.prehash&&(0,z.abool)("prehash",a.prehash)}let ad={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(a,b)=>{let{Err:c}=ad;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(1&b.length)throw new c("tlv.encode: unpadded data");let d=b.length/2,e=(0,z.numberToHexUnpadded)(d);if(e.length/2&128)throw new c("tlv.encode: long form length too big");let f=d>127?(0,z.numberToHexUnpadded)(e.length/2|128):"";return(0,z.numberToHexUnpadded)(a)+f+e+b},decode(a,b){let{Err:c}=ad,d=0;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(b.length<2||b[d++]!==a)throw new c("tlv.decode: wrong tlv");let e=b[d++],f=0;if(128&e){let a=127&e;if(!a)throw new c("tlv.decode(long): indefinite length not supported");if(a>4)throw new c("tlv.decode(long): byte length is too big");let g=b.subarray(d,d+a);if(g.length!==a)throw new c("tlv.decode: length bytes not complete");if(0===g[0])throw new c("tlv.decode(long): zero leftmost byte");for(let a of g)f=f<<8|a;if(d+=a,f<128)throw new c("tlv.decode(long): not minimal encoding")}else f=e;let g=b.subarray(d,d+f);if(g.length!==f)throw new c("tlv.decode: wrong value length");return{v:g,l:b.subarray(d+f)}}},_int:{encode(a){let{Err:b}=ad;if(a<af)throw new b("integer: negative integers are not allowed");let c=(0,z.numberToHexUnpadded)(a);if(8&Number.parseInt(c[0],16)&&(c="00"+c),1&c.length)throw new b("unexpected DER parsing assertion: unpadded hex");return c},decode(a){let{Err:b}=ad;if(128&a[0])throw new b("invalid signature integer: negative");if(0===a[0]&&!(128&a[1]))throw new b("invalid signature integer: unnecessary leading zero");return(0,z.bytesToNumberBE)(a)}},toSig(a){let{Err:b,_int:c,_tlv:d}=ad,e=(0,z.ensureBytes)("signature",a),{v:f,l:g}=d.decode(48,e);if(g.length)throw new b("invalid signature: left bytes after parsing");let{v:h,l:i}=d.decode(2,f),{v:j,l:k}=d.decode(2,i);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:c.decode(h),s:c.decode(j)}},hexFromSig(a){let{_tlv:b,_int:c}=ad,d=b.encode(2,c.encode(a.r)),e=b.encode(2,c.encode(a.s));return b.encode(48,d+e)}};function ae(a,b){return(0,z.bytesToHex)((0,z.numberToBytesBE)(a,b))}let af=BigInt(0),ag=BigInt(1),ah=BigInt(2),ai=BigInt(3),aj=BigInt(4),ak=z.bytesToNumberBE,al=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),am=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),an=BigInt(0),ao=BigInt(1),ap=BigInt(2),aq=(a,b)=>(a+b/ap)/b,ar=R(al,void 0,void 0,{sqrt:function(a){let b=BigInt(3),c=BigInt(6),d=BigInt(11),e=BigInt(22),f=BigInt(23),g=BigInt(44),h=BigInt(88),i=a*a*a%al,j=i*i*a%al,k=I(j,b,al)*j%al,l=I(k,b,al)*j%al,m=I(l,ap,al)*i%al,n=I(m,d,al)*m%al,o=I(n,e,al)*n%al,p=I(o,g,al)*o%al,q=I(p,h,al)*p%al,r=I(q,g,al)*o%al,s=I(r,b,al)*j%al,t=I(s,f,al)*n%al,u=I(t,c,al)*i%al,v=I(u,ap,al);if(!ar.eql(ar.sqr(v),a))throw Error("Cannot find square root");return v}}),as=(d={a:an,b:BigInt(7),Fp:ar,n:am,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-ao*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),e=BigInt("0x100000000000000000000000000000000"),f=aq(b*a,am),g=aq(-c*a,am),h=H(a-f*b-g*d,am),i=H(-f*c-g*b,am),j=h>e,k=i>e;if(j&&(h=am-h),k&&(i=am-i),h>e||i>e)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:j,k1:h,k2neg:k,k2:i}}}},e=u.sha256,{...(b=a=>(function(a){let b,c=(b=ab(a),(0,z.validateObject)(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})),{Fp:d,n:e,nByteLength:f,nBitLength:g}=c,h=d.BYTES+1,i=2*d.BYTES+1;function j(a){return H(a,e)}let{ProjectivePoint:k,normPrivateKeyToScalar:l,weierstrassEquation:m,isWithinCurveOrder:n}=function(a){var b;let c=function(a){let b=ab(a);(0,z.validateObject)(b,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:c,Fp:d,a:e}=b;if(c){if(!d.eql(e,d.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...b})}(a),{Fp:d}=c,e=R(c.n,c.nBitLength),f=c.toBytes||((a,b,c)=>{let e=b.toAffine();return(0,z.concatBytes)(Uint8Array.from([4]),d.toBytes(e.x),d.toBytes(e.y))}),g=c.fromBytes||(a=>{let b=a.subarray(1);return{x:d.fromBytes(b.subarray(0,d.BYTES)),y:d.fromBytes(b.subarray(d.BYTES,2*d.BYTES))}});function h(a){let{a:b,b:e}=c,f=d.sqr(a),g=d.mul(f,a);return d.add(d.add(g,d.mul(a,b)),e)}function i(a,b){let c=d.sqr(b),e=h(a);return d.eql(c,e)}if(!i(c.Gx,c.Gy))throw Error("bad curve params: generator point");let j=d.mul(d.pow(c.a,ai),aj),k=d.mul(d.sqr(c.b),BigInt(27));if(d.is0(d.add(j,k)))throw Error("bad curve params: a or b");function l(a){let b,{allowedPrivateKeyLengths:d,nByteLength:e,wrapPrivateKey:f,n:g}=c;if(d&&"bigint"!=typeof a){if((0,z.isBytes)(a)&&(a=(0,z.bytesToHex)(a)),"string"!=typeof a||!d.includes(a.length))throw Error("invalid private key");a=a.padStart(2*e,"0")}try{b="bigint"==typeof a?a:(0,z.bytesToNumberBE)((0,z.ensureBytes)("private key",a,e))}catch(b){throw Error("invalid private key, expected hex or "+e+" bytes, got "+typeof a)}return f&&(b=H(b,g)),(0,z.aInRange)("private key",b,ag,g),b}function m(a){if(!(a instanceof p))throw Error("ProjectivePoint expected")}let n=(0,z.memoized)((a,b)=>{let{px:c,py:e,pz:f}=a;if(d.eql(f,d.ONE))return{x:c,y:e};let g=a.is0();null==b&&(b=g?d.ONE:d.inv(f));let h=d.mul(c,b),i=d.mul(e,b),j=d.mul(f,b);if(g)return{x:d.ZERO,y:d.ZERO};if(!d.eql(j,d.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),o=(0,z.memoized)(a=>{if(a.is0()){if(c.allowInfinityPoint&&!d.is0(a.py))return;throw Error("bad point: ZERO")}let{x:b,y:e}=a.toAffine();if(!d.isValid(b)||!d.isValid(e))throw Error("bad point: x or y not FE");if(!i(b,e))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class p{constructor(a,b,c){if(null==a||!d.isValid(a))throw Error("x required");if(null==b||!d.isValid(b)||d.is0(b))throw Error("y required");if(null==c||!d.isValid(c))throw Error("z required");this.px=a,this.py=b,this.pz=c,Object.freeze(this)}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!d.isValid(b)||!d.isValid(c))throw Error("invalid affine point");if(a instanceof p)throw Error("projective point not allowed");let e=a=>d.eql(a,d.ZERO);return e(b)&&e(c)?p.ZERO:new p(b,c,d.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=O(d,a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(p.fromAffine)}static fromHex(a){let b=p.fromAffine(g((0,z.ensureBytes)("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return p.BASE.multiply(l(a))}static msm(a,b){return function(a,b,c,d){if(!Array.isArray(c))throw Error("array expected");c.forEach((b,c)=>{if(!(b instanceof a))throw Error("invalid point at index "+c)});if(!Array.isArray(d))throw Error("array of scalars expected");d.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)});let e=c.length,f=d.length;if(e!==f)throw Error("arrays of points and scalars must have equal length");let g=a.ZERO,h=(0,z.bitLen)(BigInt(e)),i=1;h>12?i=h-3:h>4?i=h-2:h>0&&(i=2);let j=(0,z.bitMask)(i),k=Array(Number(j)+1).fill(g),l=Math.floor((b.BITS-1)/i)*i,m=g;for(let a=l;a>=0;a-=i){k.fill(g);for(let b=0;b<f;b++){let e=Number(d[b]>>BigInt(a)&j);k[e]=k[e].add(c[b])}let b=g;for(let a=k.length-1,c=g;a>0;a--)c=c.add(k[a]),b=b.add(c);if(m=m.add(b),0!==a)for(let a=0;a<i;a++)m=m.double()}return m}(p,e,a,b)}_setWindowSize(a){s.setWindowSize(this,a)}assertValidity(){o(this)}hasEvenY(){let{y:a}=this.toAffine();if(d.isOdd)return!d.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){m(a);let{px:b,py:c,pz:e}=this,{px:f,py:g,pz:h}=a,i=d.eql(d.mul(b,h),d.mul(f,e)),j=d.eql(d.mul(c,h),d.mul(g,e));return i&&j}negate(){return new p(this.px,d.neg(this.py),this.pz)}double(){let{a,b}=c,e=d.mul(b,ai),{px:f,py:g,pz:h}=this,i=d.ZERO,j=d.ZERO,k=d.ZERO,l=d.mul(f,f),m=d.mul(g,g),n=d.mul(h,h),o=d.mul(f,g);return o=d.add(o,o),k=d.mul(f,h),k=d.add(k,k),i=d.mul(a,k),j=d.mul(e,n),j=d.add(i,j),i=d.sub(m,j),j=d.add(m,j),j=d.mul(i,j),i=d.mul(o,i),k=d.mul(e,k),n=d.mul(a,n),o=d.sub(l,n),o=d.mul(a,o),o=d.add(o,k),k=d.add(l,l),l=d.add(k,l),l=d.add(l,n),l=d.mul(l,o),j=d.add(j,l),n=d.mul(g,h),n=d.add(n,n),l=d.mul(n,o),i=d.sub(i,l),k=d.mul(n,m),k=d.add(k,k),new p(i,j,k=d.add(k,k))}add(a){m(a);let{px:b,py:e,pz:f}=this,{px:g,py:h,pz:i}=a,j=d.ZERO,k=d.ZERO,l=d.ZERO,n=c.a,o=d.mul(c.b,ai),q=d.mul(b,g),r=d.mul(e,h),s=d.mul(f,i),t=d.add(b,e),u=d.add(g,h);t=d.mul(t,u),u=d.add(q,r),t=d.sub(t,u),u=d.add(b,f);let v=d.add(g,i);return u=d.mul(u,v),v=d.add(q,s),u=d.sub(u,v),v=d.add(e,f),j=d.add(h,i),v=d.mul(v,j),j=d.add(r,s),v=d.sub(v,j),l=d.mul(n,u),j=d.mul(o,s),l=d.add(j,l),j=d.sub(r,l),l=d.add(r,l),k=d.mul(j,l),r=d.add(q,q),r=d.add(r,q),s=d.mul(n,s),u=d.mul(o,u),r=d.add(r,s),s=d.sub(q,s),s=d.mul(n,s),u=d.add(u,s),q=d.mul(r,u),k=d.add(k,q),q=d.mul(v,u),j=d.mul(t,j),j=d.sub(j,q),q=d.mul(t,r),l=d.mul(v,l),new p(j,k,l=d.add(l,q))}subtract(a){return this.add(a.negate())}is0(){return this.equals(p.ZERO)}wNAF(a){return s.wNAFCached(this,a,p.normalizeZ)}multiplyUnsafe(a){let{endo:b,n:e}=c;(0,z.aInRange)("scalar",a,af,e);let f=p.ZERO;if(a===af)return f;if(this.is0()||a===ag)return this;if(!b||s.hasPrecomputes(this))return s.wNAFCachedUnsafe(this,a,p.normalizeZ);let{k1neg:g,k1:h,k2neg:i,k2:j}=b.splitScalar(a),k=f,l=f,m=this;for(;h>af||j>af;)h&ag&&(k=k.add(m)),j&ag&&(l=l.add(m)),m=m.double(),h>>=ag,j>>=ag;return g&&(k=k.negate()),i&&(l=l.negate()),l=new p(d.mul(l.px,b.beta),l.py,l.pz),k.add(l)}multiply(a){let b,e,{endo:f,n:g}=c;if((0,z.aInRange)("scalar",a,ag,g),f){let{k1neg:c,k1:g,k2neg:h,k2:i}=f.splitScalar(a),{p:j,f:k}=this.wNAF(g),{p:l,f:m}=this.wNAF(i);j=s.constTimeNegate(c,j),l=s.constTimeNegate(h,l),l=new p(d.mul(l.px,f.beta),l.py,l.pz),b=j.add(l),e=k.add(m)}else{let{p:c,f:d}=this.wNAF(a);b=c,e=d}return p.normalizeZ([b,e])[0]}multiplyAndAddUnsafe(a,b,c){let d=p.BASE,e=(a,b)=>b!==af&&b!==ag&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){return n(this,a)}isTorsionFree(){let{h:a,isTorsionFree:b}=c;if(a===ag)return!0;if(b)return b(p,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:b}=c;return a===ag?this:b?b(p,this):this.multiplyUnsafe(c.h)}toRawBytes(a=!0){return(0,z.abool)("isCompressed",a),this.assertValidity(),f(p,this,a)}toHex(a=!0){return(0,z.abool)("isCompressed",a),(0,z.bytesToHex)(this.toRawBytes(a))}}p.BASE=new p(c.Gx,c.Gy,d.ONE),p.ZERO=new p(d.ZERO,d.ONE,d.ZERO);let{endo:q,nBitLength:r}=c,s=(b=q?Math.ceil(r/2):r,{constTimeNegate:W,hasPrecomputes:a=>1!==aa(a),unsafeLadder(a,b,c=p.ZERO){let d=a;for(;b>U;)b&V&&(c=c.add(d)),d=d.double(),b>>=V;return c},precomputeWindow(a,c){let{windows:d,windowSize:e}=Y(c,b),f=[],g=a,h=g;for(let a=0;a<d;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(a,c,d){let e=p.ZERO,f=p.BASE,g=Y(a,b);for(let a=0;a<g.windows;a++){let{nextN:b,offset:h,isZero:i,isNeg:j,isNegF:k,offsetF:l}=Z(d,a,g);d=b,i?f=f.add(W(k,c[l])):e=e.add(W(j,c[h]))}return{p:e,f}},wNAFUnsafe(a,c,d,e=p.ZERO){let f=Y(a,b);for(let a=0;a<f.windows&&d!==U;a++){let{nextN:b,offset:g,isZero:h,isNeg:i}=Z(d,a,f);if(d=b,!h){let a=c[g];e=e.add(i?a.negate():a)}}return e},getPrecomputes(a,b,c){let d=$.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&$.set(b,c(d))),d},wNAFCached(a,b,c){let d=aa(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)},wNAFCachedUnsafe(a,b,c,d){let e=aa(a);return 1===e?this.unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)},setWindowSize(a,c){X(c,b),_.set(a,c),$.delete(a)}});return{CURVE:c,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:h,isWithinCurveOrder:function(a){return(0,z.inRange)(a,ag,c.n)}}}({...c,toBytes(a,b,c){let e=b.toAffine(),f=d.toBytes(e.x),g=z.concatBytes;return((0,z.abool)("isCompressed",c),c)?g(Uint8Array.from([b.hasEvenY()?2:3]),f):g(Uint8Array.from([4]),f,d.toBytes(e.y))},fromBytes(a){let b=a.length,c=a[0],e=a.subarray(1);if(b===h&&(2===c||3===c)){let a,b=(0,z.bytesToNumberBE)(e);if(!(0,z.inRange)(b,ag,d.ORDER))throw Error("Point is not on curve");let f=m(b);try{a=d.sqrt(f)}catch(a){throw Error("Point is not on curve"+(a instanceof Error?": "+a.message:""))}return(1&c)==1!=((a&ag)===ag)&&(a=d.neg(a)),{x:b,y:a}}if(b===i&&4===c)return{x:d.fromBytes(e.subarray(0,d.BYTES)),y:d.fromBytes(e.subarray(d.BYTES,2*d.BYTES))};throw Error("invalid Point, expected length of "+h+", or uncompressed "+i+", got "+b)}}),o=(a,b,c)=>(0,z.bytesToNumberBE)(a.slice(b,c));class p{constructor(a,b,c){(0,z.aInRange)("r",a,ag,e),(0,z.aInRange)("s",b,ag,e),this.r=a,this.s=b,null!=c&&(this.recovery=c),Object.freeze(this)}static fromCompact(a){return new p(o(a=(0,z.ensureBytes)("compactSignature",a,2*f),0,f),o(a,f,2*f))}static fromDER(a){let{r:b,s:c}=ad.toSig((0,z.ensureBytes)("DER",a));return new p(b,c)}assertValidity(){}addRecoveryBit(a){return new p(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:f,recovery:g}=this,h=s((0,z.ensureBytes)("msgHash",a));if(null==g||![0,1,2,3].includes(g))throw Error("recovery id invalid");let i=2===g||3===g?b+c.n:b;if(i>=d.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&g)==0?"02":"03",m=k.fromHex(l+ae(i,d.BYTES)),n=J(i,e),o=j(-h*n),p=j(f*n),q=k.BASE.multiplyAndAddUnsafe(m,o,p);if(!q)throw Error("point at infinify");return q.assertValidity(),q}hasHighS(){return this.s>e>>ag}normalizeS(){return this.hasHighS()?new p(this.r,j(-this.s),this.recovery):this}toDERRawBytes(){return(0,z.hexToBytes)(this.toDERHex())}toDERHex(){return ad.hexFromSig(this)}toCompactRawBytes(){return(0,z.hexToBytes)(this.toCompactHex())}toCompactHex(){return ae(this.r,f)+ae(this.s,f)}}function q(a){if("bigint"==typeof a)return!1;if(a instanceof k)return!0;let b=(0,z.ensureBytes)("key",a).length,e=d.BYTES,g=e+1;if(!c.allowedPrivateKeyLengths&&f!==g)return b===g||b===2*e+1}let r=c.bits2int||function(a){if(a.length>8192)throw Error("input is too large");let b=(0,z.bytesToNumberBE)(a),c=8*a.length-g;return c>0?b>>BigInt(c):b},s=c.bits2int_modN||function(a){return j(r(a))},t=(0,z.bitMask)(g);function u(a){return(0,z.aInRange)("num < 2^"+g,a,af,t),(0,z.numberToBytesBE)(a,f)}let v={lowS:c.lowS,prehash:!1},w={lowS:c.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:c,getPublicKey:function(a,b=!0){return k.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(!0===q(a))throw Error("first arg must be private key");if(!1===q(b))throw Error("second arg must be public key");return k.fromHex(b).multiply(l(a)).toRawBytes(c)},sign:function(a,b,f=v){let{seed:g,k2sig:h}=function(a,b,f=v){if(["recovered","canonical"].some(a=>a in f))throw Error("sign() legacy options not supported");let{hash:g,randomBytes:h}=c,{lowS:i,prehash:m,extraEntropy:o}=f;null==i&&(i=!0),a=(0,z.ensureBytes)("msgHash",a),ac(f),m&&(a=(0,z.ensureBytes)("prehashed msgHash",g(a)));let q=s(a),t=l(b),w=[u(t),u(q)];if(null!=o&&!1!==o){let a=!0===o?h(d.BYTES):o;w.push((0,z.ensureBytes)("extraEntropy",a))}return{seed:(0,z.concatBytes)(...w),k2sig:function(a){var b;let c=r(a);if(!n(c))return;let d=J(c,e),f=k.BASE.multiply(c).toAffine(),g=j(f.x);if(g===af)return;let h=j(d*j(q+g*t));if(h===af)return;let l=2*(f.x!==g)|Number(f.y&ag),m=h;return i&&h>e>>ag&&(m=(b=h)>e>>ag?j(-b):b,l^=1),new p(g,m,l)}}}(a,b,f);return(0,z.createHmacDrbg)(c.hash.outputLen,c.nByteLength,c.hmac)(g,h)},verify:function(a,b,d,f=w){let g,h;b=(0,z.ensureBytes)("msgHash",b),d=(0,z.ensureBytes)("publicKey",d);let{lowS:i,prehash:l,format:m}=f;if(ac(f),"strict"in f)throw Error("options.strict was renamed to lowS");if(void 0!==m&&"compact"!==m&&"der"!==m)throw Error("format must be compact or der");let n="string"==typeof a||(0,z.isBytes)(a),o=!n&&!m&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!n&&!o)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(o&&(h=new p(a.r,a.s)),n){try{"compact"!==m&&(h=p.fromDER(a))}catch(a){if(!(a instanceof ad.Err))throw a}h||"der"===m||(h=p.fromCompact(a))}g=k.fromHex(d)}catch(a){return!1}if(!h||i&&h.hasHighS())return!1;l&&(b=c.hash(b));let{r:q,s:r}=h,t=s(b),u=J(r,e),v=j(t*u),x=j(q*u),y=k.BASE.multiplyAndAddUnsafe(g,v,x)?.toAffine();return!!y&&j(y.x)===q},ProjectivePoint:k,Signature:p,utils:{isValidPrivateKey(a){try{return l(a),!0}catch(a){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let a=T(c.n);return function(a,b,c=!1){let d=a.length,e=S(b),f=T(b);if(d<16||d<f||d>1024)throw Error("expected "+f+"-1024 bytes of input, got "+d);let g=H(c?(0,z.bytesToNumberLE)(a):(0,z.bytesToNumberBE)(a),b-B)+B;return c?(0,z.numberToBytesLE)(g,e):(0,z.numberToBytesBE)(g,e)}(c.randomBytes(a),c.n)},precompute:(a=8,b=k.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}})({...d,...{hash:a,hmac:(b,...c)=>y(a,b,(0,v.concatBytes)(...c)),randomBytes:v.randomBytes}}))(e),create:b});as.ProjectivePoint;z.bytesToNumberBE;let at=(c=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(a=>BigInt(a))).map(a=>Array.from(a).reverse()),(a,b)=>{let[d,e,f,g]=c.map(b=>b.reduce((b,c)=>ar.add(ar.mul(b,a),c))),[h,i]=O(ar,[e,g],!0);return a=ar.mul(d,h),b=ar.mul(b,ar.mul(f,i)),{x:a,y:b}}),au=function(a,b){if(N(a),!a.isValid(b.A)||!a.isValid(b.B)||!a.isValid(b.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let c=function(a,b){let c=a.ORDER,d=af;for(let a=c-ag;a%ah===af;a/=ah)d+=ag;let e=d,f=ah<<e-ag-ag,g=f*ah,h=(c-ag)/g,i=(h-ag)/ah,j=g-ag,k=a.pow(b,h),l=a.pow(b,(h+ag)/ah),m=(b,c)=>{let d=k,g=a.pow(c,j),h=a.sqr(g);h=a.mul(h,c);let m=a.mul(b,h);m=a.pow(m,i),m=a.mul(m,g),g=a.mul(m,c),h=a.mul(m,b);let n=a.mul(h,g);m=a.pow(n,f);let o=a.eql(m,a.ONE);g=a.mul(h,l),m=a.mul(n,d),h=a.cmov(g,h,o),n=a.cmov(m,n,o);for(let b=e;b>ag;b--){let c=b-ah;c=ah<<c-ag;let e=a.pow(n,c),f=a.eql(e,a.ONE);g=a.mul(h,d),d=a.mul(d,d),e=a.mul(n,d),h=a.cmov(g,h,f),n=a.cmov(e,n,f)}return{isValid:o,value:h}};if(a.ORDER%aj===ai){let c=(a.ORDER-ai)/aj,d=a.sqrt(a.neg(b));m=(b,e)=>{let f=a.sqr(e),g=a.mul(b,e);f=a.mul(f,g);let h=a.pow(f,c);h=a.mul(h,g);let i=a.mul(h,d),j=a.mul(a.sqr(h),e),k=a.eql(j,b),l=a.cmov(i,h,k);return{isValid:k,value:l}}}return m}(a,b.Z);if(!a.isOdd)throw Error("Fp.isOdd is not implemented!");return d=>{let e,f,g,h,i,j,k,l;e=a.sqr(d),e=a.mul(e,b.Z),f=a.sqr(e),f=a.add(f,e),g=a.add(f,a.ONE),g=a.mul(g,b.B),h=a.cmov(b.Z,a.neg(f),!a.eql(f,a.ZERO)),h=a.mul(h,b.A),f=a.sqr(g),j=a.sqr(h),i=a.mul(j,b.A),f=a.add(f,i),f=a.mul(f,g),j=a.mul(j,h),i=a.mul(j,b.B),f=a.add(f,i),k=a.mul(e,g);let{isValid:m,value:n}=c(f,j);l=a.mul(e,d),l=a.mul(l,n),k=a.cmov(k,g,m),l=a.cmov(l,n,m);let o=a.isOdd(d)===a.isOdd(l);l=a.cmov(a.neg(l),l,o);let p=O(a,[h],!0)[0];return{x:k=a.mul(k,p),y:l}}}(ar,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ar.create(BigInt("-11"))});!function(a,b,c){if("function"!=typeof b)throw Error("mapToCurve() must be defined")}(as.ProjectivePoint,a=>{let{x:b,y:c}=au(ar.create(a[0]));return at(b,c)},(ar.ORDER,u.sha256));var av=g,aw=a.i(981531),ax=a.i(940462);function ay(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new aE({signature:a});if(a.r<0n||a.r>ax.maxUint256)throw new aF({value:a.r});if(a.s<0n||a.s>ax.maxUint256)throw new aG({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new aH({value:a.yParity})}function az(a){if(130!==a.length&&132!==a.length)throw new aD({signature:a});let b=BigInt(h.slice(a,0,32)),c=BigInt(h.slice(a,32,64)),d=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return aC(b)}catch{throw new aH({value:b})}})();return void 0===d?{r:b,s:c}:{r:b,s:c,yParity:d}}function aA(a){if(void 0!==a.r&&void 0!==a.s)return aB(a)}function aB(a){let b=(()=>{var b,c;let d;if("string"==typeof a)return az(a);if(a instanceof Uint8Array)return az(h.fromBytes(a));return"string"==typeof a.r?(b=a,d=(()=>{let a=b.v?Number(b.v):void 0,c=b.yParity?Number(b.yParity):void 0;if("number"==typeof a&&"number"!=typeof c&&(c=aC(a)),"number"!=typeof c)throw new aH({value:b.yParity});return c})(),{r:BigInt(b.r),s:BigInt(b.s),yParity:d}):a.v?{r:(c=a).r,s:c.s,yParity:aC(c.v)}:{r:a.r,s:a.s,...void 0!==a.yParity?{yParity:a.yParity}:{}}})();return ay(b),b}function aC(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new aI({value:a})}class aD extends av.BaseError{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${h.size(h.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class aE extends av.BaseError{constructor({signature:a}){super(`Signature \`${aw.stringify(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class aF extends av.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class aG extends av.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class aH extends av.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class aI extends av.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var aJ=g,aK=a.i(520266),aL=a.i(320108);let aM="0x8010801080108010801080108010801080108010801080108010801080108010",aN=f.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function aO(a){if("string"==typeof a){if(h.slice(a,-32)!==aM)throw new aT(a)}else ay(a.authorization)}function aP(a){return"string"==typeof a?aQ(a):a}function aQ(a){aO(a);let b=h.toNumber(h.slice(a,-64,-32)),c=h.slice(a,-b-64,-64),d=h.slice(a,0,-b-64),[e,g,i]=f.decode(aN,c);return{authorization:function(a,b={}){return"string"==typeof a.chainId?function(a){let{address:b,chainId:c,nonce:d}=a,e=aA(a);return{address:b,chainId:Number(c),nonce:BigInt(d),...e}}(a):{...a,...b.signature}}({address:e.delegation,chainId:Number(e.chainId),nonce:e.nonce,yParity:e.yParity,r:e.r,s:e.s}),signature:d,...i&&"0x"!==i?{data:i,to:g}:{}}}function aR(a){var b;let{data:c,signature:d}=a;aO(a);let e=(b={payload:function(a,b={}){let{presign:c}=b;return q.keccak256(h.concat("0x05",function(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,d=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=t(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=t((g="string"==typeof(d=b)?r.fromHex(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),e=s.create(new Uint8Array(d.length));return(d.encode(e),"Hex"===c)?h.fromBytes(e.bytes):e.bytes}(a,{as:c})}(function(a){let{address:b,chainId:c,nonce:d}=a,e=aA(a);return[c?h.fromNumber(c):"0x",b,d?h.fromNumber(d):"0x",...e?function(a){let{r:b,s:c,yParity:d}=a;return[d?"0x01":"0x",0n===b?"0x":h.trimLeft(h.fromNumber(b)),0n===c?"0x":h.trimLeft(h.fromNumber(c))]}(e):[]]}(c?{address:a.address,chainId:a.chainId,nonce:a.nonce}:a))))}(a.authorization,{presign:!0}),signature:aB(a.authorization)},aK.fromPublicKey(function(a){let{payload:b,signature:c}=a,{r:d,s:e,yParity:f}=c,g=new as.Signature(BigInt(d),BigInt(e)).addRecoveryBit(f).recoverPublicKey(h.from(b).substring(2));return aL.from(g)}(b))),g=f.encode(aN,[{...a.authorization,delegation:a.authorization.address,chainId:BigInt(a.authorization.chainId)},a.to??e,c??"0x"]),i=h.fromNumber(h.size(g),{size:32});return h.concat(d,g,i,aM)}function aS(a){try{return aO(a),!0}catch{return!1}}class aT extends aJ.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>aT,"assert",()=>aO,"from",()=>aP,"magicBytes",0,aM,"suffixParameters",0,aN,"unwrap",()=>aQ,"validate",()=>aS,"wrap",()=>aR],428759);var aU=a.i(428759);a.s(["SignatureErc8010",0,aU],821411);var aU=aU,aV=a.i(572139),aW=a.i(716424),aX=a.i(41580),aY=a.i(18936),aZ=a.i(454517),a$=a.i(481476),a_=a.i(573270),a0=a.i(199688);async function a1({address:a,authorization:b,signature:c}){return(0,a_.isAddressEqual)((0,a$.getAddress)(a),await (0,a0.recoverAuthorizationAddress)({authorization:b,signature:c}))}var a2=a.i(703056),a3=a.i(283088),a4=a.i(679572),a5=a.i(875032),a6=a.i(99462),a7=a.i(598114),a8=a.i(814538),a9=a.i(1428);function ba({r:a,s:b,to:c="hex",v:d,yParity:e}){let f=(()=>{if(0===e||1===e)return e;if(d&&(27n===d||28n===d||d>=35n))return+(d%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),g=`0x${new a8.secp256k1.Signature((0,a4.hexToBigInt)(a),(0,a4.hexToBigInt)(b)).toCompactHex()}${0===f?"1b":"1c"}`;return"hex"===c?g:(0,a9.hexToBytes)(g)}a.s(["serializeSignature",()=>ba],670846);var bb=a.i(676028),bc=a.i(508582),bd=a.i(473204);async function be(a,b){let c,{address:d,hash:e,erc6492VerifierAddress:f=b.universalSignatureVerifierAddress??a.chain?.contracts?.erc6492Verifier?.address,multicallAddress:g=b.multicallAddress??a.chain?.contracts?.multicall3?.address}=b,h=(c=b.signature,(0,a3.isHex)(c)?c:"object"==typeof c&&"r"in c&&"s"in c?ba(c):(0,a5.bytesToHex)(c));try{if(aU.validate(h))return await bf(a,{...b,multicallAddress:g,signature:h});return await bg(a,{...b,verifierAddress:f,signature:h})}catch(a){try{if((0,a_.isAddressEqual)((0,a$.getAddress)(d),await (0,a7.recoverAddress)({hash:e,signature:h})))return!0}catch{}if(a instanceof bi)return!1;throw a}}async function bf(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,multicallAddress:g}=b,{authorization:h,data:i,signature:j,to:k}=aU.unwrap(b.signature);if(await (0,bc.getCode)(a,{address:c,blockNumber:d,blockTag:e})===(0,a2.concatHex)(["0xef0100",h.address]))return await bh(a,{address:c,blockNumber:d,blockTag:e,hash:f,signature:j});let l={address:h.address,chainId:Number(h.chainId),nonce:Number(h.nonce),r:(0,a5.numberToHex)(h.r,{size:32}),s:(0,a5.numberToHex)(h.s,{size:32}),yParity:h.yParity};if(!await a1({address:c,authorization:l}))throw new bi;let m=await (0,a6.getAction)(a,bd.readContract,"readContract")({...g?{address:g}:{code:aW.multicall3Bytecode},authorizationList:[l],abi:aV.multicall3Abi,blockNumber:d,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:k??c,callData:i}]:[],{allowFailure:!0,target:c,callData:(0,aZ.encodeFunctionData)({abi:aV.erc1271Abi,functionName:"isValidSignature",args:[f,j]})}]]}),n=m[m.length-1]?.returnData;if(n?.startsWith("0x1626ba7e"))return!0;throw new bi}async function bg(a,b){let{address:c,factory:d,factoryData:e,hash:f,signature:g,verifierAddress:h,...i}=b,j=await (async()=>!d&&!e||p.validate(g)?g:p.wrap({data:e,signature:g,to:d}))(),k=h?{to:h,data:(0,aZ.encodeFunctionData)({abi:aV.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[c,f,j]}),...i}:{data:(0,aY.encodeDeployData)({abi:aV.erc6492SignatureValidatorAbi,args:[c,f,j],bytecode:aW.erc6492SignatureValidatorByteCode}),...i},{data:l}=await (0,a6.getAction)(a,bb.call,"call")(k).catch(a=>{if(a instanceof aX.CallExecutionError)throw new bi;throw a});if((0,a4.hexToBool)(l??"0x0"))return!0;throw new bi}async function bh(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,signature:g}=b;if((await (0,a6.getAction)(a,bd.readContract,"readContract")({address:c,abi:aV.erc1271Abi,args:[f,g],blockNumber:d,blockTag:e,functionName:"isValidSignature"}).catch(a=>{if(a instanceof aX.ContractFunctionExecutionError)throw new bi;throw a})).startsWith("0x1626ba7e"))return!0;throw new bi}class bi extends Error{}a.s(["verifyHash",()=>be],977993);var bj=a.i(375908);let bk="\x19Ethereum Signed Message:\n";a.s(["presignMessagePrefix",0,bk],408543);var bl=a.i(649290);function bm(a){let b="string"==typeof a?(0,a5.stringToHex)(a):"string"==typeof a.raw?a.raw:(0,a5.bytesToHex)(a.raw),c=(0,a5.stringToHex)(`${bk}${(0,bl.size)(b)}`);return(0,a2.concat)([c,b])}function bn(a,b){return(0,bj.keccak256)(bm(a),b)}async function bo(a,{address:b,message:c,factory:d,factoryData:e,signature:f,...g}){return be(a,{address:b,factory:d,factoryData:e,hash:bn(c),signature:f,...g})}a.s(["toPrefixedMessage",()=>bm],538401),a.s(["hashMessage",()=>bn],70485),a.s(["verifyMessage",()=>bo],140953),a.s(["hashDomain",()=>bE,"hashStruct",()=>bF,"hashTypedData",()=>bD],389507);var bp=a.i(148469);a.s(["domainSeparator",()=>bC,"getTypesForEIP712Domain",()=>bB,"serializeTypedData",()=>bz,"validateTypedData",()=>bA],996105);var bq=a.i(662564),br=a.i(84666),bs=a.i(275052),bt=a.i(519583);class bu extends bt.BaseError{constructor({domain:a}){super(`Invalid domain "${(0,bs.stringify)(a)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class bv extends bt.BaseError{constructor({primaryType:a,types:b}){super(`Invalid primary type \`${a}\` must be one of \`${JSON.stringify(Object.keys(b))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class bw extends bt.BaseError{constructor({type:a}){super(`Struct type "${a}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}a.s(["InvalidDomainError",()=>bu,"InvalidPrimaryTypeError",()=>bv,"InvalidStructTypeError",()=>bw],475059);var bx=a.i(14589),by=a.i(840754);function bz(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{let c={...b};for(let b of a){let{name:a,type:d}=b;"address"===d&&(c[a]=c[a].toLowerCase())}return c},g=e.EIP712Domain&&b?f(e.EIP712Domain,b):{},h=(()=>{if("EIP712Domain"!==d)return f(e[d],c)})();return(0,bs.stringify)({domain:g,message:h,primaryType:d,types:e})}function bA(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{for(let c of a){let{name:a,type:d}=c,g=b[a],h=d.match(by.integerRegex);if(h&&("number"==typeof g||"bigint"==typeof g)){let[a,b,c]=h;(0,a5.numberToHex)(g,{signed:"int"===b,size:Number.parseInt(c,10)/8})}if("address"===d&&"string"==typeof g&&!(0,bx.isAddress)(g))throw new br.InvalidAddressError({address:g});let i=d.match(by.bytesRegex);if(i){let[a,b]=i;if(b&&(0,bl.size)(g)!==Number.parseInt(b,10))throw new bq.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(0,bl.size)(g)})}let j=e[d];j&&(function(a){if("address"===a||"bool"===a||"string"===a||a.startsWith("bytes")||a.startsWith("uint")||a.startsWith("int"))throw new bw({type:a})}(d),f(j,g))}};if(e.EIP712Domain&&b){if("object"!=typeof b)throw new bu({domain:b});f(e.EIP712Domain,b)}if("EIP712Domain"!==d)if(e[d])f(e[d],c);else throw new bv({primaryType:d,types:e})}function bB({domain:a}){return["string"==typeof a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},("number"==typeof a?.chainId||"bigint"==typeof a?.chainId)&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function bC({domain:a}){return bE({domain:a,types:{EIP712Domain:bB({domain:a})}})}function bD(a){let{domain:b={},message:c,primaryType:d}=a,e={EIP712Domain:bB({domain:b}),...a.types};bA({domain:b,message:c,primaryType:d,types:e});let f=["0x1901"];return b&&f.push(bE({domain:b,types:e})),"EIP712Domain"!==d&&f.push(bF({data:c,primaryType:d,types:e})),(0,bj.keccak256)((0,a2.concat)(f))}function bE({domain:a,types:b}){return bF({data:a,primaryType:"EIP712Domain",types:b})}function bF({data:a,primaryType:b,types:c}){let d=function a({data:b,primaryType:c,types:d}){let e=[{type:"bytes32"}],f=[function({primaryType:a,types:b}){let c=(0,a5.toHex)(function({primaryType:a,types:b}){let c="",d=function a({primaryType:b,types:c},d=new Set){let e=b.match(/^\w*/u),f=e?.[0];if(d.has(f)||void 0===c[f])return d;for(let b of(d.add(f),c[f]))a({primaryType:b.type,types:c},d);return d}({primaryType:a,types:b});for(let e of(d.delete(a),[a,...Array.from(d).sort()]))c+=`${e}(${b[e].map(({name:a,type:b})=>`${b} ${a}`).join(",")})`;return c}({primaryType:a,types:b}));return(0,bj.keccak256)(c)}({primaryType:c,types:d})];for(let g of d[c]){let[c,h]=function b({types:c,name:d,type:e,value:f}){if(void 0!==c[e])return[{type:"bytes32"},(0,bj.keccak256)(a({data:f,primaryType:e,types:c}))];if("bytes"===e)return[{type:"bytes32"},(0,bj.keccak256)(f)];if("string"===e)return[{type:"bytes32"},(0,bj.keccak256)((0,a5.toHex)(f))];if(e.lastIndexOf("]")===e.length-1){let a=e.slice(0,e.lastIndexOf("[")),g=f.map(e=>b({name:d,type:a,types:c,value:e}));return[{type:"bytes32"},(0,bj.keccak256)((0,bp.encodeAbiParameters)(g.map(([a])=>a),g.map(([,a])=>a)))]}return[{type:e},f]}({types:d,name:g.name,type:g.type,value:b[g.name]});e.push(c),f.push(h)}return(0,bp.encodeAbiParameters)(e,f)}({data:a,primaryType:b,types:c});return(0,bj.keccak256)(d)}async function bG(a,b){let{address:c,factory:d,factoryData:e,signature:f,message:g,primaryType:h,types:i,domain:j,...k}=b;return be(a,{address:c,factory:d,factoryData:e,hash:bD({message:g,primaryType:h,types:i,domain:j}),signature:f,...k})}a.s(["verifyTypedData",()=>bG],982076)},983642,779594,a=>{"use strict";var b=a.i(996293),c=a.i(323737),d=a.i(649494),e=a.i(587422),f=a.i(835607),g=a.i(676028),h=a.i(11405),i=a.i(19416),j=a.i(341106),k=a.i(713956),l=a.i(687291),m=a.i(421473),n=a.i(361328),o=a.i(619014),p=a.i(7575),q=a.i(818991),r=a.i(747994),s=a.i(952472),t=a.i(653021),u=a.i(240534),v=a.i(299880),w=a.i(508582),x=a.i(842185),y=a.i(654966),z=a.i(894362),A=a.i(942713),B=a.i(755997),C=a.i(584355),D=a.i(144291),E=a.i(434377),F=a.i(186006),G=a.i(644930),H=a.i(588067),I=a.i(740120),J=a.i(999501),K=a.i(406123),L=a.i(473204),M=a.i(262845),N=a.i(831840),O=a.i(514926),P=a.i(754525),Q=a.i(977993),R=a.i(140953),S=a.i(982076),T=a.i(206833),U=a.i(166089),V=a.i(99462),W=a.i(942700),X=a.i(809100),Y=a.i(275052),Z=a.i(207923),$=a.i(662564),_=a.i(736101),aa=a.i(904914),ab=a.i(525674),ac=a.i(256264),ad=a.i(70485);let ae=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,af=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var ag=a.i(14589),ah=a.i(573270);async function ai(a,b){let{address:c,domain:d,message:e,nonce:f,scheme:g,signature:h,time:i=new Date,...j}=b,k=function(a){let{scheme:b,statement:c,...d}=a.match(ae)?.groups??{},{chainId:e,expirationTime:f,issuedAt:g,notBefore:h,requestId:i,...j}=a.match(af)?.groups??{},k=a.split("Resources:")[1]?.split("\n- ").slice(1);return{...d,...j,...e?{chainId:Number(e)}:{},...f?{expirationTime:new Date(f)}:{},...g?{issuedAt:new Date(g)}:{},...h?{notBefore:new Date(h)}:{},...i?{requestId:i}:{},...k?{resources:k}:{},...b?{scheme:b}:{},...c?{statement:c}:{}}}(e);if(!k.address||!function(a){let{address:b,domain:c,message:d,nonce:e,scheme:f,time:g=new Date}=a;if(c&&d.domain!==c||e&&d.nonce!==e||f&&d.scheme!==f||d.expirationTime&&g>=d.expirationTime||d.notBefore&&g<d.notBefore)return!1;try{if(!d.address||!(0,ag.isAddress)(d.address,{strict:!1})||b&&!(0,ah.isAddressEqual)(d.address,b))return!1}catch{return!1}return!0}({address:c,domain:d,message:k,nonce:f,scheme:g,time:i}))return!1;let l=(0,ad.hashMessage)(e);return(0,Q.verifyHash)(a,{address:k.address,hash:l,signature:h,...j})}var aj=a.i(779159),ak=a.i(798633),al=a.i(171628),am=a.i(11200),an=a.i(875032);async function ao(a,{serializedTransaction:b,throwOnReceiptRevert:c,timeout:d}){let e=await a.request({method:"eth_sendRawTransactionSync",params:d?[b,(0,an.numberToHex)(d)]:[b]},{retryCount:0}),f=(a.chain?.formatters?.transactionReceipt?.format||am.formatTransactionReceipt)(e);if("reverted"===f.status&&c)throw new al.TransactionReceiptRevertedError({receipt:f});return f}function ap(a){return{call:b=>(0,g.call)(a,b),createAccessList:b=>(0,h.createAccessList)(a,b),createBlockFilter:()=>(0,i.createBlockFilter)(a),createContractEventFilter:b=>(0,j.createContractEventFilter)(a,b),createEventFilter:b=>(0,k.createEventFilter)(a,b),createPendingTransactionFilter:()=>(0,l.createPendingTransactionFilter)(a),estimateContractGas:b=>(0,m.estimateContractGas)(a,b),estimateGas:b=>(0,o.estimateGas)(a,b),getBalance:b=>(0,q.getBalance)(a,b),getBlobBaseFee:()=>(0,r.getBlobBaseFee)(a),getBlock:b=>(0,s.getBlock)(a,b),getBlockNumber:b=>(0,t.getBlockNumber)(a,b),getBlockTransactionCount:b=>(0,u.getBlockTransactionCount)(a,b),getBytecode:b=>(0,w.getCode)(a,b),getChainId:()=>(0,v.getChainId)(a),getCode:b=>(0,w.getCode)(a,b),getContractEvents:b=>(0,x.getContractEvents)(a,b),getEip712Domain:b=>(0,y.getEip712Domain)(a,b),getEnsAddress:c=>(0,b.getEnsAddress)(a,c),getEnsAvatar:b=>(0,c.getEnsAvatar)(a,b),getEnsName:b=>(0,d.getEnsName)(a,b),getEnsResolver:b=>(0,e.getEnsResolver)(a,b),getEnsText:b=>(0,f.getEnsText)(a,b),getFeeHistory:b=>(0,z.getFeeHistory)(a,b),estimateFeesPerGas:b=>(0,n.estimateFeesPerGas)(a,b),getFilterChanges:b=>(0,A.getFilterChanges)(a,b),getFilterLogs:b=>(0,B.getFilterLogs)(a,b),getGasPrice:()=>(0,C.getGasPrice)(a),getLogs:b=>(0,D.getLogs)(a,b),getProof:b=>(0,E.getProof)(a,b),estimateMaxPriorityFeePerGas:b=>(0,p.estimateMaxPriorityFeePerGas)(a,b),getStorageAt:b=>(0,F.getStorageAt)(a,b),getTransaction:b=>(0,G.getTransaction)(a,b),getTransactionConfirmations:b=>(0,H.getTransactionConfirmations)(a,b),getTransactionCount:b=>(0,I.getTransactionCount)(a,b),getTransactionReceipt:b=>(0,J.getTransactionReceipt)(a,b),multicall:b=>(0,K.multicall)(a,b),prepareTransactionRequest:b=>(0,aj.prepareTransactionRequest)(a,b),readContract:b=>(0,L.readContract)(a,b),sendRawTransaction:b=>(0,ak.sendRawTransaction)(a,b),sendRawTransactionSync:b=>ao(a,b),simulate:b=>(0,M.simulateBlocks)(a,b),simulateBlocks:b=>(0,M.simulateBlocks)(a,b),simulateCalls:b=>(0,N.simulateCalls)(a,b),simulateContract:b=>(0,O.simulateContract)(a,b),verifyHash:b=>(0,Q.verifyHash)(a,b),verifyMessage:b=>(0,R.verifyMessage)(a,b),verifySiweMessage:b=>ai(a,b),verifyTypedData:b=>(0,S.verifyTypedData)(a,b),uninstallFilter:b=>(0,P.uninstallFilter)(a,b),waitForTransactionReceipt:b=>(0,T.waitForTransactionReceipt)(a,b),watchBlocks:b=>(function(a,{blockTag:b=a.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:d=!1,onBlock:e,onError:f,includeTransactions:g,poll:h,pollingInterval:i=a.pollingInterval}){let j,k,l,m,n,o=void 0!==h?h:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),p=g??!1;return o?(k=(0,Y.stringify)(["watchBlocks",a.uid,b,c,d,p,i]),(0,W.observe)(k,{onBlock:e,onError:f},e=>(0,X.poll)(async()=>{try{let d=await (0,V.getAction)(a,s.getBlock,"getBlock")({blockTag:b,includeTransactions:p});if(null!==d.number&&j?.number!=null){if(d.number===j.number)return;if(d.number-j.number>1&&c)for(let b=j?.number+1n;b<d.number;b++){let c=await (0,V.getAction)(a,s.getBlock,"getBlock")({blockNumber:b,includeTransactions:p});e.onBlock(c,j),j=c}}(j?.number==null||"pending"===b&&d?.number==null||null!==d.number&&d.number>j.number)&&(e.onBlock(d,j),j=d)}catch(a){e.onError?.(a)}},{emitOnBegin:d,interval:i}))):(l=!0,m=!0,n=()=>l=!1,(async()=>{try{d&&(0,V.getAction)(a,s.getBlock,"getBlock")({blockTag:b,includeTransactions:p}).then(a=>{!l||m&&(e(a,void 0),m=!1)}).catch(f);let c=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:g}=await c.subscribe({params:["newHeads"],async onData(b){if(!l)return;let c=await (0,V.getAction)(a,s.getBlock,"getBlock")({blockNumber:b.result?.number,includeTransactions:p}).catch(()=>{});l&&(e(c,j),m=!1,j=c)},onError(a){f?.(a)}});n=g,l||n()}catch(a){f?.(a)}})(),()=>n())})(a,b),watchBlockNumber:b=>(0,U.watchBlockNumber)(a,b),watchContractEvent:b=>(0,Z.watchContractEvent)(a,b),watchEvent:b=>(function(a,{address:b,args:c,batch:d=!0,event:e,events:f,fromBlock:g,onError:h,onLogs:i,poll:j,pollingInterval:l=a.pollingInterval,strict:m}){let n,o,p,q=void 0!==j?j:"bigint"==typeof g||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),r=m??!1;return q?(n=(0,Y.stringify)(["watchEvent",b,c,d,a.uid,e,l,g]),(0,W.observe)(n,{onLogs:i,onError:h},h=>{let i,j;void 0!==g&&(i=g-1n);let m=!1,n=(0,X.poll)(async()=>{if(!m){try{j=await (0,V.getAction)(a,k.createEventFilter,"createEventFilter")({address:b,args:c,event:e,events:f,strict:r,fromBlock:g})}catch{}m=!0;return}try{let g;if(j)g=await (0,V.getAction)(a,A.getFilterChanges,"getFilterChanges")({filter:j});else{let d=await (0,V.getAction)(a,t.getBlockNumber,"getBlockNumber")({});g=i&&i!==d?await (0,V.getAction)(a,D.getLogs,"getLogs")({address:b,args:c,event:e,events:f,fromBlock:i+1n,toBlock:d}):[],i=d}if(0===g.length)return;if(d)h.onLogs(g);else for(let a of g)h.onLogs([a])}catch(a){j&&a instanceof _.InvalidInputRpcError&&(m=!1),h.onError?.(a)}},{emitOnBegin:!0,interval:l});return async()=>{j&&await (0,V.getAction)(a,P.uninstallFilter,"uninstallFilter")({filter:j}),n()}})):(o=!0,p=()=>o=!1,(async()=>{try{let d=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),g=f??(e?[e]:void 0),j=[];g&&(j=[g.flatMap(a=>(0,ab.encodeEventTopics)({abi:[a],eventName:a.name,args:c}))],e&&(j=j[0]));let{unsubscribe:k}=await d.subscribe({params:["logs",{address:b,topics:j}],onData(a){if(!o)return;let b=a.result;try{let{eventName:a,args:c}=(0,aa.decodeEventLog)({abi:g??[],data:b.data,topics:b.topics,strict:r}),d=(0,ac.formatLog)(b,{args:c,eventName:a});i([d])}catch(e){let a,c;if(e instanceof $.DecodeLogDataMismatch||e instanceof $.DecodeLogTopicsMismatch){if(m)return;a=e.abiItem.name,c=e.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let d=(0,ac.formatLog)(b,{args:c?[]:{},eventName:a});i([d])}},onError(a){h?.(a)}});p=k,o||p()}catch(a){h?.(a)}})(),()=>p())})(a,b),watchPendingTransactions:b=>(function(a,{batch:b=!0,onError:c,onTransactions:d,poll:e,pollingInterval:f=a.pollingInterval}){let g,h,i;return(void 0!==e?e:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type)?(g=(0,Y.stringify)(["watchPendingTransactions",a.uid,b,f]),(0,W.observe)(g,{onTransactions:d,onError:c},c=>{let d,e=(0,X.poll)(async()=>{try{if(!d)try{d=await (0,V.getAction)(a,l.createPendingTransactionFilter,"createPendingTransactionFilter")({});return}catch(a){throw e(),a}let f=await (0,V.getAction)(a,A.getFilterChanges,"getFilterChanges")({filter:d});if(0===f.length)return;if(b)c.onTransactions(f);else for(let a of f)c.onTransactions([a])}catch(a){c.onError?.(a)}},{emitOnBegin:!0,interval:f});return async()=>{d&&await (0,V.getAction)(a,P.uninstallFilter,"uninstallFilter")({filter:d}),e()}})):(h=!0,i=()=>h=!1,(async()=>{try{let{unsubscribe:b}=await a.transport.subscribe({params:["newPendingTransactions"],onData(a){if(!h)return;let b=a.result;d([b])},onError(a){c?.(a)}});i=b,h||i()}catch(a){c?.(a)}})(),()=>i())})(a,b)}}a.s(["sendRawTransactionSync",()=>ao],779594),a.s(["publicActions",()=>ap],983642)}];

//# sourceMappingURL=857f8_21a4bd31._.js.map