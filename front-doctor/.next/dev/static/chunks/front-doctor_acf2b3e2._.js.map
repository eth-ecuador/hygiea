{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,4LAAO,EAAC,IAAA,mKAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,6LAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,8LAAI,GAAG;IAE9B,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,gNAAC,8LAAkB;QACjB,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,gNAAC,8LAAkB;QACjB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,gNAAC,iMAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,gNAAC,iMAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,gNAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,gNAAC,+LAAmB;QAClB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,gNAAC,gMAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,gNAAC,iMAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,gNAAC,iMAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,gNAAC,mMAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,wIAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,gNAAC,gMAAoB;gBAAC,OAAO;0BAC3B,cAAA,gNAAC,iQAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,gNAAC,kMAAsB;kBACrB,cAAA,gNAAC,mMAAuB;YACtB,aAAU;YACV,WAAW,IAAA,wIAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,gNAAC;;;;;8BACD,gNAAC,oMAAwB;oBACvB,WAAW,IAAA,wIAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,gNAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,gNAAC,iMAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,gNAAC,gMAAoB;QACnB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,gNAAC;gBAAK,WAAU;0BACd,cAAA,gNAAC,yMAA6B;8BAC5B,cAAA,gNAAC,2OAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,gNAAC,oMAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,gNAAC,qMAAyB;QACxB,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,gNAAC,0MAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,gNAAC,2PAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,gNAAC,4MAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,gNAAC,iQAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/front-doctor/contracts/MedicalRecords.json"],"sourcesContent":["{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"AntecedenteAgregado\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"DatosActualizados\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"doctor\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"cid\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"documentType\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"DocumentoAgregado\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"EnfermedadAgregada\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"medico\",\"type\":\"address\"}],\"name\":\"MedicoAutorizado\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"medico\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"MedicoRegistrado\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"medico\",\"type\":\"address\"}],\"name\":\"MedicoRevocado\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"PacienteRegistrado\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_nombre\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"_edad\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"_direccion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_telefono\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_email\",\"type\":\"string\"}],\"name\":\"actualizarAfiliacion\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"tipo\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"condicion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"descripcion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"relacionFamiliar\",\"type\":\"string\"}],\"name\":\"agregarAntecedente\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_cid\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"_recordHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"_documentType\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_description\",\"type\":\"string\"}],\"name\":\"agregarDocumentoMedico\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"nombre\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"descripcion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"gravedad\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tratamiento\",\"type\":\"string\"}],\"name\":\"agregarEnfermedad\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_cid\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"_recordHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"_description\",\"type\":\"string\"}],\"name\":\"almacenarCIDFilecoin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"medico\",\"type\":\"address\"}],\"name\":\"autorizarMedico\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"encriptarRegistroPaciente\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"encryptedData\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"dataHash\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"encriptarRegistroPacienteAutoSync\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"encryptedData\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"dataHash\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"medico\",\"type\":\"address\"}],\"name\":\"estaMedicoAutorizado\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"marcarEnfermedadInactiva\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"medicosRegistrados\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"obtenerAfiliacion\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"nombre\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"edad\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"sexo\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tipoSangre\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"direccion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"telefono\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"email\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"numeroSeguroSocial\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"fechaRegistro\",\"type\":\"uint256\"}],\"internalType\":\"struct MedicalRecords.AffiliationData\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"obtenerAntecedentes\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"tipo\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"condicion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"descripcion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"relacionFamiliar\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"fecha\",\"type\":\"uint256\"}],\"internalType\":\"struct MedicalRecords.MedicalHistory[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"obtenerDocumentoPorIndice\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"cid\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"recordHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"doctorId\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"documentType\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"internalType\":\"struct MedicalRecords.MedicalDocument\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"obtenerDocumentosMedicos\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"cid\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"recordHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"doctorId\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"documentType\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"internalType\":\"struct MedicalRecords.MedicalDocument[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"obtenerEnfermedades\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"nombre\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"descripcion\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"fechaDiagnostico\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"gravedad\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"activa\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"tratamiento\",\"type\":\"string\"}],\"internalType\":\"struct MedicalRecords.Disease[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"obtenerEnfermedadesActivas\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"nombre\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"descripcion\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"fechaDiagnostico\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"gravedad\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"activa\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"tratamiento\",\"type\":\"string\"}],\"internalType\":\"struct MedicalRecords.Disease[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"obtenerMedicosAutorizados\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"medico\",\"type\":\"address\"}],\"name\":\"obtenerNombreMedico\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"pacienteExiste\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"nombre\",\"type\":\"string\"}],\"name\":\"registrarMedico\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_pacienteAddress\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_nombre\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"_edad\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"_sexo\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_tipoSangre\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_direccion\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_telefono\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_email\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_numeroSeguroSocial\",\"type\":\"string\"}],\"name\":\"registrarPaciente\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"medico\",\"type\":\"address\"}],\"name\":\"revocarMedico\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"}],\"name\":\"totalDocumentos\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalPacientes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paciente\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"providedHash\",\"type\":\"bytes32\"}],\"name\":\"verificarIntegridadDocumento\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"address\":\"0xB6b8688E15Dd0d85cD5b7EeF9a09C7E926f6E0F1\"}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 605, "column": 14116}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/RegistrationProgress.tsx"],"sourcesContent":["'use client'\n\nimport { motion } from 'framer-motion'\nimport { CheckCircle2, Loader2, Circle, Database, Lock, Upload, Link2, FileCheck } from 'lucide-react'\nimport { Card, CardContent } from '../ui/card'\n\nexport type RegistrationStep =\n  | 'validating'\n  | 'connecting'\n  | 'encrypting'\n  | 'registering'\n  | 'preparing-backup'\n  | 'encrypting-filecoin'\n  | 'uploading-filecoin'\n  | 'storing-cid'\n  | 'completed'\n\ninterface RegistrationProgressProps {\n  currentStep: RegistrationStep\n  patientName?: string\n}\n\ninterface Step {\n  id: RegistrationStep\n  title: string\n  description: string\n  icon: typeof Database\n  color: string\n}\n\nconst steps: Step[] = [\n  {\n    id: 'validating',\n    title: 'Validando datos',\n    description: 'Verificando información del paciente',\n    icon: FileCheck,\n    color: '#FFB800'\n  },\n  {\n    id: 'connecting',\n    title: 'Conectando a Sapphire',\n    description: 'Estableciendo conexión con blockchain',\n    icon: Link2,\n    color: '#00A8E8'\n  },\n  {\n    id: 'encrypting',\n    title: 'Encriptando datos',\n    description: 'Protegiendo información con TEE',\n    icon: Lock,\n    color: '#9B59B6'\n  },\n  {\n    id: 'registering',\n    title: 'Registrando en blockchain',\n    description: 'Almacenando registro médico encriptado',\n    icon: Database,\n    color: '#E74C3C'\n  },\n  {\n    id: 'preparing-backup',\n    title: 'Preparando backup',\n    description: 'Organizando datos para Filecoin',\n    icon: FileCheck,\n    color: '#3498DB'\n  },\n  {\n    id: 'encrypting-filecoin',\n    title: 'Encriptando para Filecoin',\n    description: 'Segunda capa de encriptación',\n    icon: Lock,\n    color: '#9B59B6'\n  },\n  {\n    id: 'uploading-filecoin',\n    title: 'Subiendo a Filecoin',\n    description: 'Almacenamiento descentralizado permanente',\n    icon: Upload,\n    color: '#2ECA77'\n  },\n  {\n    id: 'storing-cid',\n    title: 'Guardando CID',\n    description: 'Vinculando Filecoin con blockchain',\n    icon: Link2,\n    color: '#00A8E8'\n  },\n  {\n    id: 'completed',\n    title: '¡Completado!',\n    description: 'Paciente registrado exitosamente',\n    icon: CheckCircle2,\n    color: '#2ECA77'\n  }\n]\n\nexport function RegistrationProgress({ currentStep, patientName }: RegistrationProgressProps) {\n  const currentStepIndex = steps.findIndex(step => step.id === currentStep)\n\n  return (\n    <Card className=\"border-[#00A8E8] border-2 shadow-xl\">\n      <CardContent className=\"pt-6\">\n        <div className=\"space-y-6\">\n          {/* Header */}\n          <div className=\"text-center\">\n            <h3 className=\"text-2xl font-bold text-[#0B3861] mb-2\">\n              Registrando Paciente\n            </h3>\n            {patientName && (\n              <p className=\"text-[#666666]\">\n                {patientName}\n              </p>\n            )}\n          </div>\n\n          {/* Progress Steps */}\n          <div className=\"space-y-3\">\n            {steps.map((step, index) => {\n              const Icon = step.icon\n              const isCompleted = index < currentStepIndex\n              const isCurrent = index === currentStepIndex\n              const isPending = index > currentStepIndex\n\n              return (\n                <motion.div\n                  key={step.id}\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className={`flex items-start gap-4 p-4 rounded-lg transition-all ${\n                    isCurrent\n                      ? 'bg-[#00A8E8]/10 border-2 border-[#00A8E8]'\n                      : isCompleted\n                      ? 'bg-[#2ECA77]/10 border border-[#2ECA77]/30'\n                      : 'bg-gray-50 border border-gray-200'\n                  }`}\n                >\n                  {/* Icon */}\n                  <div className={`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${\n                    isCompleted\n                      ? 'bg-[#2ECA77]'\n                      : isCurrent\n                      ? 'bg-[#00A8E8]'\n                      : 'bg-gray-300'\n                  }`}>\n                    {isCompleted ? (\n                      <motion.div\n                        initial={{ scale: 0 }}\n                        animate={{ scale: 1 }}\n                        transition={{ type: 'spring', stiffness: 200 }}\n                      >\n                        <CheckCircle2 className=\"h-6 w-6 text-white\" />\n                      </motion.div>\n                    ) : isCurrent ? (\n                      <motion.div\n                        animate={{ rotate: 360 }}\n                        transition={{ duration: 2, repeat: Infinity, ease: 'linear' }}\n                      >\n                        <Icon className=\"h-6 w-6 text-white\" />\n                      </motion.div>\n                    ) : (\n                      <Circle className=\"h-6 w-6 text-white\" />\n                    )}\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"flex-1 min-w-0\">\n                    <h4 className={`font-semibold ${\n                      isCurrent ? 'text-[#0B3861]' : isCompleted ? 'text-[#2ECA77]' : 'text-gray-500'\n                    }`}>\n                      {step.title}\n                    </h4>\n                    <p className={`text-sm ${\n                      isCurrent ? 'text-[#666666]' : 'text-gray-400'\n                    }`}>\n                      {step.description}\n                    </p>\n\n                    {/* Progress bar for current step */}\n                    {isCurrent && (\n                      <motion.div\n                        className=\"mt-2 h-1 bg-gray-200 rounded-full overflow-hidden\"\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                      >\n                        <motion.div\n                          className=\"h-full bg-[#00A8E8]\"\n                          initial={{ width: '0%' }}\n                          animate={{ width: '100%' }}\n                          transition={{ duration: 2, repeat: Infinity }}\n                        />\n                      </motion.div>\n                    )}\n                  </div>\n\n                  {/* Status indicator */}\n                  <div className=\"flex-shrink-0\">\n                    {isCurrent && (\n                      <motion.div\n                        animate={{ scale: [1, 1.2, 1] }}\n                        transition={{ duration: 1.5, repeat: Infinity }}\n                      >\n                        <Loader2 className=\"h-5 w-5 text-[#00A8E8] animate-spin\" />\n                      </motion.div>\n                    )}\n                  </div>\n                </motion.div>\n              )\n            })}\n          </div>\n\n          {/* Overall Progress */}\n          <div className=\"mt-6\">\n            <div className=\"flex justify-between text-sm text-[#666666] mb-2\">\n              <span>Progreso general</span>\n              <span className=\"font-semibold\">\n                {Math.round((currentStepIndex / (steps.length - 1)) * 100)}%\n              </span>\n            </div>\n            <div className=\"h-3 bg-gray-200 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-[#00A8E8] to-[#2ECA77]\"\n                initial={{ width: '0%' }}\n                animate={{ width: `${(currentStepIndex / (steps.length - 1)) * 100}%` }}\n                transition={{ duration: 0.5 }}\n              />\n            </div>\n          </div>\n\n          {/* Filecoin Info Banner */}\n          {currentStepIndex >= 4 && currentStepIndex < steps.length - 1 && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-lg p-4\"\n            >\n              <div className=\"flex items-start gap-3\">\n                <div className=\"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center\">\n                  <Database className=\"h-5 w-5 text-white\" />\n                </div>\n                <div>\n                  <h5 className=\"font-semibold text-[#0B3861] mb-1\">\n                    Backup en Filecoin\n                  </h5>\n                  <p className=\"text-sm text-[#666666]\">\n                    Los datos se están respaldando de forma automática en Filecoin,\n                    una red de almacenamiento descentralizado. Esto garantiza la\n                    permanencia y disponibilidad de los registros médicos.\n                  </p>\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/TechnicalDetails.tsx"],"sourcesContent":["'use client'\n\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Card, CardContent } from '../ui/card'\nimport { ChevronDown, ChevronUp, Code, ExternalLink } from 'lucide-react'\nimport { useState } from 'react'\n\ninterface TechnicalDetailsProps {\n  transactionHash?: string\n  blockNumber?: number\n  filecoinCID?: string\n  dataHash?: string\n  sapphireExplorer?: string\n}\n\nexport function TechnicalDetails({\n  transactionHash,\n  blockNumber,\n  filecoinCID,\n  dataHash,\n  sapphireExplorer = 'https://explorer.oasis.io/testnet/sapphire'\n}: TechnicalDetailsProps) {\n  const [isExpanded, setIsExpanded] = useState(false)\n\n  // Don't show if no data yet\n  if (!transactionHash && !blockNumber && !filecoinCID && !dataHash) {\n    return null\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"mt-4\"\n    >\n      <Card className=\"border-gray-300\">\n        <CardContent className=\"pt-4\">\n          {/* Header */}\n          <button\n            onClick={() => setIsExpanded(!isExpanded)}\n            className=\"w-full flex items-center justify-between text-left hover:bg-gray-50 p-2 rounded-lg transition-colors\"\n          >\n            <div className=\"flex items-center gap-2\">\n              <Code className=\"h-5 w-5 text-[#0B3861]\" />\n              <span className=\"font-semibold text-[#0B3861]\">\n                Detalles Técnicos\n              </span>\n            </div>\n            {isExpanded ? (\n              <ChevronUp className=\"h-5 w-5 text-gray-500\" />\n            ) : (\n              <ChevronDown className=\"h-5 w-5 text-gray-500\" />\n            )}\n          </button>\n\n          {/* Expandable Content */}\n          <AnimatePresence>\n            {isExpanded && (\n              <motion.div\n                initial={{ height: 0, opacity: 0 }}\n                animate={{ height: 'auto', opacity: 1 }}\n                exit={{ height: 0, opacity: 0 }}\n                transition={{ duration: 0.2 }}\n                className=\"overflow-hidden\"\n              >\n                <div className=\"space-y-3 pt-4\">\n                  {/* Transaction Hash */}\n                  {transactionHash && (\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs font-semibold text-gray-600 mb-1\">\n                        Transaction Hash\n                      </p>\n                      <div className=\"flex items-center gap-2\">\n                        <code className=\"text-xs font-mono text-[#0B3861] break-all flex-1\">\n                          {transactionHash}\n                        </code>\n                        <a\n                          href={`${sapphireExplorer}/tx/${transactionHash}`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"flex-shrink-0 text-[#00A8E8] hover:text-[#0B3861] transition-colors\"\n                          title=\"Ver en explorador\"\n                        >\n                          <ExternalLink className=\"h-4 w-4\" />\n                        </a>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Block Number */}\n                  {blockNumber && (\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs font-semibold text-gray-600 mb-1\">\n                        Bloque\n                      </p>\n                      <code className=\"text-xs font-mono text-[#0B3861]\">\n                        #{blockNumber}\n                      </code>\n                    </div>\n                  )}\n\n                  {/* Data Hash */}\n                  {dataHash && (\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs font-semibold text-gray-600 mb-1\">\n                        Hash de Datos (SHA-256)\n                      </p>\n                      <code className=\"text-xs font-mono text-[#0B3861] break-all\">\n                        {dataHash}\n                      </code>\n                    </div>\n                  )}\n\n                  {/* Filecoin CID */}\n                  {filecoinCID && (\n                    <div className=\"bg-gradient-to-r from-blue-50 to-green-50 p-3 rounded-lg border border-blue-200\">\n                      <p className=\"text-xs font-semibold text-gray-600 mb-1\">\n                        Filecoin CID\n                      </p>\n                      <div className=\"flex items-center gap-2\">\n                        <code className=\"text-xs font-mono text-[#0B3861] break-all flex-1\">\n                          {filecoinCID}\n                        </code>\n                        <a\n                          href={`https://calibration.filscan.io/en/address/${filecoinCID}`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"flex-shrink-0 text-[#00A8E8] hover:text-[#0B3861] transition-colors\"\n                          title=\"Ver en Filscan\"\n                        >\n                          <ExternalLink className=\"h-4 w-4\" />\n                        </a>\n                      </div>\n                      <p className=\"text-xs text-gray-600 mt-2\">\n                        Los datos están almacenados de forma permanente en la red Filecoin\n                      </p>\n                    </div>\n                  )}\n\n                  {/* Info Banner */}\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                    <p className=\"text-xs text-gray-700\">\n                      <span className=\"font-semibold\">Seguridad:</span> Todos los datos\n                      están encriptados mediante Sapphire TEE antes de almacenarse\n                      en blockchain y Filecoin.\n                    </p>\n                  </div>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </CardContent>\n      </Card>\n    </motion.div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AALA;;;;;AAeO,SAAS,iBAAiB,EAC/B,eAAe,EACf,WAAW,EACX,WAAW,EACX,QAAQ,EACR,mBAAmB,4CAA4C,EACzC;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAC;IAE7C,4BAA4B;IAC5B,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,eAAe,CAAC,UAAU;QACjE,OAAO;IACT;IAEA,qBACE,gNAAC,0NAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,WAAU;kBAEV,cAAA,gNAAC,uJAAI;YAAC,WAAU;sBACd,cAAA,gNAAC,8JAAW;gBAAC,WAAU;;kCAErB,gNAAC;wBACC,SAAS,IAAM,cAAc,CAAC;wBAC9B,WAAU;;0CAEV,gNAAC;gCAAI,WAAU;;kDACb,gNAAC,gOAAI;wCAAC,WAAU;;;;;;kDAChB,gNAAC;wCAAK,WAAU;kDAA+B;;;;;;;;;;;;4BAIhD,2BACC,gNAAC,mPAAS;gCAAC,WAAU;;;;;qDAErB,gNAAC,yPAAW;gCAAC,WAAU;;;;;;;;;;;;kCAK3B,gNAAC,kOAAe;kCACb,4BACC,gNAAC,0NAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,QAAQ;gCAAG,SAAS;4BAAE;4BACjC,SAAS;gCAAE,QAAQ;gCAAQ,SAAS;4BAAE;4BACtC,MAAM;gCAAE,QAAQ;gCAAG,SAAS;4BAAE;4BAC9B,YAAY;gCAAE,UAAU;4BAAI;4BAC5B,WAAU;sCAEV,cAAA,gNAAC;gCAAI,WAAU;;oCAEZ,iCACC,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAE,WAAU;0DAA2C;;;;;;0DAGxD,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAK,WAAU;kEACb;;;;;;kEAEH,gNAAC;wDACC,MAAM,GAAG,iBAAiB,IAAI,EAAE,iBAAiB;wDACjD,QAAO;wDACP,KAAI;wDACJ,WAAU;wDACV,OAAM;kEAEN,cAAA,gNAAC,4PAAY;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;oCAO/B,6BACC,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAE,WAAU;0DAA2C;;;;;;0DAGxD,gNAAC;gDAAK,WAAU;;oDAAmC;oDAC/C;;;;;;;;;;;;;oCAMP,0BACC,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAE,WAAU;0DAA2C;;;;;;0DAGxD,gNAAC;gDAAK,WAAU;0DACb;;;;;;;;;;;;oCAMN,6BACC,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAE,WAAU;0DAA2C;;;;;;0DAGxD,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAK,WAAU;kEACb;;;;;;kEAEH,gNAAC;wDACC,MAAM,CAAC,0CAA0C,EAAE,aAAa;wDAChE,QAAO;wDACP,KAAI;wDACJ,WAAU;wDACV,OAAM;kEAEN,cAAA,gNAAC,4PAAY;4DAAC,WAAU;;;;;;;;;;;;;;;;;0DAG5B,gNAAC;gDAAE,WAAU;0DAA6B;;;;;;;;;;;;kDAO9C,gNAAC;wCAAI,WAAU;kDACb,cAAA,gNAAC;4CAAE,WAAU;;8DACX,gNAAC;oDAAK,WAAU;8DAAgB;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAavE;GA5IgB;KAAA"}},
    {"offset": {"line": 1395, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/hooks/useAutoFilecoinSync.ts"],"sourcesContent":["/**\n * @fileoverview Automatic Filecoin synchronization hook\n * @description Automatically uploads encrypted patient data to Filecoin after Sapphire encryption\n *\n * Flow:\n * 1. Patient data is saved on-chain\n * 2. Smart contract encrypts with Sapphire TEE\n * 3. Encrypted data is automatically uploaded to Filecoin\n * 4. CID is stored on-chain\n *\n * This is NOT a manual backup - it's automatic storage\n */\n\nimport { useWatchContractEvent, usePublicClient } from 'wagmi';\nimport MedicalRecordsABI from '@/contracts/MedicalRecords.json';\nimport { contractAddress } from '@/config/wagmi';\n\ninterface FilecoinSyncOptions {\n  enabled?: boolean;\n  callerAddress?: string;\n  onSuccess?: (cid: string) => void;\n  onError?: (error: Error) => void;\n  onProgress?: (step: string, details?: any) => void;\n}\n\n/**\n * Hook that automatically syncs patient data to Filecoin\n * when patient records are created or updated\n */\nexport function useAutoFilecoinSync(options: FilecoinSyncOptions = {}) {\n  const { enabled = true, callerAddress, onSuccess, onError, onProgress } = options;\n  const publicClient = usePublicClient();\n\n  // Watch for PacienteRegistrado event\n  useWatchContractEvent({\n    address: contractAddress as `0x${string}`,\n    abi: MedicalRecordsABI.abi,\n    eventName: 'PacienteRegistrado',\n    enabled,\n    onLogs: async (logs) => {\n      for (const log of logs) {\n        try {\n          // @ts-ignore\n          const { paciente } = log.args;\n\n          console.log('🔄 Auto-syncing patient to Filecoin:', paciente);\n\n          // Automatically encrypt and upload to Filecoin\n          const cid = await autoSyncToFilecoin(paciente as string, callerAddress, publicClient, onProgress);\n\n          if (onSuccess) {\n            onSuccess(cid);\n          }\n        } catch (error) {\n          console.error('Auto-sync failed:', error);\n          if (onError && error instanceof Error) {\n            onError(error);\n          }\n        }\n      }\n    },\n  });\n\n  // Watch for EnfermedadAgregada event\n  useWatchContractEvent({\n    address: contractAddress as `0x${string}`,\n    abi: MedicalRecordsABI.abi,\n    eventName: 'EnfermedadAgregada',\n    enabled,\n    onLogs: async (logs) => {\n      for (const log of logs) {\n        try {\n          // @ts-ignore\n          const { paciente } = log.args;\n\n          console.log('🔄 Auto-syncing updated patient record to Filecoin:', paciente);\n\n          // Re-sync with updated data\n          const cid = await autoSyncToFilecoin(paciente as string, callerAddress, publicClient, onProgress);\n\n          if (onSuccess) {\n            onSuccess(cid);\n          }\n        } catch (error) {\n          console.error('Auto-sync failed:', error);\n          if (onError && error instanceof Error) {\n            onError(error);\n          }\n        }\n      }\n    },\n  });\n\n  // Watch for AntecedenteAgregado event\n  useWatchContractEvent({\n    address: contractAddress as `0x${string}`,\n    abi: MedicalRecordsABI.abi,\n    eventName: 'AntecedenteAgregado',\n    enabled,\n    onLogs: async (logs) => {\n      for (const log of logs) {\n        try {\n          // @ts-ignore\n          const { paciente } = log.args;\n\n          console.log('🔄 Auto-syncing updated patient history to Filecoin:', paciente);\n\n          // Re-sync with updated data\n          const cid = await autoSyncToFilecoin(paciente as string, callerAddress, publicClient, onProgress);\n\n          if (onSuccess) {\n            onSuccess(cid);\n          }\n        } catch (error) {\n          console.error('Auto-sync failed:', error);\n          if (onError && error instanceof Error) {\n            onError(error);\n          }\n        }\n      }\n    },\n  });\n\n  return {\n    // Hook doesn't return anything - it works automatically\n    // Just monitors events and syncs to Filecoin\n  };\n}\n\n/**\n * Switch wallet network to Filecoin Calibration\n */\nasync function switchToFilecoinNetwork(): Promise<void> {\n  if (!window.ethereum) {\n    throw new Error('MetaMask not detected');\n  }\n\n  const FILECOIN_CALIBRATION_CHAIN_ID = '0x4cb2f'; // 314159 in hex\n\n  try {\n    // Try to switch to Filecoin Calibration\n    await window.ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: FILECOIN_CALIBRATION_CHAIN_ID }],\n    });\n    console.log('✅ Switched to Filecoin Calibration network');\n  } catch (switchError: any) {\n    // If the chain hasn't been added to MetaMask, add it\n    if (switchError.code === 4902) {\n      try {\n        await window.ethereum.request({\n          method: 'wallet_addEthereumChain',\n          params: [\n            {\n              chainId: FILECOIN_CALIBRATION_CHAIN_ID,\n              chainName: 'Filecoin - Calibration testnet',\n              nativeCurrency: {\n                name: 'tFIL',\n                symbol: 'tFIL',\n                decimals: 18,\n              },\n              rpcUrls: ['https://rpc.ankr.com/filecoin_testnet'],\n              blockExplorerUrls: ['https://calibration.filscan.io'],\n            },\n          ],\n        });\n        console.log('✅ Filecoin Calibration network added and switched');\n      } catch (addError) {\n        console.error('Failed to add Filecoin Calibration network:', addError);\n        throw addError;\n      }\n    } else {\n      throw switchError;\n    }\n  }\n}\n\n/**\n * Switch wallet network back to Sapphire Testnet\n */\nasync function switchToSapphireNetwork(): Promise<void> {\n  if (!window.ethereum) {\n    throw new Error('MetaMask not detected');\n  }\n\n  const SAPPHIRE_TESTNET_CHAIN_ID = '0x5aff'; // 23295 in hex\n\n  try {\n    await window.ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: SAPPHIRE_TESTNET_CHAIN_ID }],\n    });\n    console.log('✅ Switched back to Sapphire Testnet');\n  } catch (error) {\n    console.error('Failed to switch back to Sapphire:', error);\n    // Don't throw - this is optional\n  }\n}\n\n/**\n * Automatically sync patient data to Filecoin\n */\nasync function autoSyncToFilecoin(\n  patientAddress: string,\n  callerAddress?: string,\n  publicClient?: any,\n  onProgress?: (step: string, details?: any) => void\n): Promise<string> {\n  try {\n    console.log('📤 Starting automatic Filecoin sync...');\n\n    if (!callerAddress) {\n      throw new Error('Caller address is required for authorization');\n    }\n\n    if (!publicClient) {\n      throw new Error('Public client is required');\n    }\n\n    // Step 1: Encrypt patient data using Sapphire TEE\n    onProgress?.('encrypting', { message: 'Encrypting patient data with Sapphire TEE' });\n\n    // Call the new auto-sync function that doesn't require authorization\n    const result = await publicClient.readContract({\n      address: contractAddress as `0x${string}`,\n      abi: MedicalRecordsABI.abi,\n      functionName: 'encriptarRegistroPacienteAutoSync',\n      args: [patientAddress],\n    }) as [string, string];\n\n    const [encryptedData, dataHash] = result;\n\n    console.log('✅ Patient data encrypted by Sapphire TEE');\n    onProgress?.('encrypted', { dataHash });\n\n    // Step 2: Switch to Filecoin Calibration network for upload\n    console.log('🔄 Requesting network switch to Filecoin Calibration...');\n    onProgress?.('preparing-backup', { message: 'Preparing to upload to Filecoin' });\n    await switchToFilecoinNetwork();\n\n    // Wait a bit for the network to stabilize\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    // Step 3: Upload to Filecoin\n    onProgress?.('uploading', { message: 'Uploading encrypted data to Filecoin network' });\n    const cid = await uploadToFilecoin(encryptedData);\n\n    console.log('✅ Uploaded to Filecoin, CID:', cid);\n\n    // Step 4: Switch back to Sapphire Testnet\n    console.log('🔄 Switching back to Sapphire Testnet...');\n    await switchToSapphireNetwork();\n\n    // Wait for network to stabilize\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    // Step 5: Store CID on-chain (Sapphire blockchain)\n    console.log('💾 Storing CID on Sapphire blockchain...');\n    onProgress?.('storing-cid', { message: 'Storing Filecoin CID on blockchain', cid, dataHash });\n\n    try {\n      // Import viem for wallet operations\n      const { createWalletClient, custom, stringToHex } = await import('viem');\n      const { sapphireTestnet } = await import('viem/chains');\n\n      // Create wallet client\n      const walletClient = createWalletClient({\n        chain: sapphireTestnet,\n        transport: custom(window.ethereum!),\n      });\n\n      // Get account address\n      const [account] = await walletClient.getAddresses();\n\n      // Convert hash to bytes32 format (0x + 64 hex chars)\n      const hashBytes32 = dataHash.startsWith('0x') ? dataHash : `0x${dataHash}`;\n\n      console.log('📝 Storing CID on-chain:', {\n        patient: patientAddress,\n        cid,\n        hash: hashBytes32,\n      });\n\n      // Call almacenarCIDFilecoin on the smart contract\n      const txHash = await walletClient.writeContract({\n        address: contractAddress as `0x${string}`,\n        abi: MedicalRecordsABI.abi,\n        functionName: 'almacenarCIDFilecoin',\n        args: [\n          patientAddress,\n          cid,\n          hashBytes32,\n          'Auto-synced encrypted patient record from Sapphire TEE to Filecoin'\n        ],\n        account,\n      });\n\n      console.log('⏳ Waiting for CID storage transaction confirmation...');\n      console.log('📝 Transaction hash:', txHash);\n\n      // Wait for transaction confirmation\n      await publicClient.waitForTransactionReceipt({ hash: txHash });\n\n      console.log('✅ CID stored on Sapphire blockchain successfully!');\n      console.log('🔗 CID:', cid);\n      console.log('📊 Patient:', patientAddress);\n\n      onProgress?.('completed', { cid, dataHash, transactionHash: txHash });\n\n    } catch (storageError) {\n      console.error('⚠️ Failed to store CID on-chain:', storageError);\n      console.log('💡 CID was uploaded to Filecoin but not stored on-chain');\n      console.log('📝 Manual storage needed - CID:', cid, 'Hash:', dataHash);\n      // Don't throw - the upload to Filecoin was successful\n      onProgress?.('completed', { cid, dataHash, error: 'CID not stored on-chain' });\n    }\n\n    return cid;\n\n  } catch (error) {\n    console.error('❌ Auto-sync failed:', error);\n    // Try to switch back to Sapphire even if upload failed\n    try {\n      await switchToSapphireNetwork();\n    } catch (e) {\n      // Ignore errors when switching back\n    }\n    throw error;\n  }\n}\n\n/**\n * Upload encrypted data to Filecoin using Synapse SDK\n */\nasync function uploadToFilecoin(encryptedData: string): Promise<string> {\n  const useSynapse = process.env.NEXT_PUBLIC_USE_SYNAPSE === 'true';\n\n  if (useSynapse) {\n    // Real Filecoin upload using Synapse SDK\n    try {\n      console.log('📤 Uploading to Filecoin via Synapse SDK...');\n\n      // Import Synapse SDK and ethers.js dynamically\n      const { Synapse, RPC_URLS } = await import('@filoz/synapse-sdk');\n      const { BrowserProvider } = await import('ethers');\n\n      // Get wallet from window.ethereum (MetaMask)\n      if (!window.ethereum) {\n        throw new Error('MetaMask not detected. Please install MetaMask to upload to Filecoin.');\n      }\n\n      // Convert hex string to Uint8Array\n      const hexData = encryptedData.startsWith('0x') ? encryptedData.slice(2) : encryptedData;\n      const dataBytes = new Uint8Array(\n        hexData.match(/.{1,2}/g)?.map(byte => parseInt(byte, 16)) || []\n      );\n\n      // Create ethers.js provider and signer from MetaMask\n      // At this point, the wallet should already be connected to Filecoin Calibration\n      const ethersProvider = new BrowserProvider(window.ethereum);\n      const ethersSigner = await ethersProvider.getSigner();\n\n      console.log('✅ Ethers.js signer created from Filecoin Calibration network');\n\n      // Initialize Synapse with the signer (already on Filecoin network)\n      const synapse = await Synapse.create({\n        signer: ethersSigner,\n        rpcURL: RPC_URLS.calibration.http,\n      });\n\n      console.log('✅ Synapse SDK initialized');\n      console.log('📊 Data size:', dataBytes.length, 'bytes');\n\n      // Upload to Filecoin\n      const result = await synapse.storage.upload(dataBytes, {\n        context: await synapse.storage.createContext({\n          metadata: {\n            Application: 'Hygiea MedGuard',\n            Type: 'Encrypted Patient Record',\n            Blockchain: 'Sapphire Testnet',\n          },\n        }),\n      });\n\n      console.log('✅ Uploaded to Filecoin successfully');\n      console.log('📝 Piece CID:', result.pieceCid);\n      console.log('📊 Size:', result.size, 'bytes');\n\n      // Convert PieceCID to string\n      const cidString = typeof result.pieceCid === 'string'\n        ? result.pieceCid\n        : result.pieceCid.toString();\n\n      return cidString;\n\n    } catch (error) {\n      console.error('❌ Synapse SDK upload failed:', error);\n\n      // Fallback to mock for development if Synapse fails\n      console.warn('⚠️ Falling back to mock storage due to Synapse error');\n      return uploadToFilecoinMock(encryptedData);\n    }\n  }\n\n  // Development: Mock upload\n  return uploadToFilecoinMock(encryptedData);\n}\n\n/**\n * Mock Filecoin upload for development/testing\n */\nasync function uploadToFilecoinMock(encryptedData: string): Promise<string> {\n  console.log('⚠️ Using localStorage for development (mock Filecoin)');\n\n  // Generate CID from hash\n  const encoder = new TextEncoder();\n  const data = encoder.encode(encryptedData);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n\n  const mockCID = `bafybei${hashHex.substring(0, 52)}`;\n\n  // Store in localStorage\n  localStorage.setItem(`filecoin_auto_${mockCID}`, encryptedData);\n\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  return mockCID;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1795, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/RegisterPatient.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { useWriteContract, useWaitForTransactionReceipt, useAccount } from 'wagmi'\nimport { getAddress } from 'ethers'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { UserPlus, CheckCircle2, Loader2 } from \"lucide-react\"\nimport { contractAddress } from '@/config/wagmi'\nimport contractABI from '@/contracts/MedicalRecords.json'\nimport { RegistrationProgress, RegistrationStep } from './RegistrationProgress'\nimport { TechnicalDetails } from './TechnicalDetails'\nimport { useAutoFilecoinSync } from '@/hooks/useAutoFilecoinSync'\n\nexport default function RegisterPatient() {\n  const [formData, setFormData] = useState({\n    pacienteAddress: '',\n    nombre: '',\n    edad: '',\n    sexo: 'M',\n    tipoSangre: 'O+',\n    direccion: '',\n    telefono: '',\n    email: '',\n    numeroSeguroSocial: ''\n  })\n\n  const [checksummedAddress, setChecksummedAddress] = useState('')\n  const [currentStep, setCurrentStep] = useState<RegistrationStep>('validating')\n  const [showProgress, setShowProgress] = useState(false)\n  const [filecoinCompleted, setFilecoinCompleted] = useState(false)\n  const [filecoinCID, setFilecoinCID] = useState<string>('')\n  const [dataHash, setDataHash] = useState<string>('')\n\n  // Get connected wallet address\n  const { address: userAddress } = useAccount()\n\n  const { writeContract, data: hash, isPending, error } = useWriteContract()\n  const { isLoading: isConfirming, isSuccess } = useWaitForTransactionReceipt({ hash })\n\n  // Auto-sync to Filecoin with progress tracking\n  useAutoFilecoinSync({\n    enabled: true,\n    callerAddress: userAddress,\n    onProgress: (step: string, details?: any) => {\n      console.log('Filecoin progress:', step, details)\n\n      // Extract technical details\n      if (details?.dataHash) {\n        setDataHash(details.dataHash)\n      }\n      if (details?.cid) {\n        setFilecoinCID(details.cid)\n      }\n\n      // Map Filecoin steps to our progress steps\n      switch(step) {\n        case 'encrypting':\n          console.log('🎯 UI: Cambiando a encrypting-filecoin')\n          setCurrentStep('encrypting-filecoin')\n          break\n        case 'encrypted':\n          console.log('🎯 UI: Datos encriptados')\n          // Stay on encrypting-filecoin, data is ready\n          if (details?.dataHash) {\n            setDataHash(details.dataHash)\n          }\n          break\n        case 'preparing-backup':\n          console.log('🎯 UI: Cambiando a preparing-backup')\n          setCurrentStep('preparing-backup')\n          break\n        case 'uploading':\n          console.log('🎯 UI: Cambiando a uploading-filecoin')\n          setCurrentStep('uploading-filecoin')\n          break\n        case 'storing-cid':\n          console.log('🎯 UI: Cambiando a storing-cid')\n          setCurrentStep('storing-cid')\n          break\n        case 'completed':\n          console.log('🎯 UI: COMPLETADO - Cambiando a completed')\n          console.log('🎯 UI: CID recibido:', details?.cid)\n          setCurrentStep('completed')\n          setFilecoinCompleted(true)\n          if (details?.cid) {\n            setFilecoinCID(details.cid)\n          }\n          if (details?.transactionHash) {\n            console.log('🎯 UI: Transaction hash:', details.transactionHash)\n          }\n          break\n      }\n    },\n    onSuccess: (cid: string) => {\n      console.log('Filecoin sync successful:', cid)\n      setFilecoinCID(cid)\n      setCurrentStep('completed')\n      setFilecoinCompleted(true)\n    },\n    onError: (error: Error) => {\n      console.error('Filecoin sync error:', error)\n      // Even if Filecoin fails, show as completed (blockchain registration succeeded)\n      setCurrentStep('completed')\n      setFilecoinCompleted(true)\n    }\n  })\n\n  // Track transaction progress\n  useEffect(() => {\n    if (isPending) {\n      setShowProgress(true)\n      setCurrentStep('connecting')\n    } else if (isConfirming) {\n      setCurrentStep('registering')\n    } else if (isSuccess && !filecoinCompleted) {\n      // Don't set step here - let the Filecoin hook handle it\n      console.log('✅ Blockchain registration successful, waiting for Filecoin sync...')\n    }\n  }, [isPending, isConfirming, isSuccess, filecoinCompleted])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    // Validate Ethereum address format\n    if (!formData.pacienteAddress.match(/^0x[a-fA-F0-9]{40}$/)) {\n      alert('Please enter a valid wallet address (format: 0x...)')\n      return\n    }\n\n    try {\n      // Start showing progress\n      setShowProgress(true)\n      setCurrentStep('validating')\n\n      // Simulate validation delay for visual feedback\n      await new Promise(resolve => setTimeout(resolve, 500))\n      setCurrentStep('encrypting')\n\n      // Normalize to lowercase, then convert to checksummed\n      const normalizedAddress = formData.pacienteAddress.toLowerCase()\n      const checksummedAddr = getAddress(normalizedAddress)\n\n      writeContract({\n        address: contractAddress as `0x${string}`,\n        abi: contractABI.abi,\n        functionName: 'registrarPaciente',\n        args: [\n          checksummedAddr as `0x${string}`,\n          formData.nombre,\n          parseInt(formData.edad),\n          formData.sexo,\n          formData.tipoSangre,\n          formData.direccion,\n          formData.telefono,\n          formData.email,\n          formData.numeroSeguroSocial\n        ]\n      })\n    } catch (err: any) {\n      console.error('Error registering patient:', err)\n      alert('Error: ' + (err.message || 'Could not register patient'))\n      setShowProgress(false)\n    }\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n\n    // If changing patient address, show checksummed version\n    if (name === 'pacienteAddress' && value.match(/^0x[a-fA-F0-9]{40}$/)) {\n      try {\n        const normalizedAddress = value.toLowerCase()\n        const checksummed = getAddress(normalizedAddress)\n        setChecksummedAddress(checksummed)\n      } catch (err) {\n        setChecksummedAddress('')\n      }\n    } else if (name === 'pacienteAddress') {\n      setChecksummedAddress('')\n    }\n  }\n\n  // Show progress visualization during registration process\n  if (showProgress) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n      >\n        <RegistrationProgress\n          currentStep={currentStep}\n          patientName={formData.nombre}\n        />\n\n        {/* Technical Details */}\n        <TechnicalDetails\n          transactionHash={hash}\n          filecoinCID={filecoinCID}\n          dataHash={dataHash}\n        />\n\n        {/* Show final success message after Filecoin completes */}\n        {filecoinCompleted && currentStep === 'completed' && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.3 }}\n            className=\"mt-4\"\n          >\n            <Card className=\"border-[#2ECA77] border-2 shadow-xl\">\n              <CardContent className=\"pt-6\">\n                <div className=\"text-center py-6\">\n                  <motion.div\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{ type: \"spring\", stiffness: 200, delay: 0.4 }}\n                    className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-[#2ECA77] mb-3\"\n                  >\n                    <CheckCircle2 className=\"h-8 w-8 text-white\" />\n                  </motion.div>\n                  <h3 className=\"text-xl font-bold text-[#0B3861] mb-2\">\n                    ¡Registro Completo!\n                  </h3>\n                  <p className=\"text-[#666666] mb-4\">\n                    El registro médico ha sido creado exitosamente en blockchain\n                    y respaldado en Filecoin\n                  </p>\n                  <Button\n                    onClick={() => {\n                      setShowProgress(false)\n                      setFilecoinCompleted(false)\n                      setFilecoinCID('')\n                      setDataHash('')\n                      setFormData({\n                        pacienteAddress: '',\n                        nombre: '',\n                        edad: '',\n                        sexo: 'M',\n                        tipoSangre: 'O+',\n                        direccion: '',\n                        telefono: '',\n                        email: '',\n                        numeroSeguroSocial: ''\n                      })\n                    }}\n                    className=\"bg-[#0B3861] hover:bg-[#1F4E6F]\"\n                  >\n                    Registrar Otro Paciente\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n        )}\n      </motion.div>\n    )\n  }\n\n  return (\n    <Card className=\"border-none shadow-lg\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-12 w-12 rounded-lg bg-[#0B3861] flex items-center justify-center\">\n            <UserPlus className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-2xl text-[#0B3861]\">Register Patient</CardTitle>\n            <CardDescription>Create a new patient medical record on the blockchain</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid gap-6 md:grid-cols-2\">\n            <div className=\"space-y-2 md:col-span-2\">\n              <Label htmlFor=\"pacienteAddress\">Patient Wallet Address *</Label>\n              <Input\n                id=\"pacienteAddress\"\n                name=\"pacienteAddress\"\n                value={formData.pacienteAddress}\n                onChange={handleChange}\n                placeholder=\"0x...\"\n                required\n                className=\"font-mono\"\n              />\n              <p className=\"text-xs text-[#666666]\">The blockchain address of the patient</p>\n              {checksummedAddress && checksummedAddress !== formData.pacienteAddress && (\n                <div className=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md\">\n                  <p className=\"text-xs font-semibold text-blue-900 mb-1\">✓ Checksummed format:</p>\n                  <p className=\"text-xs font-mono text-blue-700 break-all\">{checksummedAddress}</p>\n                  <p className=\"text-xs text-blue-600 mt-1\">This format will be used automatically</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"nombre\">Full Name *</Label>\n              <Input\n                id=\"nombre\"\n                name=\"nombre\"\n                value={formData.nombre}\n                onChange={handleChange}\n                placeholder=\"John Doe\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edad\">Age *</Label>\n              <Input\n                id=\"edad\"\n                name=\"edad\"\n                type=\"number\"\n                value={formData.edad}\n                onChange={handleChange}\n                placeholder=\"30\"\n                required\n                min=\"0\"\n                max=\"150\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"sexo\">Sex *</Label>\n              <Select\n                value={formData.sexo}\n                onValueChange={(value) => setFormData({ ...formData, sexo: value })}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"M\">Male</SelectItem>\n                  <SelectItem value=\"F\">Female</SelectItem>\n                  <SelectItem value=\"O\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"tipoSangre\">Blood Type *</Label>\n              <Select\n                value={formData.tipoSangre}\n                onValueChange={(value) => setFormData({ ...formData, tipoSangre: value })}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"O+\">O+</SelectItem>\n                  <SelectItem value=\"O-\">O-</SelectItem>\n                  <SelectItem value=\"A+\">A+</SelectItem>\n                  <SelectItem value=\"A-\">A-</SelectItem>\n                  <SelectItem value=\"B+\">B+</SelectItem>\n                  <SelectItem value=\"B-\">B-</SelectItem>\n                  <SelectItem value=\"AB+\">AB+</SelectItem>\n                  <SelectItem value=\"AB-\">AB-</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2 md:col-span-2\">\n              <Label htmlFor=\"direccion\">Address</Label>\n              <Input\n                id=\"direccion\"\n                name=\"direccion\"\n                value={formData.direccion}\n                onChange={handleChange}\n                placeholder=\"123 Main St, City, Country\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"telefono\">Phone</Label>\n              <Input\n                id=\"telefono\"\n                name=\"telefono\"\n                type=\"tel\"\n                value={formData.telefono}\n                onChange={handleChange}\n                placeholder=\"+1 234 567 8900\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                placeholder=\"john@example.com\"\n              />\n            </div>\n\n            <div className=\"space-y-2 md:col-span-2\">\n              <Label htmlFor=\"numeroSeguroSocial\">Social Security Number</Label>\n              <Input\n                id=\"numeroSeguroSocial\"\n                name=\"numeroSeguroSocial\"\n                value={formData.numeroSeguroSocial}\n                onChange={handleChange}\n                placeholder=\"XXX-XX-XXXX\"\n                className=\"font-mono\"\n              />\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-sm text-red-800\">❌ Error: {error.message}</p>\n            </div>\n          )}\n\n          <Button\n            type=\"submit\"\n            disabled={isPending || isConfirming}\n            className=\"w-full bg-[#0B3861] hover:bg-[#1F4E6F] text-white py-6 text-lg shadow-lg transition-all hover:-translate-y-0.5 disabled:opacity-50\"\n          >\n            {isPending ? (\n              <>\n                <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                Signing Transaction...\n              </>\n            ) : isConfirming ? (\n              <>\n                <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                Confirming on Blockchain...\n              </>\n            ) : (\n              <>\n                <UserPlus className=\"mr-2 h-5 w-5\" />\n                Register Patient\n              </>\n            )}\n          </Button>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2752, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/RegisterDoctor.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Stethoscope, CheckCircle2, Loader2 } from \"lucide-react\"\n\nexport default function RegisterDoctor() {\n  const [nombreMedico, setNombreMedico] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [isSuccess, setIsSuccess] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    \n    // TODO: Implement blockchain registration\n    setTimeout(() => {\n      setIsLoading(false)\n      setIsSuccess(true)\n      setTimeout(() => {\n        setIsSuccess(false)\n        setNombreMedico('')\n      }, 3000)\n    }, 2000)\n  }\n\n  if (isSuccess) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n      >\n        <Card className=\"border-[#2ECA77] border-2 shadow-xl\">\n          <CardContent className=\"pt-6\">\n            <div className=\"text-center py-8\">\n              <motion.div\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                transition={{ type: \"spring\", stiffness: 200 }}\n                className=\"inline-flex items-center justify-center w-20 h-20 rounded-full bg-[#2ECA77] mb-4\"\n              >\n                <CheckCircle2 className=\"h-10 w-10 text-white\" />\n              </motion.div>\n              <h3 className=\"text-2xl font-bold text-[#0B3861] mb-2\">Doctor Registered!</h3>\n              <p className=\"text-[#666666]\">You can now be authorized by patients to access records</p>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    )\n  }\n\n  return (\n    <Card className=\"border-none shadow-lg\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-12 w-12 rounded-lg bg-[#2B7A9B] flex items-center justify-center\">\n            <Stethoscope className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-2xl text-[#0B3861]\">Register Doctor</CardTitle>\n            <CardDescription>Register as a healthcare provider to access patient records</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"nombreMedico\">Doctor Name *</Label>\n            <Input\n              id=\"nombreMedico\"\n              value={nombreMedico}\n              onChange={(e) => setNombreMedico(e.target.value)}\n              placeholder=\"Dr. Jane Smith\"\n              required\n            />\n            <p className=\"text-xs text-[#666666]\">Your professional name as it will appear to patients</p>\n          </div>\n\n          <Button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full bg-[#2B7A9B] hover:bg-[#0B3861] text-white py-6 text-lg shadow-lg transition-all hover:-translate-y-0.5\"\n          >\n            {isLoading ? (\n              <>\n                <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                Registering on Blockchain...\n              </>\n            ) : (\n              <>\n                <Stethoscope className=\"mr-2 h-5 w-5\" />\n                Register as Doctor\n              </>\n            )}\n          </Button>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;AARA;;;;;;;;AAUe,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,4LAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAC;IAE3C,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,aAAa;QAEb,0CAA0C;QAC1C,WAAW;YACT,aAAa;YACb,aAAa;YACb,WAAW;gBACT,aAAa;gBACb,gBAAgB;YAClB,GAAG;QACL,GAAG;IACL;IAEA,IAAI,WAAW;QACb,qBACE,gNAAC,0NAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,OAAO;YAAK;YACnC,SAAS;gBAAE,SAAS;gBAAG,OAAO;YAAE;sBAEhC,cAAA,gNAAC,uJAAI;gBAAC,WAAU;0BACd,cAAA,gNAAC,8JAAW;oBAAC,WAAU;8BACrB,cAAA,gNAAC;wBAAI,WAAU;;0CACb,gNAAC,0NAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,OAAO;gCAAE;gCACpB,SAAS;oCAAE,OAAO;gCAAE;gCACpB,YAAY;oCAAE,MAAM;oCAAU,WAAW;gCAAI;gCAC7C,WAAU;0CAEV,cAAA,gNAAC,2PAAY;oCAAC,WAAU;;;;;;;;;;;0CAE1B,gNAAC;gCAAG,WAAU;0CAAyC;;;;;;0CACvD,gNAAC;gCAAE,WAAU;0CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;IAM1C;IAEA,qBACE,gNAAC,uJAAI;QAAC,WAAU;;0BACd,gNAAC,6JAAU;0BACT,cAAA,gNAAC;oBAAI,WAAU;;sCACb,gNAAC;4BAAI,WAAU;sCACb,cAAA,gNAAC,qPAAW;gCAAC,WAAU;;;;;;;;;;;sCAEzB,gNAAC;;8CACC,gNAAC,4JAAS;oCAAC,WAAU;8CAA0B;;;;;;8CAC/C,gNAAC,kKAAe;8CAAC;;;;;;;;;;;;;;;;;;;;;;;0BAIvB,gNAAC,8JAAW;0BACV,cAAA,gNAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,gNAAC;4BAAI,WAAU;;8CACb,gNAAC,yJAAK;oCAAC,SAAQ;8CAAe;;;;;;8CAC9B,gNAAC,yJAAK;oCACJ,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oCAC/C,aAAY;oCACZ,QAAQ;;;;;;8CAEV,gNAAC;oCAAE,WAAU;8CAAyB;;;;;;;;;;;;sCAGxC,gNAAC,2JAAM;4BACL,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,0BACC;;kDACE,gNAAC,kPAAO;wCAAC,WAAU;;;;;;oCAA8B;;6DAInD;;kDACE,gNAAC,qPAAW;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;;;;;;;AASxD;GA9FwB;KAAA"}},
    {"offset": {"line": 3030, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,6LAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,8LAAI,GAAG;IAE9B,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 3082, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/alert.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,6LAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,gNAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,wIAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 3158, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/ViewRecords.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Eye, Loader2, AlertCircle, User, Calendar, Heart, Phone, Mail } from \"lucide-react\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\n\nexport default function ViewRecords() {\n  const [pacienteAddress, setPacienteAddress] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [hasData, setHasData] = useState(false)\n\n  // Mock data\n  const mockData = {\n    afiliacion: {\n      nombre: \"John Doe\",\n      edad: 35,\n      sexo: \"M\",\n      tipoSangre: \"O+\",\n      direccion: \"123 Main St, City\",\n      telefono: \"+1 234 567 8900\",\n      email: \"john@example.com\",\n      numeroSeguroSocial: \"XXX-XX-1234\"\n    },\n    enfermedades: [\n      {\n        nombre: \"Type 2 Diabetes\",\n        gravedad: \"Moderada\",\n        descripcion: \"Diagnosed in 2020, controlled with medication\",\n        tratamiento: \"Metformin 500mg twice daily\",\n        fechaDiagnostico: Date.now() / 1000,\n        activa: true\n      }\n    ],\n    antecedentes: [\n      {\n        tipo: \"Familiar\",\n        condicion: \"Heart Disease\",\n        descripcion: \"Father had heart attack at 60\",\n        relacionFamiliar: \"Father\"\n      }\n    ]\n  }\n\n  const handleSearch = () => {\n    setIsLoading(true)\n    setTimeout(() => {\n      setIsLoading(false)\n      setHasData(true)\n    }, 1500)\n  }\n\n  return (\n    <Card className=\"border-none shadow-lg\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-12 w-12 rounded-lg bg-[#0B3861] flex items-center justify-center\">\n            <Eye className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-2xl text-[#0B3861]\">View Medical Records</CardTitle>\n            <CardDescription>Access patient medical information from the blockchain</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div className=\"flex gap-3\">\n          <div className=\"flex-1 space-y-2\">\n            <Label htmlFor=\"paciente\">Patient Address</Label>\n            <Input\n              id=\"paciente\"\n              value={pacienteAddress}\n              onChange={(e) => setPacienteAddress(e.target.value)}\n              placeholder=\"0x... or leave empty to view your own\"\n              className=\"font-mono\"\n            />\n          </div>\n          <div className=\"flex items-end\">\n            <Button\n              onClick={handleSearch}\n              disabled={isLoading}\n              className=\"bg-[#2B7A9B] hover:bg-[#0B3861] text-white\"\n            >\n              {isLoading ? <Loader2 className=\"h-5 w-5 animate-spin\" /> : <Eye className=\"h-5 w-5\" />}\n            </Button>\n          </div>\n        </div>\n\n        {hasData ? (\n          <div className=\"space-y-6\">\n            {/* Patient Information */}\n            <Card className=\"border-[#0B3861]/20 bg-gradient-to-br from-white to-[#F8FBFC]\">\n              <CardHeader>\n                <div className=\"flex items-center gap-2\">\n                  <User className=\"h-5 w-5 text-[#2B7A9B]\" />\n                  <CardTitle className=\"text-xl text-[#0B3861]\">Patient Information</CardTitle>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-4 md:grid-cols-2\">\n                  <div>\n                    <p className=\"text-sm text-[#666666]\">Name</p>\n                    <p className=\"font-semibold text-[#0B3861]\">{mockData.afiliacion.nombre}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-[#666666]\">Age</p>\n                    <p className=\"font-semibold text-[#0B3861]\">{mockData.afiliacion.edad} years</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-[#666666]\">Sex</p>\n                    <p className=\"font-semibold text-[#0B3861]\">{mockData.afiliacion.sexo === 'M' ? 'Male' : 'Female'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-[#666666]\">Blood Type</p>\n                    <Badge variant=\"outline\" className=\"border-[#0B3861] text-[#0B3861]\">\n                      {mockData.afiliacion.tipoSangre}\n                    </Badge>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-[#666666] flex items-center gap-1\">\n                      <Phone className=\"h-3 w-3\" /> Phone\n                    </p>\n                    <p className=\"font-semibold text-[#0B3861]\">{mockData.afiliacion.telefono}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-[#666666] flex items-center gap-1\">\n                      <Mail className=\"h-3 w-3\" /> Email\n                    </p>\n                    <p className=\"font-semibold text-[#0B3861]\">{mockData.afiliacion.email}</p>\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <p className=\"text-sm text-[#666666]\">Address</p>\n                    <p className=\"font-semibold text-[#0B3861]\">{mockData.afiliacion.direccion}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Diseases */}\n            <Card className=\"border-[#0B3861]/20\">\n              <CardHeader>\n                <div className=\"flex items-center gap-2\">\n                  <Heart className=\"h-5 w-5 text-[#2B7A9B]\" />\n                  <CardTitle className=\"text-xl text-[#0B3861]\">Current Conditions</CardTitle>\n                </div>\n              </CardHeader>\n              <CardContent>\n                {mockData.enfermedades.length > 0 ? (\n                  <div className=\"space-y-4\">\n                    {mockData.enfermedades.map((enfermedad, index) => (\n                      <Card key={index} className=\"border-l-4 border-l-[#2B7A9B] bg-[#F8FBFC]\">\n                        <CardContent className=\"pt-4\">\n                          <div className=\"flex items-start justify-between mb-2\">\n                            <h4 className=\"font-bold text-[#0B3861] text-lg\">{enfermedad.nombre}</h4>\n                            {enfermedad.activa && (\n                              <Badge className=\"bg-[#2ECA77]\">Active</Badge>\n                            )}\n                          </div>\n                          <p className=\"text-sm text-[#666666] mb-2\">{enfermedad.descripcion}</p>\n                          <div className=\"grid gap-2 mt-3\">\n                            <div>\n                              <span className=\"text-xs font-semibold text-[#666666]\">Severity: </span>\n                              <Badge variant=\"outline\" className={\n                                enfermedad.gravedad === 'Grave' ? 'border-red-500 text-red-500' :\n                                enfermedad.gravedad === 'Moderada' ? 'border-orange-500 text-orange-500' :\n                                'border-green-500 text-green-500'\n                              }>\n                                {enfermedad.gravedad}\n                              </Badge>\n                            </div>\n                            <div>\n                              <span className=\"text-xs font-semibold text-[#666666]\">Treatment: </span>\n                              <span className=\"text-sm text-[#0B3861]\">{enfermedad.tratamiento}</span>\n                            </div>\n                            <div className=\"flex items-center gap-1 text-xs text-[#666666]\">\n                              <Calendar className=\"h-3 w-3\" />\n                              Diagnosed: {new Date(enfermedad.fechaDiagnostico * 1000).toLocaleDateString()}\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-[#666666] text-center py-4\">No conditions recorded</p>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Medical History */}\n            <Card className=\"border-[#0B3861]/20\">\n              <CardHeader>\n                <div className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-5 w-5 text-[#2B7A9B]\" />\n                  <CardTitle className=\"text-xl text-[#0B3861]\">Medical History</CardTitle>\n                </div>\n              </CardHeader>\n              <CardContent>\n                {mockData.antecedentes.length > 0 ? (\n                  <div className=\"space-y-3\">\n                    {mockData.antecedentes.map((ant, index) => (\n                      <Card key={index} className=\"bg-[#F8FBFC] border-[#0B3861]/10\">\n                        <CardContent className=\"pt-4\">\n                          <div className=\"flex items-start gap-3\">\n                            <Badge variant=\"outline\" className=\"border-[#2B7A9B] text-[#2B7A9B]\">\n                              {ant.tipo}\n                            </Badge>\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-semibold text-[#0B3861]\">{ant.condicion}</h4>\n                              <p className=\"text-sm text-[#666666] mt-1\">{ant.descripcion}</p>\n                              {ant.relacionFamiliar && (\n                                <p className=\"text-xs text-[#2B7A9B] mt-2\">\n                                  Family: {ant.relacionFamiliar}\n                                </p>\n                              )}\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-[#666666] text-center py-4\">No medical history recorded</p>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        ) : (\n          <Alert>\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertDescription>\n              Enter a patient address and click search to view their medical records\n            </AlertDescription>\n          </Alert>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3966, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 3996, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/AddDisease.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Stethoscope, Loader2, AlertCircle } from \"lucide-react\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\n\nexport default function AddDisease() {\n  const [formData, setFormData] = useState({\n    paciente: '',\n    nombre: '',\n    descripcion: '',\n    gravedad: 'Leve',\n    tratamiento: ''\n  })\n\n  const [isLoading, setIsLoading] = useState(false)\n  const [success, setSuccess] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    \n    setTimeout(() => {\n      setIsLoading(false)\n      setSuccess(true)\n      setFormData({ paciente: '', nombre: '', descripcion: '', gravedad: 'Leve', tratamiento: '' })\n      setTimeout(() => setSuccess(false), 3000)\n    }, 1500)\n  }\n\n  return (\n    <Card className=\"border-none shadow-lg\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-12 w-12 rounded-lg bg-[#0B3861] flex items-center justify-center\">\n            <Stethoscope className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-2xl text-[#0B3861]\">Add Disease / Diagnosis</CardTitle>\n            <CardDescription>Record a new medical condition for a patient</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {success && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"mb-6\"\n          >\n            <Alert className=\"border-[#2ECA77] bg-[#2ECA77]/10\">\n              <AlertCircle className=\"h-4 w-4 text-[#2ECA77]\" />\n              <AlertDescription className=\"text-[#2ECA77]\">\n                Disease added successfully to blockchain!\n              </AlertDescription>\n            </Alert>\n          </motion.div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"paciente\">Patient Address *</Label>\n            <Input\n              id=\"paciente\"\n              value={formData.paciente}\n              onChange={(e) => setFormData({ ...formData, paciente: e.target.value })}\n              placeholder=\"0x... or leave empty for yourself\"\n              className=\"font-mono\"\n              required\n            />\n            <p className=\"text-xs text-[#666666]\">Leave your own address to add to your record</p>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"nombre\">Disease Name *</Label>\n            <Input\n              id=\"nombre\"\n              value={formData.nombre}\n              onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\n              placeholder=\"E.g.: Type 2 Diabetes, Hypertension\"\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"descripcion\">Description</Label>\n            <Textarea\n              id=\"descripcion\"\n              value={formData.descripcion}\n              onChange={(e) => setFormData({ ...formData, descripcion: e.target.value })}\n              placeholder=\"Detailed diagnosis information, symptoms, test results...\"\n              rows={4}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"gravedad\">Severity *</Label>\n            <Select\n              value={formData.gravedad}\n              onValueChange={(value) => setFormData({ ...formData, gravedad: value })}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"Leve\">Mild (Leve)</SelectItem>\n                <SelectItem value=\"Moderada\">Moderate (Moderada)</SelectItem>\n                <SelectItem value=\"Grave\">Severe (Grave)</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"tratamiento\">Treatment Plan</Label>\n            <Textarea\n              id=\"tratamiento\"\n              value={formData.tratamiento}\n              onChange={(e) => setFormData({ ...formData, tratamiento: e.target.value })}\n              placeholder=\"Medications, dosages, lifestyle changes, follow-up instructions...\"\n              rows={4}\n            />\n          </div>\n\n          <Button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full bg-[#0B3861] hover:bg-[#1F4E6F] text-white py-6 text-lg shadow-lg transition-all hover:-translate-y-0.5\"\n          >\n            {isLoading ? (\n              <>\n                <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                Saving to Blockchain...\n              </>\n            ) : (\n              'Save Disease Record'\n            )}\n          </Button>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4410, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/ManagePermissions.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Lock, Unlock, UserCheck, UserX, Loader2, AlertCircle } from \"lucide-react\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\n\nexport default function ManagePermissions() {\n  const [medicoAddress, setMedicoAddress] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [success, setSuccess] = useState('')\n\n  // Mock authorized doctors\n  const [authorizedDoctors] = useState([\n    {\n      address: \"0x1234...5678\",\n      nombre: \"Dr. Jane Smith\",\n      fechaAutorizacion: new Date(),\n      activo: true\n    }\n  ])\n\n  const handleAuthorize = async () => {\n    setIsLoading(true)\n    setTimeout(() => {\n      setIsLoading(false)\n      setSuccess('authorized')\n      setTimeout(() => setSuccess(''), 3000)\n      setMedicoAddress('')\n    }, 1500)\n  }\n\n  const handleRevoke = async (address: string) => {\n    // TODO: Implement revoke logic\n    console.log('Revoking:', address)\n  }\n\n  return (\n    <Card className=\"border-none shadow-lg\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-12 w-12 rounded-lg bg-[#0B3861] flex items-center justify-center\">\n            <Lock className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-2xl text-[#0B3861]\">Manage Doctor Permissions</CardTitle>\n            <CardDescription>Control who can access your medical records</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {success && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n          >\n            <Alert className=\"border-[#2ECA77] bg-[#2ECA77]/10\">\n              <AlertCircle className=\"h-4 w-4 text-[#2ECA77]\" />\n              <AlertDescription className=\"text-[#2ECA77]\">\n                {success === 'authorized' ? 'Doctor authorized successfully!' : 'Permission revoked successfully!'}\n              </AlertDescription>\n            </Alert>\n          </motion.div>\n        )}\n\n        {/* Authorize New Doctor */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-semibold text-[#0B3861] flex items-center gap-2\">\n            <UserCheck className=\"h-5 w-5\" />\n            Authorize Doctor\n          </h3>\n          <div className=\"flex gap-3\">\n            <div className=\"flex-1 space-y-2\">\n              <Label htmlFor=\"medicoAddress\">Doctor Wallet Address</Label>\n              <Input\n                id=\"medicoAddress\"\n                value={medicoAddress}\n                onChange={(e) => setMedicoAddress(e.target.value)}\n                placeholder=\"0x...\"\n                className=\"font-mono\"\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <Button\n                onClick={handleAuthorize}\n                disabled={isLoading || !medicoAddress}\n                className=\"bg-[#2ECA77] hover:bg-[#28b567] text-white\"\n              >\n                {isLoading ? (\n                  <Loader2 className=\"h-5 w-5 animate-spin\" />\n                ) : (\n                  <>\n                    <Unlock className=\"mr-2 h-4 w-4\" />\n                    Authorize\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n          <p className=\"text-xs text-[#666666]\">\n            Grant a doctor access to view your medical records on the blockchain\n          </p>\n        </div>\n\n        {/* Authorized Doctors List */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-semibold text-[#0B3861] flex items-center gap-2\">\n            <UserCheck className=\"h-5 w-5\" />\n            Authorized Doctors ({authorizedDoctors.length})\n          </h3>\n\n          {authorizedDoctors.length > 0 ? (\n            <div className=\"space-y-3\">\n              {authorizedDoctors.map((doctor, index) => (\n                <Card key={index} className=\"border-[#0B3861]/20 bg-[#F8FBFC]\">\n                  <CardContent className=\"pt-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <h4 className=\"font-semibold text-[#0B3861]\">{doctor.nombre}</h4>\n                          {doctor.activo ? (\n                            <Badge className=\"bg-[#2ECA77]\">\n                              <Unlock className=\"h-3 w-3 mr-1\" />\n                              Active\n                            </Badge>\n                          ) : (\n                            <Badge variant=\"outline\" className=\"border-red-500 text-red-500\">\n                              <Lock className=\"h-3 w-3 mr-1\" />\n                              Revoked\n                            </Badge>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-[#666666] font-mono\">{doctor.address}</p>\n                        <p className=\"text-xs text-[#666666] mt-1\">\n                          Authorized: {doctor.fechaAutorizacion.toLocaleDateString()}\n                        </p>\n                      </div>\n                      {doctor.activo && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleRevoke(doctor.address)}\n                          className=\"border-red-500 text-red-500 hover:bg-red-500 hover:text-white\"\n                        >\n                          <UserX className=\"h-4 w-4 mr-1\" />\n                          Revoke\n                        </Button>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : (\n            <Alert>\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                No doctors authorized yet. Add a doctor's address to grant access to your records.\n              </AlertDescription>\n            </Alert>\n          )}\n        </div>\n\n        {/* Info Box */}\n        <Alert className=\"border-[#2B7A9B] bg-[#F8FBFC]\">\n          <Lock className=\"h-4 w-4 text-[#2B7A9B]\" />\n          <AlertDescription className=\"text-[#666666]\">\n            <strong className=\"text-[#0B3861]\">Privacy Note:</strong> Only authorized doctors can view your medical records. You can revoke access at any time.\n          </AlertDescription>\n        </Alert>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4905, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/AddHistory.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { ClipboardList, Loader2, AlertCircle } from \"lucide-react\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\n\nexport default function AddHistory() {\n  const [formData, setFormData] = useState({\n    paciente: '',\n    tipo: 'Personal',\n    condicion: '',\n    descripcion: '',\n    relacionFamiliar: ''\n  })\n\n  const [isLoading, setIsLoading] = useState(false)\n  const [success, setSuccess] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    \n    setTimeout(() => {\n      setIsLoading(false)\n      setSuccess(true)\n      setFormData({ paciente: '', tipo: 'Personal', condicion: '', descripcion: '', relacionFamiliar: '' })\n      setTimeout(() => setSuccess(false), 3000)\n    }, 1500)\n  }\n\n  return (\n    <Card className=\"border-none shadow-lg\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-12 w-12 rounded-lg bg-[#0B3861] flex items-center justify-center\">\n            <ClipboardList className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-2xl text-[#0B3861]\">Add Medical History</CardTitle>\n            <CardDescription>Record personal or family medical history</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {success && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"mb-6\"\n          >\n            <Alert className=\"border-[#2ECA77] bg-[#2ECA77]/10\">\n              <AlertCircle className=\"h-4 w-4 text-[#2ECA77]\" />\n              <AlertDescription className=\"text-[#2ECA77]\">\n                Medical history added successfully!\n              </AlertDescription>\n            </Alert>\n          </motion.div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"paciente\">Patient Address *</Label>\n            <Input\n              id=\"paciente\"\n              value={formData.paciente}\n              onChange={(e) => setFormData({ ...formData, paciente: e.target.value })}\n              placeholder=\"0x...\"\n              className=\"font-mono\"\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"tipo\">History Type *</Label>\n            <Select\n              value={formData.tipo}\n              onValueChange={(value) => setFormData({ ...formData, tipo: value })}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"Personal\">Personal History</SelectItem>\n                <SelectItem value=\"Familiar\">Family History</SelectItem>\n                <SelectItem value=\"Quirurgico\">Surgical History</SelectItem>\n                <SelectItem value=\"Alergias\">Allergies</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"condicion\">Condition / Event *</Label>\n            <Input\n              id=\"condicion\"\n              value={formData.condicion}\n              onChange={(e) => setFormData({ ...formData, condicion: e.target.value })}\n              placeholder=\"E.g.: Heart Disease, Surgery, Allergy to Penicillin\"\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"descripcion\">Description</Label>\n            <Textarea\n              id=\"descripcion\"\n              value={formData.descripcion}\n              onChange={(e) => setFormData({ ...formData, descripcion: e.target.value })}\n              placeholder=\"Additional details, dates, outcomes...\"\n              rows={4}\n            />\n          </div>\n\n          {formData.tipo === 'Familiar' && (\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"relacionFamiliar\">Family Relationship</Label>\n              <Input\n                id=\"relacionFamiliar\"\n                value={formData.relacionFamiliar}\n                onChange={(e) => setFormData({ ...formData, relacionFamiliar: e.target.value })}\n                placeholder=\"E.g.: Father, Mother, Sibling\"\n              />\n            </div>\n          )}\n\n          <Button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full bg-[#0B3861] hover:bg-[#1F4E6F] text-white py-6 text-lg shadow-lg transition-all hover:-translate-y-0.5\"\n          >\n            {isLoading ? (\n              <>\n                <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                Saving to Blockchain...\n              </>\n            ) : (\n              'Save Medical History'\n            )}\n          </Button>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5318, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/ui/progress.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,gNAAC,kMAAsB;QACrB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,gNAAC,uMAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE;KArBS"}},
    {"offset": {"line": 5362, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/BackupToFilecoin.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useAccount, useReadContract, useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport { Progress } from '@/components/ui/progress';\nimport {\n  Upload,\n  Download,\n  Shield,\n  Database,\n  CheckCircle2,\n  XCircle,\n  Loader2,\n  Info,\n  FileText,\n  Lock\n} from 'lucide-react';\nimport MedicalRecordsABI from '@/contracts/MedicalRecords.json';\nimport { contractAddress } from '@/config/wagmi';\n\ninterface UploadProgress {\n  stage: 'encrypting' | 'uploading' | 'storing' | 'complete';\n  percentage: number;\n  message: string;\n}\n\nexport default function BackupToFilecoin() {\n  const { address } = useAccount();\n\n  // Backup state\n  const [patientAddress, setPatientAddress] = useState('');\n  const [description, setDescription] = useState('');\n  const [uploadProgress, setUploadProgress] = useState<UploadProgress | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [resultCID, setResultCID] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // Smart contract hooks\n  const { writeContract, data: hash, isPending: isWritePending } = useWriteContract();\n  const { isLoading: isConfirming, isSuccess: isConfirmed } = useWaitForTransactionReceipt({\n    hash,\n  });\n\n  /**\n   * Backup patient record to Filecoin\n   * Uses the contract's encriptarRegistroPaciente function\n   */\n  const handleBackupToFilecoin = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!patientAddress || !description) {\n      setError('Please fill in all fields');\n      return;\n    }\n\n    setIsUploading(true);\n    setError(null);\n    setResultCID(null);\n\n    try {\n      // Stage 1: Encrypt patient data using Sapphire\n      setUploadProgress({\n        stage: 'encrypting',\n        percentage: 10,\n        message: 'Encrypting patient record with Sapphire TEE...',\n      });\n\n      // Call smart contract to encrypt patient data\n      // This happens on-chain in the TEE (Trusted Execution Environment)\n      const encryptResponse = await fetch('/api/encrypt-patient-record', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          patientAddress,\n          contractAddress,\n        }),\n      });\n\n      if (!encryptResponse.ok) {\n        throw new Error('Failed to encrypt patient record');\n      }\n\n      const { encryptedData, dataHash } = await encryptResponse.json();\n\n      setUploadProgress({\n        stage: 'encrypting',\n        percentage: 30,\n        message: 'Patient record encrypted successfully',\n      });\n\n      // Stage 2: Upload to Filecoin\n      setUploadProgress({\n        stage: 'uploading',\n        percentage: 40,\n        message: 'Uploading encrypted data to Filecoin...',\n      });\n\n      // Upload encrypted data to Filecoin\n      const cid = await uploadToFilecoin(encryptedData);\n\n      setUploadProgress({\n        stage: 'uploading',\n        percentage: 70,\n        message: `Uploaded to Filecoin. CID: ${cid}`,\n      });\n\n      // Stage 3: Store CID on blockchain\n      setUploadProgress({\n        stage: 'storing',\n        percentage: 80,\n        message: 'Storing CID on Sapphire blockchain...',\n      });\n\n      // Store CID in smart contract\n      writeContract({\n        address: contractAddress as `0x${string}`,\n        abi: MedicalRecordsABI.abi,\n        functionName: 'almacenarCIDFilecoin',\n        args: [patientAddress, cid, dataHash, description],\n      });\n\n      setResultCID(cid);\n\n      setUploadProgress({\n        stage: 'complete',\n        percentage: 100,\n        message: 'Patient record backup completed successfully!',\n      });\n\n    } catch (err: any) {\n      const errorMessage = err.message || 'Failed to backup patient record';\n      setError(errorMessage);\n      console.error('Backup error:', err);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Database className=\"h-5 w-5\" />\n            Backup Patient Record to Filecoin\n          </CardTitle>\n          <CardDescription>\n            Encrypt and store complete patient records on Filecoin using Sapphire TEE\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {/* Information Alert */}\n          <Alert>\n            <Info className=\"h-4 w-4\" />\n            <AlertTitle>How it works</AlertTitle>\n            <AlertDescription className=\"space-y-2\">\n              <p>1. <strong>Sapphire Encryption:</strong> Patient data is encrypted in the TEE (Trusted Execution Environment)</p>\n              <p>2. <strong>Filecoin Storage:</strong> Encrypted data is uploaded to decentralized storage</p>\n              <p>3. <strong>Blockchain Record:</strong> CID and hash are stored on Sapphire for verification</p>\n            </AlertDescription>\n          </Alert>\n\n          {/* Backup Form */}\n          <form onSubmit={handleBackupToFilecoin} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"patient\">Patient Address</Label>\n              <Input\n                id=\"patient\"\n                type=\"text\"\n                placeholder=\"0x...\"\n                value={patientAddress}\n                onChange={(e) => setPatientAddress(e.target.value)}\n                required\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Address of the patient whose complete record will be backed up\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Backup Description</Label>\n              <Textarea\n                id=\"description\"\n                placeholder=\"e.g., Full medical record backup - November 2025\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                rows={3}\n                required\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Brief description of this backup (stored on-chain)\n              </p>\n            </div>\n\n            {/* Progress */}\n            {uploadProgress && (\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"flex items-center gap-2\">\n                    {uploadProgress.stage === 'complete' ? (\n                      <CheckCircle2 className=\"h-4 w-4 text-green-500\" />\n                    ) : (\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    )}\n                    {uploadProgress.message}\n                  </span>\n                  <span>{uploadProgress.percentage}%</span>\n                </div>\n                <Progress value={uploadProgress.percentage} />\n              </div>\n            )}\n\n            {/* Result CID */}\n            {resultCID && (\n              <Alert>\n                <CheckCircle2 className=\"h-4 w-4\" />\n                <AlertTitle>Backup Successful!</AlertTitle>\n                <AlertDescription>\n                  <div className=\"mt-2 space-y-2\">\n                    <p className=\"font-mono text-xs break-all\">\n                      <strong>CID:</strong> {resultCID}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      This CID can be used to retrieve the encrypted patient record from Filecoin\n                    </p>\n                  </div>\n                </AlertDescription>\n              </Alert>\n            )}\n\n            {/* Error */}\n            {error && (\n              <Alert variant=\"destructive\">\n                <XCircle className=\"h-4 w-4\" />\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n\n            {/* Confirmation */}\n            {isConfirmed && (\n              <Alert>\n                <CheckCircle2 className=\"h-4 w-4\" />\n                <AlertDescription>\n                  CID stored on blockchain successfully!\n                </AlertDescription>\n              </Alert>\n            )}\n\n            <Button\n              type=\"submit\"\n              disabled={isUploading || isWritePending || isConfirming}\n              className=\"w-full\"\n            >\n              {isUploading || isWritePending || isConfirming ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  {isUploading ? 'Backing up...' : 'Confirming transaction...'}\n                </>\n              ) : (\n                <>\n                  <Upload className=\"mr-2 h-4 w-4\" />\n                  Backup to Filecoin\n                </>\n              )}\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* Technical Details */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-lg\">Technical Details</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-3 text-sm\">\n          <div className=\"flex items-start gap-2\">\n            <Shield className=\"h-4 w-4 mt-0.5 flex-shrink-0 text-blue-500\" />\n            <div>\n              <p className=\"font-semibold\">Sapphire Encryption</p>\n              <p className=\"text-muted-foreground\">\n                Uses Sapphire.encrypt() in the TEE to encrypt all patient data including:\n                affiliation, diseases, medical history\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-start gap-2\">\n            <Database className=\"h-4 w-4 mt-0.5 flex-shrink-0 text-green-500\" />\n            <div>\n              <p className=\"font-semibold\">Filecoin Storage</p>\n              <p className=\"text-muted-foreground\">\n                Encrypted data is stored on Filecoin, a decentralized storage network.\n                Only the CID is stored on-chain.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-start gap-2\">\n            <Lock className=\"h-4 w-4 mt-0.5 flex-shrink-0 text-purple-500\" />\n            <div>\n              <p className=\"font-semibold\">Data Integrity</p>\n              <p className=\"text-muted-foreground\">\n                SHA-256 hash is stored on-chain to verify data integrity when retrieving\n                from Filecoin\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-start gap-2\">\n            <FileText className=\"h-4 w-4 mt-0.5 flex-shrink-0 text-orange-500\" />\n            <div>\n              <p className=\"font-semibold\">Smart Contract Functions</p>\n              <p className=\"text-muted-foreground font-mono text-xs\">\n                encriptarRegistroPaciente() → almacenarCIDFilecoin()\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Development Mode Notice */}\n      <Alert>\n        <Info className=\"h-4 w-4\" />\n        <AlertTitle>Development Mode</AlertTitle>\n        <AlertDescription>\n          Currently using localStorage for Filecoin simulation. Set NEXT_PUBLIC_USE_SYNAPSE=true\n          for production Filecoin integration.\n        </AlertDescription>\n      </Alert>\n    </div>\n  );\n}\n\n/**\n * Upload encrypted data to Filecoin\n * In production, this would use Synapse SDK\n */\nasync function uploadToFilecoin(encryptedData: string): Promise<string> {\n  // Development mode: use localStorage\n  const useSynapse = process.env.NEXT_PUBLIC_USE_SYNAPSE === 'true';\n\n  if (useSynapse) {\n    // TODO: Implement real Synapse SDK upload\n    throw new Error('Synapse SDK not yet configured. See /lib/synapse.ts');\n  }\n\n  // Simulate upload to Filecoin\n  console.warn('Using localStorage for development. Set NEXT_PUBLIC_USE_SYNAPSE=true for production.');\n\n  // Generate deterministic CID from hash\n  const encoder = new TextEncoder();\n  const data = encoder.encode(encryptedData);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n\n  const mockCID = `bafybei${hashHex.substring(0, 52)}`;\n\n  // Store in localStorage for development\n  localStorage.setItem(`filecoin_patient_${mockCID}`, encryptedData);\n\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 2000));\n\n  console.log('Patient record uploaded to Filecoin (localStorage):', mockCID);\n  return mockCID;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6191, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/components/medical/DepositUSDFC.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useAccount } from 'wagmi'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\n\nexport function DepositUSDFC() {\n  const { address, isConnected } = useAccount()\n  const [amount, setAmount] = useState('0.1')\n  const [isDepositing, setIsDepositing] = useState(false)\n  const [status, setStatus] = useState<string>('')\n\n  const depositUSDFC = async () => {\n    if (!isConnected || !address) {\n      setStatus('❌ Please connect your wallet first')\n      return\n    }\n\n    try {\n      setIsDepositing(true)\n      setStatus('🔄 Switching to Filecoin Calibration network...')\n\n      // Switch to Filecoin Calibration\n      const FILECOIN_CALIBRATION_CHAIN_ID = '0x4cb2f' // 314159 in hex\n\n      try {\n        await window.ethereum?.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: FILECOIN_CALIBRATION_CHAIN_ID }],\n        })\n      } catch (switchError: any) {\n        if (switchError.code === 4902) {\n          await window.ethereum?.request({\n            method: 'wallet_addEthereumChain',\n            params: [\n              {\n                chainId: FILECOIN_CALIBRATION_CHAIN_ID,\n                chainName: 'Filecoin - Calibration testnet',\n                nativeCurrency: {\n                  name: 'tFIL',\n                  symbol: 'tFIL',\n                  decimals: 18,\n                },\n                rpcUrls: ['https://rpc.ankr.com/filecoin_testnet'],\n                blockExplorerUrls: ['https://calibration.filscan.io'],\n              },\n            ],\n          })\n        }\n      }\n\n      setStatus('🔄 Initializing Synapse SDK...')\n\n      // Import Synapse SDK\n      const { Synapse, RPC_URLS } = await import('@filoz/synapse-sdk')\n      const { BrowserProvider, parseUnits, MaxUint256 } = await import('ethers')\n\n      // Create provider and signer\n      const provider = new BrowserProvider(window.ethereum!)\n      const signer = await provider.getSigner()\n\n      // Initialize Synapse\n      const synapse = await Synapse.create({\n        signer,\n        rpcURL: RPC_URLS.calibration.http,\n      })\n\n      setStatus('💰 Depositing USDFC to Synapse...')\n\n      // Convert amount to wei (USDFC uses 18 decimals - standard ERC-20)\n      const depositAmount = parseUnits(amount, 18)\n\n      // Get Warm Storage address\n      const warmStorageAddress = synapse.getWarmStorageAddress()\n\n      console.log('Deposit details:', {\n        amount: depositAmount.toString(),\n        warmStorageAddress,\n        address,\n      })\n\n      // Deposit and approve in single transaction\n      const tx = await synapse.payments.depositWithPermitAndApproveOperator(\n        depositAmount,\n        warmStorageAddress,\n        MaxUint256,\n        MaxUint256,\n        30 * 2880 // EPOCHS_PER_MONTH (30 days)\n      )\n\n      setStatus('⏳ Waiting for transaction confirmation...')\n      await tx.wait()\n\n      setStatus(`✅ Successfully deposited ${amount} USDFC! You can now upload to Filecoin.`)\n    } catch (error: any) {\n      console.error('Deposit failed:', error)\n      setStatus(`❌ Error: ${error.message || 'Deposit failed'}`)\n    } finally {\n      setIsDepositing(false)\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Deposit USDFC for Filecoin Storage</CardTitle>\n        <CardDescription>\n          Deposit USDFC tokens to Synapse to pay for automatic Filecoin uploads\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\">Amount (USDFC)</label>\n          <Input\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0.06\"\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            placeholder=\"0.1\"\n            disabled={isDepositing}\n          />\n          <p className=\"text-xs text-muted-foreground\">\n            Minimum: 0.06 USDFC. Recommended: 0.1+ USDFC for multiple uploads.\n          </p>\n        </div>\n\n        <Button\n          onClick={depositUSDFC}\n          disabled={!isConnected || isDepositing}\n          className=\"w-full\"\n        >\n          {isDepositing ? 'Depositing...' : 'Deposit USDFC to Synapse'}\n        </Button>\n\n        {status && (\n          <div className={`text-sm p-3 rounded-md ${\n            status.includes('✅')\n              ? 'bg-green-50 text-green-900 dark:bg-green-900/20 dark:text-green-100'\n              : status.includes('❌')\n              ? 'bg-red-50 text-red-900 dark:bg-red-900/20 dark:text-red-100'\n              : 'bg-blue-50 text-blue-900 dark:bg-blue-900/20 dark:text-blue-100'\n          }`}>\n            {status}\n          </div>\n        )}\n\n        <div className=\"text-xs space-y-1 text-muted-foreground\">\n          <p><strong>What this does:</strong></p>\n          <ul className=\"list-disc list-inside space-y-1 ml-2\">\n            <li>Deposits USDFC into Synapse&apos;s payment contract on Filecoin</li>\n            <li>Approves Warm Storage service to use your deposited funds</li>\n            <li>Required for automatic Filecoin uploads when registering patients</li>\n            <li>You need tFIL in your wallet for gas fees</li>\n          </ul>\n        </div>\n\n        <div className=\"text-xs p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-md text-yellow-900 dark:text-yellow-100\">\n          <strong>Note:</strong> This will switch your wallet to Filecoin Calibration network temporarily.\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6481, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/CarlosIsraelJim%C3%A9nezJ/Documents/Apu02/medical-records-sapphire/front-doctor/app/main/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { useAccount, useDisconnect } from \"wagmi\"\nimport { useRouter } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport {\n  UserPlus,\n  Stethoscope,\n  ClipboardList,\n  FileHeart,\n  Eye,\n  Shield,\n  Lock,\n  LogOut,\n  Home,\n  Database\n} from \"lucide-react\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\n\n// Import components\nimport RegisterPatient from \"@/components/medical/RegisterPatient\"\nimport RegisterDoctor from \"@/components/medical/RegisterDoctor\"\nimport ViewRecords from \"@/components/medical/ViewRecords\"\nimport AddDisease from \"@/components/medical/AddDisease\"\nimport ManagePermissions from \"@/components/medical/ManagePermissions\"\nimport AddHistory from \"@/components/medical/AddHistory\"\nimport BackupToFilecoin from \"@/components/medical/BackupToFilecoin\"\nimport { DepositUSDFC } from \"@/components/medical/DepositUSDFC\"\nimport { useAutoFilecoinSync } from \"@/hooks/useAutoFilecoinSync\"\n\nexport default function MainPage() {\n  const [activeTab, setActiveTab] = useState(\"register\")\n  const { address, isConnected } = useAccount()\n  const { disconnect } = useDisconnect()\n  const router = useRouter()\n  const [isChecking, setIsChecking] = useState(true)\n\n  // 🚀 Auto-sync to Filecoin when patient data changes\n  useAutoFilecoinSync({\n    enabled: isConnected,\n    callerAddress: address, // Pass the connected wallet address for authorization\n    onSuccess: (cid) => {\n      console.log('✅ Automatic Filecoin sync successful:', cid)\n    },\n    onError: (error) => {\n      console.error('❌ Automatic Filecoin sync failed:', error)\n    },\n  })\n\n  // Redirect to connect-wallet if not connected (only once on mount)\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (!isConnected) {\n        router.push('/connect-wallet')\n      } else {\n        setIsChecking(false)\n      }\n    }, 500)\n    \n    return () => clearTimeout(timer)\n  }, [])\n\n  if (isChecking || !isConnected) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-white via-[#F8FBFC] to-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B3861] mx-auto\"></div>\n          <p className=\"mt-4 text-[#666666]\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  const walletAddress = address ? `${address.slice(0, 6)}...${address.slice(-4)}` : \"\"\n\n  const tabs = [\n    { id: \"register\", label: \"Register\", icon: UserPlus },\n    { id: \"diseases\", label: \"Diseases\", icon: Stethoscope },\n    { id: \"history\", label: \"History\", icon: ClipboardList },\n    { id: \"filecoin\", label: \"Filecoin Backup\", icon: Database },\n    { id: \"view\", label: \"View Records\", icon: Eye },\n    { id: \"permissions\", label: \"Permissions\", icon: Lock },\n  ]\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-white via-[#F8FBFC] to-white\">\n      {/* Header */}\n      <header className=\"sticky top-0 z-50 border-b border-[#0B3861]/10 bg-white/80 backdrop-blur-lg\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex h-20 items-center justify-between\">\n            <Link href=\"/\" className=\"flex items-center gap-3\">\n              <Image src=\"/logo.png\" alt=\"Hygiea MedGuard\" width={48} height={48} className=\"h-12 w-auto\" />\n              <div>\n                <span className=\"block text-2xl font-bold text-[#0B3861]\">Hygiea MedGuard</span>\n                <span className=\"block text-xs text-[#666666]\">Medical Records Dashboard</span>\n              </div>\n            </Link>\n\n            <div className=\"flex items-center gap-4\">\n              {/* Wallet Info */}\n              <div className=\"hidden sm:flex items-center gap-3 px-4 py-2 rounded-lg bg-[#F8FBFC] border border-[#0B3861]/10\">\n                <div className=\"h-2 w-2 rounded-full bg-[#2ECA77] animate-pulse\" />\n                <div className=\"text-sm\">\n                  <p className=\"text-xs text-[#666666]\">Connected</p>\n                  <p className=\"font-mono text-[#0B3861] font-semibold\">{walletAddress}</p>\n                </div>\n              </div>\n\n              <Link href=\"/\">\n                <Button variant=\"outline\" className=\"border-[#0B3861]/20 text-[#0B3861] hover:bg-[#0B3861] hover:text-white\">\n                  <Home className=\"mr-2 h-4 w-4\" />\n                  Home\n                </Button>\n              </Link>\n\n              <Button \n                variant=\"ghost\" \n                className=\"text-[#666666] hover:text-[#0B3861]\"\n                onClick={() => {\n                  disconnect()\n                  setTimeout(() => {\n                    router.push('/connect-wallet')\n                  }, 300)\n                }}\n              >\n                <LogOut className=\"h-5 w-5\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        {/* Welcome Banner */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"mb-8\"\n        >\n          <Card className=\"border-none shadow-lg bg-gradient-to-r from-[#0B3861] to-[#2B7A9B] text-white overflow-hidden relative\">\n            <div className=\"absolute top-0 right-0 opacity-10\">\n              <FileHeart className=\"h-48 w-48\" />\n            </div>\n            <CardHeader className=\"relative z-10\">\n              <CardTitle className=\"text-3xl\">Welcome to Your Medical Dashboard</CardTitle>\n              <CardDescription className=\"text-white/80 text-lg\">\n                Manage your medical records securely on the blockchain\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"relative z-10\">\n              <div className=\"flex gap-6 flex-wrap\">\n                <div className=\"flex items-center gap-2\">\n                  <Shield className=\"h-5 w-5 text-[#2ECA77]\" />\n                  <span className=\"text-sm\">Blockchain Secured</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Lock className=\"h-5 w-5 text-[#2ECA77]\" />\n                  <span className=\"text-sm\">End-to-End Encrypted</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Eye className=\"h-5 w-5 text-[#2ECA77]\" />\n                  <span className=\"text-sm\">You Control Access</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n\n        {/* Tabs Navigation */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n        >\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n            <TabsList className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 bg-transparent h-auto p-0\">\n              {tabs.map((tab) => {\n                const Icon = tab.icon\n                return (\n                  <TabsTrigger\n                    key={tab.id}\n                    value={tab.id}\n                    className=\"data-[state=active]:bg-[#0B3861] data-[state=active]:text-white bg-white border border-[#0B3861]/10 hover:border-[#2B7A9B] transition-all shadow-sm data-[state=active]:shadow-lg h-auto py-4\"\n                  >\n                    <Icon className=\"mr-2 h-4 w-4\" />\n                    {tab.label}\n                  </TabsTrigger>\n                )\n              })}\n            </TabsList>\n\n            <AnimatePresence mode=\"wait\">\n              <motion.div\n                key={activeTab}\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                transition={{ duration: 0.3 }}\n              >\n                <TabsContent value=\"register\" className=\"space-y-6 mt-0\">\n                  <RegisterPatient />\n                  <RegisterDoctor />\n                </TabsContent>\n\n                <TabsContent value=\"diseases\" className=\"mt-0\">\n                  <AddDisease />\n                </TabsContent>\n\n                <TabsContent value=\"history\" className=\"mt-0\">\n                  <AddHistory />\n                </TabsContent>\n\n                <TabsContent value=\"filecoin\" className=\"mt-0\">\n                  <div className=\"grid gap-6 md:grid-cols-2\">\n                    <DepositUSDFC />\n                    <BackupToFilecoin />\n                  </div>\n                </TabsContent>\n\n                <TabsContent value=\"view\" className=\"mt-0\">\n                  <ViewRecords />\n                </TabsContent>\n\n                <TabsContent value=\"permissions\" className=\"mt-0\">\n                  <ManagePermissions />\n                </TabsContent>\n              </motion.div>\n            </AnimatePresence>\n          </Tabs>\n        </motion.div>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"mt-16 border-t border-[#0B3861]/10 bg-white/50 backdrop-blur-sm\">\n        <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\n            <div className=\"flex items-center gap-2 text-sm text-[#666666]\">\n              <Shield className=\"h-4 w-4 text-[#2B7A9B]\" />\n              <span>All data is encrypted on Sapphire blockchain</span>\n            </div>\n            <div className=\"text-sm text-[#666666]\">\n              <span className=\"font-semibold text-[#0B3861]\">Sapphire Testnet</span>\n              <span className=\"mx-2\">•</span>\n              <a \n                href=\"https://explorer.oasis.io/testnet/sapphire\" \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"text-[#2B7A9B] hover:text-[#0B3861] underline\"\n              >\n                Explorer\n              </a>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}